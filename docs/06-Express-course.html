<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>06-Express-course.utf8</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { font-weight: bold; } /* Alert */
code span.an { font-style: italic; } /* Annotation */
code span.cf { font-weight: bold; } /* ControlFlow */
code span.co { font-style: italic; } /* Comment */
code span.cv { font-style: italic; } /* CommentVar */
code span.do { font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.er { font-weight: bold; } /* Error */
code span.in { font-style: italic; } /* Information */
code span.kw { font-weight: bold; } /* Keyword */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.wa { font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
#rmd-source-code {
  display: none;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">VAR models</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="01-Course-plan.html">
    <span class="fa fa-graduation-cap"></span>
     
    Course "plan"
  </a>
</li>
<li>
  <a href="02-Logistics.html">
    <span class="fa fa-laptop"></span>
     
    Logistics
  </a>
</li>
<li>
  <a href="03-Slides.html">
    <span class="fa fa-book"></span>
     
    Slides
  </a>
</li>
<li>
  <a href="04-Lab-Gali.html">
    <span class="fa fa-code"></span>
     
    Lab
  </a>
</li>
<li>
  <a href="05-Schedule.html">
    <span class="fa fa-calendar-alt"></span>
     
    Schedule
  </a>
</li>
<li>
  <a href="06-Express-course.html">
    <span class="fa fa-capsules"></span>
     
    Express-course
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-download"></span>
     
    MáS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">In Spanish</li>
    <li>
      <a href="tt_01_primeros-pasos-con-R.html">Primeros pasos con R</a>
    </li>
    <li>
      <a href="tt_02_Rmarkdown.html">Rmarkdown</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Help for your asignment</li>
    <li>
      <a href="to-download-your-data.html">To download your data</a>
    </li>
    <li>
      <a href="to-start-your-asignment.html">To start your asignment</a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>




</div>


<style>
div.blue { background-color:#e6f0ff; border-radius: 4px; padding: 13px;}
div.steel { background-color:#dece3c; border-radius: 4px; padding: 13px;}
2c67bf
</style>
<p><br><br><br></p>
<p>As finally, instead of 5 session we are going to have almost 3 sessions, then instead of a mini-course we are going to have a express-mini-course: a quick and <strong>dirty</strong> introduction to the basics of structural VAR models.</p>
<div id="intro." class="section level1">
<h1>0. Intro.</h1>
<p>Imagine you are a researcher, or better, imagine that you are the the Economy Minister of a European country, for instance Spain, and you need to know how your country is influenced by economic external forces. We are going to use an statistical approach to try to solve the problem.That is we are going to use a statistical model. But which one? VAR models of course, this is the subject of the mini-course.</p>
<p>OK, but the original question (“how your country is influenced by economic external forces?”) is too wide to be tractable. Let’s made the question more specific. We have heard that there exists an international cycle and an European cycle, then the question is how Spain reacts to the international and European cycle. What are their influence in the Spanish economy.</p>
<p>Even more precisely, we are going to try to answer two questions:</p>
<ol style="list-style-type: decimal">
<li><p>What will happen to Spanish economy if something positive (a positive shock) happens in the international cycle or in the European business cycle. (IRF)</p></li>
<li><p>What is the importance of international and European cycle in the Spanish economic fluctuations? (FEVD)</p></li>
</ol>
<p>OK, we are going to use statistical models, then we will need data. But wait, we already have data, last class we have downloaded some variables. We have downloaded from Eurostat a bunch of series. In particular we are going to use 3 series of “GDP volume” for USA, E15 and our country, in that case Spain.</p>
<br>
<div class="blue">
<p><strong>To think:</strong> we will use 3 variables. Are they enough to answer the question or we will need for variables/information?</p>
</div>
<p><br></p>
<p>We are going to use a statistical approach and we have 3 variables. We can think that the 3 variables are a system that influence each other. Changes in US (as a proxy of the international cycle) will impact Spain and Europe. Changes in Europe will also impact on the international economy and of course in the Spanish economy. That is, I think we should treat the 3 variables as endogenous.</p>
<p>Then … what type of statistical models we could use? For instance we could use “Simultaneous equations”. But wait, those systems were criticised by Sims in 1980 because they use that he called “incredible identification restrictions”.</p>
<p>OK, let’s follow Sims’s 1980 proposal and use VAR models. First, before to estimate the VAR model, we have to specify, to write it down.</p>
</div>
<div id="specification-estimation" class="section level1">
<h1>1. Specification &amp; estimation</h1>
<p>Well, a VAR model is really “easy” to specify. You only need to select a bunch of variables to answer your questions. We have already done that. We have selected 3 variables, and, following Sims’s proposal, we are going to:</p>
<blockquote>
<p>treat all variables as endogenous (and first estimate an unrestricted model in a reduced form). No prior knowledge is used except to decide which variables should enter the system.</p>
</blockquote>
<br>
<div class="blue">
<p><strong>To think:</strong> in the last sentence there is a tricky part “first estimate an unrestricted model in a reduced form”. Try to understand it. What does mean? It’s not easy if you don’t have the right background. We will try at class.</p>
</div>
<p><br></p>
<p>Our model is described by this set of equations:</p>
<p><span class="math display">\[\left\{ 
\begin{array}{c}
US_{t}= \beta US_{t-1} + \beta US_{t-2} +  \beta E15_{t-1} +  \beta E15_{t-2} +  \beta ES_{t-1} + \beta ES_{t-2} + v_{t}^{US}
\\ 
E15_{t}= \beta US_{t-1} + \beta US_{t-2} +  \beta E15_{t-1} +  \beta E15_{t-2} +  \beta ES_{t-1} + \beta ES_{t-2} + v_{t}^{E15}
\\ 
ES_{t}= \beta US_{t-1} + \beta US_{t-2} +  \beta E15_{t-1} +  \beta E15_{t-2} +  \beta ES_{t-1} + \beta ES_{t-2} + v_{t}^{ES}
\end{array}%
\right\} \]</span></p>
<p><br></p>
<p>But, it’s better to write the model in a more compact form:</p>
<p><span class="math display">\[y_{t}~=A_{1}y_{t-1}+A_{2}y_{t-2}+v_{t}\]</span></p>
<p>The model has only two lags, but in general the VAR would be:</p>
<p><span class="math display">\[y_{t}~=A_{1}y_{t-1}+A_{2}y_{t-2}+\ \ ...\ \
+A_{p}y_{t-p}+v_{t}\ \ \ \ \ \ \ \ \ \ [2]\]</span></p>
<p>Model <span class="math inline">\([2]\)</span> can be written using a polynomial in the lag operator as:</p>
<p><span class="math display">\[A(L)y_{t}=v_{t}\ \ \ \ \ \ \ \ \ \ [3]\]</span></p>
<p>with <span class="math inline">\(A(L)=(I_{K}-A_{1}L^{1}-A_{2}L^{2}-...-A_{p}L^{p})\)</span></p>
<p><br></p>
<p>OK, but there is something that we have to solve: we have to choose <strong>how many lags</strong> will have our model, 2, 3 , 4? OK, but this will be in a moment, first we have to talk a little about the estimation method we are going to use to estimate our model.</p>
<p>Well, you should know that, <strong>if the system is stationary</strong> then, as all the equations in the VAR share the same set of regressors and all of them are lagged variables, the VAR could be estimated efficiently by OLS for each equation separately.</p>
<p>BUT, be aware that, in order to estimate the system by OLS is crucial that the error terms (<span class="math inline">\(v_{t}\)</span>) should <strong>NOT to be autocorrelated</strong>.</p>
<p>Remember also that in the context of VAR methodology, usually the error terms (<span class="math inline">\(v_{t}\)</span>) are called <strong>innovations</strong>.</p>
<p>Besides that, if the innovations are normally distributed (Gaussian) then we could apply usual inference methods, like t-test.</p>
<br>
<div class="blue">
<p><strong>To think:</strong> VAR models assume <span class="math inline">\(v_{t}\rightarrow N(0,\Sigma _{v})\)</span>. Do you think there are contemporaneous correlation among the innovation? Do you think the innovations are autocorrelated? Be aware that they are completely different questions</p>
</div>
<p><br></p>
<p>In plain English: before to use a VAR models we have to check if the system of variables is stationary, then, as all of the regressors are in the past <span class="math inline">\(y_{t-k}\)</span>, they are “like-exogenous” variables and then we could estimate the parameters of the model by OLS, <strong>BUT</strong> remember that the <span class="math inline">\(v_{t}\)</span> should shown <strong>no autocorrelation</strong>; that is we should check, after estimation, that the model residuals <span class="math inline">\(\widehat{v}_{t}\)</span> shown NO-autocorrelation</p>
<p>Besides that, if the innovations <span class="math inline">\((v_{t})\)</span> follow a Gaussian distribution then we could use the usual inference methods. Then, we should check also,the normality of the residuals <span class="math inline">\((\widehat{v}_{t})\)</span>.</p>
<p><br></p>
<p>OK. <strong>Let’s practise this in R</strong>:</p>
<ul>
<li>First we have to load the packages:</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(<span class="st">&quot;forecast&quot;</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co">#library(&quot;dygraphs&quot;)</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">library</span>(<span class="st">&quot;vars&quot;</span>)         <span class="co">#- the package used to estimate VAR models</span></a></code></pre></div>
<ul>
<li>Second, we have to load and clean the data</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># load the data for Spain ---------------------------------------------------</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(here<span class="op">::</span><span class="kw">here</span>(<span class="st">&quot;datos&quot;</span>, <span class="st">&quot;my_data_ES.csv&quot;</span>))  <span class="co">#- You should load YOUR DATA</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#- we are going to use only 3/4 the variables: Vol, Vol_15, Vol_us &amp; time</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">data &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(time, Vol_us, Vol_<span class="dv">15</span>, Vol)</a></code></pre></div>
<ul>
<li>“Cleaning” the data</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co">#- some data munging to obtaining the common sample of the 3 variables ----------------------------------</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#- first getting rip off the NAs</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">data &lt;-<span class="st"> </span>data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">drop_na</span>() </a>
<a class="sourceLine" id="cb3-4" data-line-number="4"></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#- second, calculating the start and end of the common sample of my data:</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">data_tt &lt;-<span class="st"> </span>data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">time =</span> <span class="kw">as.character</span>(time)) <span class="op">%&gt;%</span><span class="st"> </span>tidyr<span class="op">::</span><span class="kw">separate</span>(time, <span class="kw">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;quarter&quot;</span>, <span class="st">&quot;day&quot;</span>),<span class="st">&quot;-&quot;</span>)</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">data_tt &lt;-<span class="st"> </span>data_tt <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">as.numeric</span>(year)) </a>
<a class="sourceLine" id="cb3-8" data-line-number="8">data_tt &lt;-<span class="st"> </span>data_tt <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">quarter=</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">                                       quarter  <span class="op">==</span><span class="st"> &quot;01&quot;</span>  <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">                                       quarter  <span class="op">==</span><span class="st"> &quot;04&quot;</span>  <span class="op">~</span><span class="st"> </span><span class="dv">2</span>,</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">                                       quarter  <span class="op">==</span><span class="st"> &quot;07&quot;</span>  <span class="op">~</span><span class="st"> </span><span class="dv">3</span>,</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">                                       quarter  <span class="op">==</span><span class="st"> &quot;10&quot;</span>  <span class="op">~</span><span class="st"> </span><span class="dv">4</span>))</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">start_year    &lt;-<span class="st"> </span>data_tt<span class="op">$</span>year[<span class="dv">1</span>] </a>
<a class="sourceLine" id="cb3-14" data-line-number="14">start_quarter &lt;-<span class="st"> </span>data_tt<span class="op">$</span>quarter[<span class="dv">1</span>] </a>
<a class="sourceLine" id="cb3-15" data-line-number="15">end_year      &lt;-<span class="st"> </span>data_tt<span class="op">$</span>year[<span class="kw">nrow</span>(data_tt)] </a>
<a class="sourceLine" id="cb3-16" data-line-number="16">end_quarter   &lt;-<span class="st"> </span>data_tt<span class="op">$</span>quarter[<span class="kw">nrow</span>(data_tt)] </a>
<a class="sourceLine" id="cb3-17" data-line-number="17">  </a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#- we don&#39;t need &quot;data_tt&quot; anymore</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="kw">rm</span>(data_tt)</a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co">#  creating the time series with ts(): -------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">Vol    &lt;-<span class="st"> </span><span class="kw">ts</span>(data<span class="op">$</span>Vol,    <span class="dt">start =</span> <span class="kw">c</span>(start_year, start_quarter) , <span class="dt">end =</span> <span class="kw">c</span>(end_year, end_quarter) , <span class="dt">frequency =</span> <span class="dv">4</span>)   </a>
<a class="sourceLine" id="cb4-3" data-line-number="3">Vol_<span class="dv">15</span> &lt;-<span class="st"> </span><span class="kw">ts</span>(data<span class="op">$</span>Vol_<span class="dv">15</span>, <span class="dt">start =</span> <span class="kw">c</span>(start_year, start_quarter) , <span class="dt">end =</span> <span class="kw">c</span>(end_year, end_quarter) , <span class="dt">frequency =</span> <span class="dv">4</span>)   </a>
<a class="sourceLine" id="cb4-4" data-line-number="4">Vol_us &lt;-<span class="st"> </span><span class="kw">ts</span>(data<span class="op">$</span>Vol_us, <span class="dt">start =</span> <span class="kw">c</span>(start_year, start_quarter) , <span class="dt">end =</span> <span class="kw">c</span>(end_year, end_quarter) , <span class="dt">frequency =</span> <span class="dv">4</span>)   </a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw">rm</span>(start_year, start_quarter, end_year, end_quarter)</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co"># taking logs of the series ------------------------</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8">lVol    &lt;-<span class="st"> </span><span class="kw">log</span>(Vol)</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">lVol_<span class="dv">15</span> &lt;-<span class="st"> </span><span class="kw">log</span>(Vol_<span class="dv">15</span>)</a>
<a class="sourceLine" id="cb4-10" data-line-number="10">lVol_us &lt;-<span class="st"> </span><span class="kw">log</span>(Vol_us)</a>
<a class="sourceLine" id="cb4-11" data-line-number="11"></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co"># taking first log differences --------------------------</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13">dlVol     &lt;-<span class="st"> </span><span class="kw">diff</span>(lVol,      <span class="dt">lag =</span> <span class="dv">1</span>, <span class="dt">difference =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-14" data-line-number="14">dlVol_<span class="dv">15</span>  &lt;-<span class="st"> </span><span class="kw">diff</span>(lVol_<span class="dv">15</span>,   <span class="dt">lag =</span> <span class="dv">1</span>, <span class="dt">difference =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-15" data-line-number="15">dlVol_us  &lt;-<span class="st"> </span><span class="kw">diff</span>(lVol_us,   <span class="dt">lag =</span> <span class="dv">1</span>, <span class="dt">difference =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-16" data-line-number="16"></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co"># putting our 3 variables in a vector</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19">variables &lt;-<span class="st"> </span><span class="kw">cbind</span>(dlVol_us, dlVol_<span class="dv">15</span>, dlVol)        <span class="co">#- Creating a matrix with the 3 series. The Ordering will be important</span></a></code></pre></div>
<p><br></p>
<ul>
<li>third, We start to specify/estimate our VAR</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># To estimate the VAR we are going to use the &quot;vars&quot; package</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co"># Internal help from the vars package</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="kw">help</span>(<span class="dt">package =</span> vars)           <span class="co">#- calling to the pkg help</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="kw">ls</span>(<span class="st">&quot;package:vars&quot;</span>, <span class="dt">all =</span> <span class="ot">TRUE</span>) <span class="co">#- all the objects, usually functions &amp; data in the &quot;vars&quot; package</span></a></code></pre></div>
<div id="a-checking-the-stationarity-of-the-variables" class="section level3">
<h3>1.a Checking the stationarity of the variables</h3>
<ul>
<li>Why we need to check the stationarity?</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">library</span>(forecast)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">ndiffs</span>(dlVol, <span class="dt">alpha =</span> <span class="fl">0.05</span>, <span class="dt">test =</span> <span class="kw">c</span>(<span class="st">&quot;kpss&quot;</span>, <span class="st">&quot;adf&quot;</span>, <span class="st">&quot;pp&quot;</span>), <span class="dt">max.d =</span> <span class="dv">2</span> )</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="kw">ndiffs</span>(dlVol_<span class="dv">15</span>, <span class="dt">alpha =</span> <span class="fl">0.05</span>, <span class="dt">test =</span> <span class="kw">c</span>(<span class="st">&quot;adf&quot;</span>), <span class="dt">max.d =</span> <span class="dv">2</span> )</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; [1] 0</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="kw">ndiffs</span>(dlVol_us, <span class="dt">alpha =</span> <span class="fl">0.05</span>, <span class="dt">test =</span> <span class="kw">c</span>(<span class="st">&quot;adf&quot;</span>), <span class="dt">max.d =</span> <span class="dv">2</span> )</a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; [1] 0</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>()[<span class="op">!</span><span class="kw">ls</span>() <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;variables&quot;</span>)])   <span class="co">#- removing all except what we need (&quot;data&quot; and &quot;variables&quot;)</span></a></code></pre></div>
<p>Are the variables stationay? Well ….</p>
</div>
<div id="b-how-many-lags" class="section level3">
<h3>1.b How many lags?</h3>
<p>We have to decide how may lags will our VAR have. There are two strategies:</p>
<pre><code>  - 1 Use information criteria methods      

  - 2 LR tests     </code></pre>
<ul>
<li><ol style="list-style-type: decimal">
<li>Using information criteria methods</li>
</ol></li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># HOW MANY LAGS in the VAR? What about the deterministic components of the VAR? -------------------</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co"># 1. with model selection criteria (AIC)</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="kw">VARselect</span>(variables, <span class="dt">lag.max =</span> <span class="dv">8</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>)</a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co">#&gt; $selection</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">#&gt; AIC(n)  HQ(n)  SC(n) FPE(n) </span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt;      2      1      1      2 </span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">#&gt; $criteria</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">#&gt;                                1                         2</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="co">#&gt; AIC(n) -33.305728111902794807975 -33.352926926086972514440</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co">#&gt; HQ(n)  -33.172148934769104755560 -33.119163366103016699071</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="co">#&gt; SC(n)  -32.974625759395074453550 -32.773497809198467223268</span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="co">#&gt; FPE(n)   0.000000000000003432258   0.000000000000003276458</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co">#&gt;                                3                         4</span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="co">#&gt; AIC(n) -33.345867499649152421171 -33.277951424741900154913</span></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"><span class="co">#&gt; HQ(n)  -33.011919556814930842847 -32.843819099057405708209</span></a>
<a class="sourceLine" id="cb8-18" data-line-number="18"><span class="co">#&gt; SC(n)  -32.518111618379862193251 -32.201868779091817884819</span></a>
<a class="sourceLine" id="cb8-19" data-line-number="19"><span class="co">#&gt; FPE(n)   0.000000000000003305482   0.000000000000003549222</span></a>
<a class="sourceLine" id="cb8-20" data-line-number="20"><span class="co">#&gt;                                5                         6</span></a>
<a class="sourceLine" id="cb8-21" data-line-number="21"><span class="co">#&gt; AIC(n) -33.160121939388801592941 -33.059315694202368263177</span></a>
<a class="sourceLine" id="cb8-22" data-line-number="22"><span class="co">#&gt; HQ(n)  -32.625805230854048488709 -32.424814602817349395991</span></a>
<a class="sourceLine" id="cb8-23" data-line-number="23"><span class="co">#&gt; SC(n)  -31.835712529357937938812 -31.486579519790716119587</span></a>
<a class="sourceLine" id="cb8-24" data-line-number="24"><span class="co">#&gt; FPE(n)   0.000000000000004013772   0.000000000000004473433</span></a>
<a class="sourceLine" id="cb8-25" data-line-number="25"><span class="co">#&gt;                                7                         8</span></a>
<a class="sourceLine" id="cb8-26" data-line-number="26"><span class="co">#&gt; AIC(n) -32.955850109227789346278 -32.973673180905286983489</span></a>
<a class="sourceLine" id="cb8-27" data-line-number="27"><span class="co">#&gt; HQ(n)  -32.221164634992504716138 -32.138803323819736590394</span></a>
<a class="sourceLine" id="cb8-28" data-line-number="28"><span class="co">#&gt; SC(n)  -31.134787170435352265940 -30.904283477732061413690</span></a>
<a class="sourceLine" id="cb8-29" data-line-number="29"><span class="co">#&gt; FPE(n)   0.000000000000005013934   0.000000000000004995602</span></a></code></pre></div>
<br>
<div class="blue">
<p><strong>To think:</strong> If we use the information criteria methods, How many lags we should use in our VAR?</p>
</div>
<p><br></p>
<ol start="2" style="list-style-type: decimal">
<li>(Selecting the VAR order) With a sequence of LR test</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># 2. with LR test </span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">var.m4 &lt;-<span class="st"> </span><span class="kw">VAR</span>(variables, <span class="dt">p =</span> <span class="dv">4</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>) </a>
<a class="sourceLine" id="cb9-3" data-line-number="3">var.m3 &lt;-<span class="st"> </span><span class="kw">VAR</span>(variables, <span class="dt">p =</span> <span class="dv">3</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>)   </a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="kw">lrtest</span>(var.m3, var.m4)  <span class="co">#- why doesn&#39;t work this test? Why doesn&#39;t run this chunk</span></a></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">var.m5 &lt;-<span class="st"> </span><span class="kw">VAR</span>(variables, <span class="dt">p =</span> <span class="dv">5</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>) </a>
<a class="sourceLine" id="cb10-2" data-line-number="2">variables2 &lt;-<span class="st"> </span>variables[<span class="op">-</span><span class="dv">1</span>,]</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">var.m4 &lt;-<span class="st"> </span><span class="kw">VAR</span>(variables2, <span class="dt">p =</span> <span class="dv">4</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>)   </a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="kw">lrtest</span>(var.m4, var.m5)   <span class="co">#- what we select 4 or 5 lags?</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">#&gt; Likelihood ratio test</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt; Model 1: VAR(y = variables2, p = 4, type = &quot;const&quot;)</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt; Model 2: VAR(y = variables, p = 5, type = &quot;const&quot;)</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt;   #Df LogLik Df Chisq Pr(&gt;Chisq)</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt; 1  39 1206.3                    </span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">#&gt; 2  48 1210.2  9  7.82     0.5524</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="kw">rm</span>(var.m4, var.m5, variables2) </a></code></pre></div>
<br>
<div class="blue">
<p><strong>To think:</strong> How many lags? five, four? 3?</p>
</div>
<p><br></p>
<p>Well, finally we are going to use ……. <strong>4</strong> lags. Why? Don’t think too much why. One part of the reason is because I like the 4’s. I will explain at class</p>
<p><br></p>
</div>
</div>
<div id="estimation-of-the-var" class="section level1">
<h1>2. Estimation of the VAR</h1>
<p>We could estimate the equations of the model by OLS with the function <code>lm()</code>, but it’s more convenient to use the function <code>VAR()</code> from the vars package</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># ESTIMATING the VAR.  Wchich estimation method? -------------------</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="kw">VAR</span>(variables, <span class="dt">p =</span> <span class="dv">4</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>) </a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt; VAR Estimation Results:</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt; ======================= </span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt; Estimated coefficients for equation dlVol_us: </span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt; ============================================= </span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt; Call:</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt; dlVol_us = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt;  dlVol_us.l1  dlVol_15.l1     dlVol.l1  dlVol_us.l2  dlVol_15.l2     dlVol.l2 </span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="co">#&gt;  0.140093381  0.295964967  0.143893073  0.139667150 -0.327344186  0.206879448 </span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="co">#&gt;  dlVol_us.l3  dlVol_15.l3     dlVol.l3  dlVol_us.l4  dlVol_15.l4     dlVol.l4 </span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co">#&gt;  0.163086359 -0.180943519 -0.136893996  0.124946814  0.076233386 -0.132598632 </span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="co">#&gt;        const </span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="co">#&gt;  0.002717087 </span></a>
<a class="sourceLine" id="cb11-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-20" data-line-number="20"><span class="co">#&gt; Estimated coefficients for equation dlVol_15: </span></a>
<a class="sourceLine" id="cb11-21" data-line-number="21"><span class="co">#&gt; ============================================= </span></a>
<a class="sourceLine" id="cb11-22" data-line-number="22"><span class="co">#&gt; Call:</span></a>
<a class="sourceLine" id="cb11-23" data-line-number="23"><span class="co">#&gt; dlVol_15 = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb11-24" data-line-number="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-25" data-line-number="25"><span class="co">#&gt;  dlVol_us.l1  dlVol_15.l1     dlVol.l1  dlVol_us.l2  dlVol_15.l2     dlVol.l2 </span></a>
<a class="sourceLine" id="cb11-26" data-line-number="26"><span class="co">#&gt;  0.312546349  0.295221509  0.267150050 -0.043354238  0.192629282 -0.335045789 </span></a>
<a class="sourceLine" id="cb11-27" data-line-number="27"><span class="co">#&gt;  dlVol_us.l3  dlVol_15.l3     dlVol.l3  dlVol_us.l4  dlVol_15.l4     dlVol.l4 </span></a>
<a class="sourceLine" id="cb11-28" data-line-number="28"><span class="co">#&gt;  0.033803245 -0.158348439  0.201270684  0.044236237 -0.220792252  0.097898876 </span></a>
<a class="sourceLine" id="cb11-29" data-line-number="29"><span class="co">#&gt;        const </span></a>
<a class="sourceLine" id="cb11-30" data-line-number="30"><span class="co">#&gt;  0.000303764 </span></a>
<a class="sourceLine" id="cb11-31" data-line-number="31"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-32" data-line-number="32"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-33" data-line-number="33"><span class="co">#&gt; Estimated coefficients for equation dlVol: </span></a>
<a class="sourceLine" id="cb11-34" data-line-number="34"><span class="co">#&gt; ========================================== </span></a>
<a class="sourceLine" id="cb11-35" data-line-number="35"><span class="co">#&gt; Call:</span></a>
<a class="sourceLine" id="cb11-36" data-line-number="36"><span class="co">#&gt; dlVol = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb11-37" data-line-number="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-38" data-line-number="38"><span class="co">#&gt;   dlVol_us.l1   dlVol_15.l1      dlVol.l1   dlVol_us.l2   dlVol_15.l2 </span></a>
<a class="sourceLine" id="cb11-39" data-line-number="39"><span class="co">#&gt;  0.2186416876  0.1671758970  0.4423969917 -0.0684337381 -0.0911756220 </span></a>
<a class="sourceLine" id="cb11-40" data-line-number="40"><span class="co">#&gt;      dlVol.l2   dlVol_us.l3   dlVol_15.l3      dlVol.l3   dlVol_us.l4 </span></a>
<a class="sourceLine" id="cb11-41" data-line-number="41"><span class="co">#&gt;  0.0387725148  0.0696371929 -0.3593828587  0.4065999884  0.1854258434 </span></a>
<a class="sourceLine" id="cb11-42" data-line-number="42"><span class="co">#&gt;   dlVol_15.l4      dlVol.l4         const </span></a>
<a class="sourceLine" id="cb11-43" data-line-number="43"><span class="co">#&gt; -0.2156336442  0.0908045089 -0.0003369354</span></a></code></pre></div>
<p><br></p>
<p>Let’s estimate again, but instead of showing the results, we are going to assign them to the <code>our_var</code> object:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">our_var &lt;-<span class="st"> </span><span class="kw">VAR</span>(variables, <span class="dt">p =</span> <span class="dv">4</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>)   <span class="co">#- saving the estimation results in the object &quot;our_var&quot;</span></a></code></pre></div>
<br>
<div class="blue">
<p><strong>To DO:</strong> please take a look at the “our_var” object. What it is? What it contains?</p>
</div>
<p><br></p>
<p>In fact, now you can check if our estimated VAR model is stable:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co">#------ Checking stability(eigenvalues of the companion coefficient matrix must have modulus less than 1)</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="kw">roots</span>(our_var, <span class="dt">modulus=</span><span class="ot">TRUE</span>) <span class="co">#- Returns a vector with the eigenvalues</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co">#&gt;  [1] 0.8642010 0.8642010 0.7348085 0.7348085 0.7241211 0.7241211 0.6111380</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#&gt;  [8] 0.6111380 0.5042838 0.5042838 0.3834947 0.3834947</span></a></code></pre></div>
<p>Let’s look at the estimation results in two different ways, using two functions of the <code>vars</code>package:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># LOOKING at the results of the estimated VAR ----------------</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="kw">summary</span>(our_var)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="co">#&gt; VAR Estimation Results:</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="co">#&gt; ========================= </span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="co">#&gt; Endogenous variables: dlVol_us, dlVol_15, dlVol </span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="co">#&gt; Deterministic variables: const </span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="co">#&gt; Sample size: 95 </span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="co">#&gt; Log Likelihood: 1218.92 </span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="co">#&gt; Roots of the characteristic polynomial:</span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="co">#&gt; 0.8642 0.8642 0.7348 0.7348 0.7241 0.7241 0.6111 0.6111 0.5043 0.5043 0.3835 0.3835</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="co">#&gt; Call:</span></a>
<a class="sourceLine" id="cb14-13" data-line-number="13"><span class="co">#&gt; VAR(y = variables, p = 4, type = &quot;const&quot;)</span></a>
<a class="sourceLine" id="cb14-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-15" data-line-number="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-16" data-line-number="16"><span class="co">#&gt; Estimation results for equation dlVol_us: </span></a>
<a class="sourceLine" id="cb14-17" data-line-number="17"><span class="co">#&gt; ========================================= </span></a>
<a class="sourceLine" id="cb14-18" data-line-number="18"><span class="co">#&gt; dlVol_us = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb14-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-20" data-line-number="20"><span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)   </span></a>
<a class="sourceLine" id="cb14-21" data-line-number="21"><span class="co">#&gt; dlVol_us.l1  0.140093   0.121641   1.152   0.2528   </span></a>
<a class="sourceLine" id="cb14-22" data-line-number="22"><span class="co">#&gt; dlVol_15.l1  0.295965   0.220481   1.342   0.1832   </span></a>
<a class="sourceLine" id="cb14-23" data-line-number="23"><span class="co">#&gt; dlVol.l1     0.143893   0.222556   0.647   0.5197   </span></a>
<a class="sourceLine" id="cb14-24" data-line-number="24"><span class="co">#&gt; dlVol_us.l2  0.139667   0.126960   1.100   0.2745   </span></a>
<a class="sourceLine" id="cb14-25" data-line-number="25"><span class="co">#&gt; dlVol_15.l2 -0.327344   0.225351  -1.453   0.1502   </span></a>
<a class="sourceLine" id="cb14-26" data-line-number="26"><span class="co">#&gt; dlVol.l2     0.206879   0.224822   0.920   0.3602   </span></a>
<a class="sourceLine" id="cb14-27" data-line-number="27"><span class="co">#&gt; dlVol_us.l3  0.163086   0.127043   1.284   0.2029   </span></a>
<a class="sourceLine" id="cb14-28" data-line-number="28"><span class="co">#&gt; dlVol_15.l3 -0.180944   0.221553  -0.817   0.4165   </span></a>
<a class="sourceLine" id="cb14-29" data-line-number="29"><span class="co">#&gt; dlVol.l3    -0.136894   0.232695  -0.588   0.5579   </span></a>
<a class="sourceLine" id="cb14-30" data-line-number="30"><span class="co">#&gt; dlVol_us.l4  0.124947   0.126970   0.984   0.3280   </span></a>
<a class="sourceLine" id="cb14-31" data-line-number="31"><span class="co">#&gt; dlVol_15.l4  0.076233   0.210008   0.363   0.7175   </span></a>
<a class="sourceLine" id="cb14-32" data-line-number="32"><span class="co">#&gt; dlVol.l4    -0.132599   0.228841  -0.579   0.5639   </span></a>
<a class="sourceLine" id="cb14-33" data-line-number="33"><span class="co">#&gt; const        0.002717   0.001020   2.664   0.0093 **</span></a>
<a class="sourceLine" id="cb14-34" data-line-number="34"><span class="co">#&gt; ---</span></a>
<a class="sourceLine" id="cb14-35" data-line-number="35"><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></a>
<a class="sourceLine" id="cb14-36" data-line-number="36"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-37" data-line-number="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-38" data-line-number="38"><span class="co">#&gt; Residual standard error: 0.005333 on 82 degrees of freedom</span></a>
<a class="sourceLine" id="cb14-39" data-line-number="39"><span class="co">#&gt; Multiple R-Squared: 0.2971,  Adjusted R-squared: 0.1943 </span></a>
<a class="sourceLine" id="cb14-40" data-line-number="40"><span class="co">#&gt; F-statistic: 2.889 on 12 and 82 DF,  p-value: 0.002265 </span></a>
<a class="sourceLine" id="cb14-41" data-line-number="41"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-42" data-line-number="42"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-43" data-line-number="43"><span class="co">#&gt; Estimation results for equation dlVol_15: </span></a>
<a class="sourceLine" id="cb14-44" data-line-number="44"><span class="co">#&gt; ========================================= </span></a>
<a class="sourceLine" id="cb14-45" data-line-number="45"><span class="co">#&gt; dlVol_15 = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb14-46" data-line-number="46"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-47" data-line-number="47"><span class="co">#&gt;               Estimate Std. Error t value Pr(&gt;|t|)    </span></a>
<a class="sourceLine" id="cb14-48" data-line-number="48"><span class="co">#&gt; dlVol_us.l1  0.3125463  0.0876809   3.565 0.000611 ***</span></a>
<a class="sourceLine" id="cb14-49" data-line-number="49"><span class="co">#&gt; dlVol_15.l1  0.2952215  0.1589262   1.858 0.066815 .  </span></a>
<a class="sourceLine" id="cb14-50" data-line-number="50"><span class="co">#&gt; dlVol.l1     0.2671500  0.1604216   1.665 0.099669 .  </span></a>
<a class="sourceLine" id="cb14-51" data-line-number="51"><span class="co">#&gt; dlVol_us.l2 -0.0433542  0.0915145  -0.474 0.636943    </span></a>
<a class="sourceLine" id="cb14-52" data-line-number="52"><span class="co">#&gt; dlVol_15.l2  0.1926293  0.1624364   1.186 0.239097    </span></a>
<a class="sourceLine" id="cb14-53" data-line-number="53"><span class="co">#&gt; dlVol.l2    -0.3350458  0.1620552  -2.067 0.041842 *  </span></a>
<a class="sourceLine" id="cb14-54" data-line-number="54"><span class="co">#&gt; dlVol_us.l3  0.0338032  0.0915744   0.369 0.712979    </span></a>
<a class="sourceLine" id="cb14-55" data-line-number="55"><span class="co">#&gt; dlVol_15.l3 -0.1583484  0.1596991  -0.992 0.324338    </span></a>
<a class="sourceLine" id="cb14-56" data-line-number="56"><span class="co">#&gt; dlVol.l3     0.2012707  0.1677301   1.200 0.233607    </span></a>
<a class="sourceLine" id="cb14-57" data-line-number="57"><span class="co">#&gt; dlVol_us.l4  0.0442362  0.0915217   0.483 0.630141    </span></a>
<a class="sourceLine" id="cb14-58" data-line-number="58"><span class="co">#&gt; dlVol_15.l4 -0.2207923  0.1513774  -1.459 0.148507    </span></a>
<a class="sourceLine" id="cb14-59" data-line-number="59"><span class="co">#&gt; dlVol.l4     0.0978989  0.1649520   0.593 0.554481    </span></a>
<a class="sourceLine" id="cb14-60" data-line-number="60"><span class="co">#&gt; const        0.0003038  0.0007352   0.413 0.680573    </span></a>
<a class="sourceLine" id="cb14-61" data-line-number="61"><span class="co">#&gt; ---</span></a>
<a class="sourceLine" id="cb14-62" data-line-number="62"><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></a>
<a class="sourceLine" id="cb14-63" data-line-number="63"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-64" data-line-number="64"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-65" data-line-number="65"><span class="co">#&gt; Residual standard error: 0.003844 on 82 degrees of freedom</span></a>
<a class="sourceLine" id="cb14-66" data-line-number="66"><span class="co">#&gt; Multiple R-Squared: 0.5715,  Adjusted R-squared: 0.5088 </span></a>
<a class="sourceLine" id="cb14-67" data-line-number="67"><span class="co">#&gt; F-statistic: 9.114 on 12 and 82 DF,  p-value: 0.00000000007436 </span></a>
<a class="sourceLine" id="cb14-68" data-line-number="68"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-69" data-line-number="69"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-70" data-line-number="70"><span class="co">#&gt; Estimation results for equation dlVol: </span></a>
<a class="sourceLine" id="cb14-71" data-line-number="71"><span class="co">#&gt; ====================================== </span></a>
<a class="sourceLine" id="cb14-72" data-line-number="72"><span class="co">#&gt; dlVol = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb14-73" data-line-number="73"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-74" data-line-number="74"><span class="co">#&gt;               Estimate Std. Error t value Pr(&gt;|t|)   </span></a>
<a class="sourceLine" id="cb14-75" data-line-number="75"><span class="co">#&gt; dlVol_us.l1  0.2186417  0.0842222   2.596  0.01117 * </span></a>
<a class="sourceLine" id="cb14-76" data-line-number="76"><span class="co">#&gt; dlVol_15.l1  0.1671759  0.1526571   1.095  0.27668   </span></a>
<a class="sourceLine" id="cb14-77" data-line-number="77"><span class="co">#&gt; dlVol.l1     0.4423970  0.1540936   2.871  0.00521 **</span></a>
<a class="sourceLine" id="cb14-78" data-line-number="78"><span class="co">#&gt; dlVol_us.l2 -0.0684337  0.0879046  -0.779  0.43851   </span></a>
<a class="sourceLine" id="cb14-79" data-line-number="79"><span class="co">#&gt; dlVol_15.l2 -0.0911756  0.1560289  -0.584  0.56059   </span></a>
<a class="sourceLine" id="cb14-80" data-line-number="80"><span class="co">#&gt; dlVol.l2     0.0387725  0.1556627   0.249  0.80392   </span></a>
<a class="sourceLine" id="cb14-81" data-line-number="81"><span class="co">#&gt; dlVol_us.l3  0.0696372  0.0879621   0.792  0.43084   </span></a>
<a class="sourceLine" id="cb14-82" data-line-number="82"><span class="co">#&gt; dlVol_15.l3 -0.3593829  0.1533996  -2.343  0.02156 * </span></a>
<a class="sourceLine" id="cb14-83" data-line-number="83"><span class="co">#&gt; dlVol.l3     0.4066000  0.1611137   2.524  0.01354 * </span></a>
<a class="sourceLine" id="cb14-84" data-line-number="84"><span class="co">#&gt; dlVol_us.l4  0.1854258  0.0879115   2.109  0.03797 * </span></a>
<a class="sourceLine" id="cb14-85" data-line-number="85"><span class="co">#&gt; dlVol_15.l4 -0.2156336  0.1454061  -1.483  0.14191   </span></a>
<a class="sourceLine" id="cb14-86" data-line-number="86"><span class="co">#&gt; dlVol.l4     0.0908045  0.1584452   0.573  0.56815   </span></a>
<a class="sourceLine" id="cb14-87" data-line-number="87"><span class="co">#&gt; const       -0.0003369  0.0007062  -0.477  0.63457   </span></a>
<a class="sourceLine" id="cb14-88" data-line-number="88"><span class="co">#&gt; ---</span></a>
<a class="sourceLine" id="cb14-89" data-line-number="89"><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></a>
<a class="sourceLine" id="cb14-90" data-line-number="90"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-91" data-line-number="91"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-92" data-line-number="92"><span class="co">#&gt; Residual standard error: 0.003693 on 82 degrees of freedom</span></a>
<a class="sourceLine" id="cb14-93" data-line-number="93"><span class="co">#&gt; Multiple R-Squared: 0.7331,  Adjusted R-squared: 0.6941 </span></a>
<a class="sourceLine" id="cb14-94" data-line-number="94"><span class="co">#&gt; F-statistic: 18.77 on 12 and 82 DF,  p-value: &lt; 0.00000000000000022 </span></a>
<a class="sourceLine" id="cb14-95" data-line-number="95"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-96" data-line-number="96"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-97" data-line-number="97"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-98" data-line-number="98"><span class="co">#&gt; Covariance matrix of residuals:</span></a>
<a class="sourceLine" id="cb14-99" data-line-number="99"><span class="co">#&gt;             dlVol_us   dlVol_15       dlVol</span></a>
<a class="sourceLine" id="cb14-100" data-line-number="100"><span class="co">#&gt; dlVol_us 0.000028443 0.00000884 0.000007696</span></a>
<a class="sourceLine" id="cb14-101" data-line-number="101"><span class="co">#&gt; dlVol_15 0.000008840 0.00001478 0.000010160</span></a>
<a class="sourceLine" id="cb14-102" data-line-number="102"><span class="co">#&gt; dlVol    0.000007696 0.00001016 0.000013636</span></a>
<a class="sourceLine" id="cb14-103" data-line-number="103"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-104" data-line-number="104"><span class="co">#&gt; Correlation matrix of residuals:</span></a>
<a class="sourceLine" id="cb14-105" data-line-number="105"><span class="co">#&gt;          dlVol_us dlVol_15  dlVol</span></a>
<a class="sourceLine" id="cb14-106" data-line-number="106"><span class="co">#&gt; dlVol_us   1.0000   0.4312 0.3908</span></a>
<a class="sourceLine" id="cb14-107" data-line-number="107"><span class="co">#&gt; dlVol_15   0.4312   1.0000 0.7157</span></a>
<a class="sourceLine" id="cb14-108" data-line-number="108"><span class="co">#&gt; dlVol      0.3908   0.7157 1.0000</span></a></code></pre></div>
<br>
<div class="blue">
<p><strong>To DO:</strong> Please take a look at the results. Please have another more close look at the Covariance matrix of residuals. <strong>The residuals are contemponaeously correlated?</strong> They are autocorrelated?</p>
</div>
<p><br></p>
<p><br></p>
<p>Another look at the results of the VAR estimation, now using the <code>Acoef()</code>function of the <code>vars</code> package:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="co">#------ shows the A estimated matrices. Be aware that they are the same results</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="kw">Acoef</span>(our_var)   </a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">#&gt;          dlVol_us.l1 dlVol_15.l1  dlVol.l1</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#&gt; dlVol_us   0.1400934   0.2959650 0.1438931</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt; dlVol_15   0.3125463   0.2952215 0.2671500</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt; dlVol      0.2186417   0.1671759 0.4423970</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">#&gt;          dlVol_us.l2 dlVol_15.l2    dlVol.l2</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt; dlVol_us  0.13966715 -0.32734419  0.20687945</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt; dlVol_15 -0.04335424  0.19262928 -0.33504579</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt; dlVol    -0.06843374 -0.09117562  0.03877251</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt; [[3]]</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt;          dlVol_us.l3 dlVol_15.l3   dlVol.l3</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt; dlVol_us  0.16308636  -0.1809435 -0.1368940</span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt; dlVol_15  0.03380325  -0.1583484  0.2012707</span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="co">#&gt; dlVol     0.06963719  -0.3593829  0.4066000</span></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-21" data-line-number="21"><span class="co">#&gt; [[4]]</span></a>
<a class="sourceLine" id="cb15-22" data-line-number="22"><span class="co">#&gt;          dlVol_us.l4 dlVol_15.l4    dlVol.l4</span></a>
<a class="sourceLine" id="cb15-23" data-line-number="23"><span class="co">#&gt; dlVol_us  0.12494681  0.07623339 -0.13259863</span></a>
<a class="sourceLine" id="cb15-24" data-line-number="24"><span class="co">#&gt; dlVol_15  0.04423624 -0.22079225  0.09789888</span></a>
<a class="sourceLine" id="cb15-25" data-line-number="25"><span class="co">#&gt; dlVol     0.18542584 -0.21563364  0.09080451</span></a></code></pre></div>
<br>
<div class="blue">
<p><strong>To Think:</strong> What are this results? Are the same results previously seen or are other results? Why we need this matrices?. (the first two questions are obvious, but not the third)</p>
</div>
<p><br></p>
<p>Before to use our estimated VAR we should check if the residuals are correlated (autocorrelation)</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">serial.test</span>(our_var, <span class="dt">lags.pt =</span> <span class="dv">8</span> )  <span class="co">#-- 8 lags for autocorrelation portmanteau test</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co">#&gt;  Portmanteau Test (asymptotic)</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="co">#&gt; data:  Residuals of VAR object our_var</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="co">#&gt; Chi-squared = 43.881, df = 36, p-value = 0.1721</span></a></code></pre></div>
<p>We have to check also for Normality of residuals.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">normality.test</span>(our_var, <span class="dt">multivariate.only=</span><span class="ot">FALSE</span>)   <span class="co">#-- Normality test</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">#&gt; $dlVol_us</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="co">#&gt;  JB-Test (univariate)</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">#&gt; data:  Residual of dlVol_us equation</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="co">#&gt; Chi-squared = 31.878, df = 2, p-value = 0.0000001196</span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="co">#&gt; $dlVol_15</span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="co">#&gt;  JB-Test (univariate)</span></a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-14" data-line-number="14"><span class="co">#&gt; data:  Residual of dlVol_15 equation</span></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="co">#&gt; Chi-squared = 39.913, df = 2, p-value = 0.000000002153</span></a>
<a class="sourceLine" id="cb17-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="co">#&gt; $dlVol</span></a>
<a class="sourceLine" id="cb17-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-20" data-line-number="20"><span class="co">#&gt;  JB-Test (univariate)</span></a>
<a class="sourceLine" id="cb17-21" data-line-number="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-22" data-line-number="22"><span class="co">#&gt; data:  Residual of dlVol equation</span></a>
<a class="sourceLine" id="cb17-23" data-line-number="23"><span class="co">#&gt; Chi-squared = 84.98, df = 2, p-value &lt; 0.00000000000000022</span></a>
<a class="sourceLine" id="cb17-24" data-line-number="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-25" data-line-number="25"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-26" data-line-number="26"><span class="co">#&gt; $JB</span></a>
<a class="sourceLine" id="cb17-27" data-line-number="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-28" data-line-number="28"><span class="co">#&gt;  JB-Test (multivariate)</span></a>
<a class="sourceLine" id="cb17-29" data-line-number="29"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-30" data-line-number="30"><span class="co">#&gt; data:  Residuals of VAR object our_var</span></a>
<a class="sourceLine" id="cb17-31" data-line-number="31"><span class="co">#&gt; Chi-squared = 38.903, df = 6, p-value = 0.0000007478</span></a>
<a class="sourceLine" id="cb17-32" data-line-number="32"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-33" data-line-number="33"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-34" data-line-number="34"><span class="co">#&gt; $Skewness</span></a>
<a class="sourceLine" id="cb17-35" data-line-number="35"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-36" data-line-number="36"><span class="co">#&gt;  Skewness only (multivariate)</span></a>
<a class="sourceLine" id="cb17-37" data-line-number="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-38" data-line-number="38"><span class="co">#&gt; data:  Residuals of VAR object our_var</span></a>
<a class="sourceLine" id="cb17-39" data-line-number="39"><span class="co">#&gt; Chi-squared = 6.5491, df = 3, p-value = 0.08775</span></a>
<a class="sourceLine" id="cb17-40" data-line-number="40"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-41" data-line-number="41"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-42" data-line-number="42"><span class="co">#&gt; $Kurtosis</span></a>
<a class="sourceLine" id="cb17-43" data-line-number="43"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-44" data-line-number="44"><span class="co">#&gt;  Kurtosis only (multivariate)</span></a>
<a class="sourceLine" id="cb17-45" data-line-number="45"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-46" data-line-number="46"><span class="co">#&gt; data:  Residuals of VAR object our_var</span></a>
<a class="sourceLine" id="cb17-47" data-line-number="47"><span class="co">#&gt; Chi-squared = 32.354, df = 3, p-value = 0.0000004408</span></a></code></pre></div>
<p>OK, more or less, our estimated VAR model is “valid”, then we could now use our estimated VAR to perform some task,for instance to test for Granger causality or for forecasting:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="co">#------ We can test Granger causality</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw">causality</span>(our_var, <span class="dt">cause =</span> <span class="kw">c</span>(<span class="st">&quot;dlVol&quot;</span>))      <span class="co">#- dlVol Granger-cause the other(s) variables?</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="kw">causality</span>(our_var, <span class="dt">cause =</span> <span class="kw">c</span>(<span class="st">&quot;dlVol_15&quot;</span>))   <span class="co">#- dlVol_15 Granger-cause the other(s) variables?</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="kw">causality</span>(our_var, <span class="dt">cause =</span> <span class="kw">c</span>(<span class="st">&quot;dlVol_us&quot;</span>))   <span class="co">#- dlVol_15 Granger-cause the other(s) variables?</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="co">#------ We can use the VAR for forecasting</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="kw">predict</span>(our_var, <span class="dt">n.ahead =</span> <span class="dv">3</span>)  </a>
<a class="sourceLine" id="cb18-8" data-line-number="8"><span class="kw">fanchart</span>(<span class="kw">predict</span>(our_var))</a></code></pre></div>
<p>But our objective is not to forecast, it’s in some way related, but in reallity is a little bite different.</p>
</div>
<div id="obtaining-the-vma-representation" class="section level1">
<h1>3. Obtaining the VMA representation</h1>
<p>OK. We have estimated a VAR model …. BUT we have not answered the two questions we want to ask:</p>
<ol style="list-style-type: decimal">
<li><p>What is the response of the Spanish economy to a shock in the international cycle or in the European business cycle. (IRF)</p></li>
<li><p>What is the importance of international and European cycle in the Spanish economic fluctuations? (FEVD)</p></li>
</ol>
<p><br></p>
<p>In order to answer those questions we need to work a little bite more. First we have to obtain the VMA representation of our VAR model. That is, we have to “invert” our model. How and why? The idea is the same that Mariam explained to you, something like:</p>
<blockquote>
<p>every stationary AR process have a MA representation</p>
</blockquote>
<p>As we are now with VAR (vectorial-AR) we would obtain a vectorial-MA (VMA), but the idea is the same. Let’s do it (by hand) for a VAR with only 1 lag:</p>
<p><img src="imagenes/01-horizontal-a.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>Finally we have that our vector of variables <span class="math inline">\(y_{t}\)</span> as a function of the innovations in <span class="math inline">\(t\)</span>, in <span class="math inline">\(t-1\)</span>, <span class="math inline">\(t-2\)</span> …. This is the VMA representation. The variables in function of actual and past values of innovations (<span class="math inline">\(v_{t}\)</span>).</p>
<p>Usually we rename the matrices to call them <span class="math inline">\(C_{i}\)</span> and the VMA that you see in papers and books usually is written like:</p>
<p><span class="math display">\[y_{t}~=C_{0}v_{t}+C_{1}v_{t-1}+C_{2}v_{t-2}+\ ...\  [3]\]</span></p>
<p>being <span class="math inline">\(C_{0}=I_{K}\)</span>, the rest of the <span class="math inline">\(C_{i}\)</span> are computed recursively from the VAR representation , that is they are function of the <span class="math inline">\(A_{i}\)</span> matrices.</p>
<p>As with the VAR, model <span class="math inline">\([3]\)</span> can be written using a polynomial in the lag operator as:</p>
<p><span class="math display">\[y_{t}=C(L)v_{t}\ \ \ \ \ \ \ \ \ \ \ \ [4]\]</span></p>
<p>being <span class="math inline">\(C(L)=(I_{K}+C_{1}L^{1}+C_{2}L^{2}+\ \ ...)\)</span>.</p>
<p>OK, but why we need this new representation of our system <span class="math inline">\(y_{t}\)</span>. For different reason, but in the context of VAR models, because the VMA representation, that is, the sequence of <span class="math inline">\(C_{i}\)</span> matrices provide the IRF<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, that is, this sequence of <span class="math inline">\(C_{i}\)</span> provide the answer to our first question.</p>
<p>For instance, in our example, Imagine that:</p>
<p><span class="math display">\[y_{t}=\left[ 
\begin{array}{c}
USA_{t} \\ 
U15_{t} \\ 
ESP_{t}%
\end{array}%
\right] \ \ \ \ v_{t}=\left[ 
\begin{array}{c}
v_{t}^{USA} \\ 
v_{t}^{E15} \\ 
v_{t}^{ESP}%
\end{array}%
\right] \]</span></p>
<p><span class="math display">\[y_{t}~=C_{0}v_{t}+C_{1}v_{t-1}+C_{2}v_{t-2}+C_{3}v_{t-3}+C_{4}v_{t-4}+...\]</span></p>
<p><span class="math display">\[y_{t}~=\left[ 
\begin{array}{cc}
1.0 &amp; 0.0 &amp; 0.0 \\
0.0 &amp; 1.0 &amp; 0.0 \\
0.0 &amp; 0.0 &amp; 1.0%
\end{array}%
\right] v_{t}+\left[
\begin{array}{cc}
1.1 &amp; 1.2 &amp; 1.3 \\ 
1.4 &amp; 1.5 &amp; 1.6 \\
1.7 &amp; 1.8 &amp; 1.9%
\end{array}%
\right] v_{t-1}+\left[
\begin{array}{cc}
2.1 &amp; 2.2 &amp; 2.3 \\ 
2.4 &amp; 2.5 &amp; 2.6 \\
2.7 &amp; 2.8 &amp; 2.9%
\end{array}%
\right] v_{t-2}+\left[
\begin{array}{cc}
3.1 &amp; 3.2 &amp; 3.3 \\ 
3.4 &amp; 3.5 &amp; 3.6 \\
3.7 &amp; 3.8 &amp; 3.9%
\end{array}%
\right] v_{t-3}+...\]</span></p>
<br>
<div class="blue">
<p><strong>TO DO:</strong> Track what are going to be the effect in 2020, 2021, 2022 &amp; 2023 in the US Vol_GDP if a innovation of size 1 in <span class="math inline">\(v^{USA}\)</span> happens today(2020). That is I’m asking you to calculate what will be the effect thought time (t, t+1, t+2 …) on USA of an innovation of size 1 in his own equation, that is in <span class="math inline">\(v_{t}^{USA}\)</span></p>
</div>
<p><br></p>
<p>The answer is: 1, 1.1, 2.1, 3.1 ….</p>
<br>
<div class="blue">
<p><strong>TO DO:</strong> Track what are going to be the effect <strong>on Spain</strong> in 2020 2021, 2022 &amp; 2023 if today (2020) there is an innovation of size 1 in <span class="math inline">\(v^{E15}\)</span>. That is I’m asking you to calculate what will be the effect thought time on Spain of an innovation of size 1 in <span class="math inline">\(v^{E15}\)</span>. Please, make an effort, it is really important to notice and to understand this.</p>
</div>
<p><br></p>
<p>Then, we have solved already our first question, that is, in order to to estimate what the effects of USA &amp; E15 in the Spanish economy we have first to estimate a VAR and then, to invert the polynomial to obtain the sequence of <span class="math inline">\(C\)</span> matrices, that is the <span class="math inline">\(C(L)\)</span> polynomial.</p>
<p>And, that’s all? Do you think things are so easy? Obviously No, it’s only part of the process, we will continue explianing this latter.</p>
<p>Now, let’s obtain the VMA representation of our_var with R.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="co">#------ Obtaining the Wold VMA representation of our_var with the vars package</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="kw">Phi</span>(our_var, <span class="dt">nstep =</span> <span class="dv">3</span>)  <span class="co">#- shows the WOLD VMA  estimated matrices. (by inverting the A&#39;s matrices)</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="co">#&gt; , , 1</span></a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="co">#&gt; [1,]    1    0    0</span></a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="co">#&gt; [2,]    0    1    0</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="co">#&gt; [3,]    0    0    1</span></a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-10" data-line-number="10"><span class="co">#&gt; , , 2</span></a>
<a class="sourceLine" id="cb19-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-12" data-line-number="12"><span class="co">#&gt;           [,1]      [,2]      [,3]</span></a>
<a class="sourceLine" id="cb19-13" data-line-number="13"><span class="co">#&gt; [1,] 0.1400934 0.2959650 0.1438931</span></a>
<a class="sourceLine" id="cb19-14" data-line-number="14"><span class="co">#&gt; [2,] 0.3125463 0.2952215 0.2671500</span></a>
<a class="sourceLine" id="cb19-15" data-line-number="15"><span class="co">#&gt; [3,] 0.2186417 0.1671759 0.4423970</span></a>
<a class="sourceLine" id="cb19-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-17" data-line-number="17"><span class="co">#&gt; , , 3</span></a>
<a class="sourceLine" id="cb19-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-19" data-line-number="19"><span class="co">#&gt;           [,1]        [,2]        [,3]</span></a>
<a class="sourceLine" id="cb19-20" data-line-number="20"><span class="co">#&gt; [1,] 0.2832571 -0.17445078  0.36976283</span></a>
<a class="sourceLine" id="cb19-21" data-line-number="21"><span class="co">#&gt; [2,] 0.1511120  0.41694884 -0.09301772</span></a>
<a class="sourceLine" id="cb19-22" data-line-number="22"><span class="co">#&gt; [3,] 0.1111732  0.09684669  0.31060969</span></a>
<a class="sourceLine" id="cb19-23" data-line-number="23"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-24" data-line-number="24"><span class="co">#&gt; , , 4</span></a>
<a class="sourceLine" id="cb19-25" data-line-number="25"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-26" data-line-number="26"><span class="co">#&gt;           [,1]        [,2]        [,3]</span></a>
<a class="sourceLine" id="cb19-27" data-line-number="27"><span class="co">#&gt; [1,] 0.2259784 -0.08876230 -0.04375811</span></a>
<a class="sourceLine" id="cb19-28" data-line-number="28"><span class="co">#&gt; [2,] 0.1775226 -0.07588214  0.26935657</span></a>
<a class="sourceLine" id="cb19-29" data-line-number="29"><span class="co">#&gt; [3,] 0.1764075 -0.32566575  0.59225616</span></a></code></pre></div>
<br>
<div class="blue">
<p><strong>TO DO:</strong> Track what are the <strong>estimated</strong> effect of an US “shock” in the Spanish economy.</p>
</div>
<p><br></p>
<p>To finish the second class. In fact the first class of the express course we have to understand why the Wold VMA is <strong>NOT USEFUL</strong>.</p>
<p>Why it’s not useful the <span class="math inline">\(y_{t}~= C(L)v_{t}= C_{0}v_{t}+C_{1}v_{t-1}+C_{2}v_{t-2}+C_{3}v_{t-3}+C_{4}v_{t-4}+...\)</span>?</p>
<p>The why is in the variance-covariance matrix of the innovations <span class="math inline">\(\Sigma _{v}\)</span>, this matrix it’s usually not diagonal. That it’s the innovations are contemporaneously correlated and we think, we believe, that a true structural shock should be “independent”, orthogonal to other structural shocks.</p>
<p>In a more formal way:</p>
<blockquote>
<p>BUT, usually the VAR disturbances (or innovations) are correlated, so the interpretability of the impulse responses to innovation becomes problematic: if the innovations are correlated (off diagonal elements of <span class="math inline">\(\Sigma _{v}\)</span> different from zero) then, an impulse in for instance, <span class="math inline">\(v_{USA}\)</span> would be associated with impulses in innovations in the other equations of the VAR model. In other words, as the innovations are not likely to occur in isolation, then tracking the effect of an innovation in isolation does not reflect what actually happens in the system after an innovation hits the system.</p>
</blockquote>
<p><br></p>
</div>
<div id="structural-vars" class="section level1">
<h1>4. Structural VARs</h1>
<p>OK, we can estimate a VAR an inverting it we can obtain something “close” to the IRF’s we want but they are not really structural because the innovation are correlated, then they are not really structural shocks.</p>
<p>To interpret the VAR in an economically meaningful way, one needs to “transform” the vector of innovations(<span class="math inline">\(v_{t}\)</span>) into “structural” shocks (<span class="math inline">\(\varepsilon _{t}\)</span>), like monetary policy shocks, productivity shocks, … and ideally the structural shocks should be: 1) orthogonal shocks 2) shocks with economic meaning.</p>
<p>That’s now our objective to transform our system in a way that our variables, the <span class="math inline">\(y_{t}\)</span> instead of being function of the innovations (<span class="math inline">\(v_{t}\)</span>), they were function of structural shocks (<span class="math inline">\(\varepsilon_{t}\)</span>).</p>
<p>Remember, that we can obtain easily the (Wold) VMA representation: <span class="math inline">\(y_{t} = C(L)v_{t}\)</span> where <span class="math inline">\(\Sigma _{v}\)</span> is not the identity, then the innovations are correlated. BUT we would like to obtain something like <span class="math inline">\(y_{t} = D(L)\varepsilon_{t}\)</span> where <span class="math inline">\(\Sigma _{\varepsilon }=I\)</span></p>
<p>Transforming the system from one equation to the other is in fact a mathematical problem, an C. A. Sims is a mathematician. In fact their first proposal was:</p>
<blockquote>
<p>The structural VAR methodology first estimate an unrestricted model in a reduced form. No prior knowledge is used except to decide which variables should enter the system.</p>
</blockquote>
<blockquote>
<p>Sims’s original idea to obtain IRF &amp; FEVD was to assume recursive contemporaneous interactions among variables, i.e. by imposing a certain structural ordering of the variables. In terms of the moving average (MA) representation, the structural shocks do not affect preceding variables simultaneously. In fact he proposed to use the Cholesky decomposition.</p>
</blockquote>
<p>Let’s try to explain this critic sentence. To obtain an structural VAR:</p>
<ul>
<li><p>first a (reduced form) VAR model is estimated</p></li>
<li><p>we could invert the VAR to obtain the (Wold) VMA but it’s not really useful. We can obtain (1), but we want a structural model (2)</p></li>
</ul>
<p>In a diagram:</p>
<p><img src="imagenes/02-VMA.jpg" width="90%" style="display: block; margin: auto;" /></p>
<p>Sims(1980) propose to use the Cholesky decomposition to obtain (2) from (1). Let’s develop it a little:</p>
<ul>
<li><p>The Cholesky factor, <span class="math inline">\(P\)</span>, of a positive definite matrix <span class="math inline">\(M\)</span> is defined as the unique lower triangular matrix such that <span class="math inline">\(PP^{^{\prime }}=M\)</span></p></li>
<li><p>As <span class="math inline">\(\Sigma _{v}\)</span> is a variance-covariance matrix it admit the Cholesky decomposition: <span class="math inline">\(\Sigma _{v} = PP^{^{\prime }}\)</span>, where <span class="math inline">\(P\)</span> is a matrix called the Cholesky factor. This <span class="math inline">\(P\)</span> matrix has some properties: 1) <span class="math inline">\(P\)</span> is lower triangular, and 2) <span class="math inline">\(P^{-1}\Sigma _{v}P^{{-1}^{\prime}}= I\)</span></p></li>
</ul>
<p>Then, Sims proposes to transform the VMA representation, like this:</p>
<ul>
<li><p><span class="math inline">\(y_{t} = C(L)v_{t}\)</span></p></li>
<li><p><span class="math inline">\(y_{t}= C(L) PP^{-1}v_{t}\)</span></p></li>
</ul>
<p>It seems stupid, but let’s concentrate on a specific part of the last equation: <span class="math inline">\(P^{-1}v_{t}\)</span>.</p>
<ul>
<li>In fact, <span class="math inline">\(P^{-1}v_{t}\)</span> is a transformation/rotation of the innovations. We are obtaining a new vector of “innovations”. We can call those new innovation as we want, for instance <span class="math inline">\(P^{-1}v_{t} = \varepsilon_{t}\)</span></li>
</ul>
<p>Let’s see what are the covariance matrix of these new “innovations” that we have called <span class="math inline">\(\varepsilon_{t}\)</span>. Do you guess?</p>
<p><img src="imagenes/03-VMA.jpg" width="90%" style="display: block; margin: auto;" /></p>
<p>That is, the “transformed innovations” are orthogonal …. then Sims interpreted them as structural shocks. Good, BUT he received some critiques … that we will see latter.</p>
<p>By now let’s return to:</p>
<ul>
<li><p><span class="math inline">\(y_{t}= C(L) PP^{-1}v_{t}\)</span> as we have call <span class="math inline">\(P^{-1}v_{t} = \varepsilon_{t}\)</span>, in fact we have:</p></li>
<li><p><span class="math inline">\(y_{t}= C(L) P\varepsilon_{t}\)</span></p></li>
</ul>
<br>
<div class="blue">
<p><strong>TO THINK:</strong> The last equation <span class="math inline">\(y_{t}= C(L) P\varepsilon_{t}\)</span> is a structural model?</p>
</div>
<p><br></p>
<p>In fact we can call <span class="math inline">\(C(L)P = D(L)\)</span> and we will have <span class="math inline">\(y_{t}= D(L) \varepsilon_{t}\)</span>, and the <span class="math inline">\(D(L)\)</span> will give us the response of the variables of our system (<span class="math inline">\(y_{t}\)</span>) to a vector of shocks that are orthogonal (<span class="math inline">\(\varepsilon_{t}\)</span>).</p>
<br>
<div class="blue">
<p><strong>TO THINK:</strong> How we can calculate the D(L)</p>
</div>
<p><br></p>
<p>Think that <span class="math inline">\(C(L)P = D(L)\)</span>; that is,</p>
<p><span class="math display">\[(C_{0} + C_{1}L + C_{2}L^{2}) P = D_{0} + D_{1}L + D_{2}L^{2}\]</span></p>
<p>Thats is :</p>
<ul>
<li><p><span class="math inline">\(C_{0} P = D_{0}\)</span></p></li>
<li><p><span class="math inline">\(C_{1} P = D_{1}\)</span></p></li>
</ul>
<br>
<div class="steel">
<p><strong>ATTENTION:</strong> <strong>More material, not much more, to be added</strong></p>
</div>
<p><br></p>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>We will see in short that this is not really true because ….<a href="#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>

<div id="rmd-source-code">LS0tCiN0aXRsZTogIkV4cHJlc3MgbWluaS1jb3Vyc2Ugb24gU3RydWN0dXJhbCBWQVIgbW9kZWxzIgpvdXRwdXQ6CiAgaHRtbF9kb2N1bWVudDoKICAgIHRoZW1lOiB1bml0ZWQKICAgIGhpZ2hsaWdodDogbW9ub2Nocm9tZSAKICAgIG51bWJlcl9zZWN0aW9uczogbm8KICAgIHRvYzogdHJ1ZQogICAgdG9jX2Zsb2F0OiB0cnVlCiAgICBjb2RlX2Rvd25sb2FkOiB0cnVlCiAgICAjY29kZV9mb2xkaW5nOiBzaG93CiAgICAjc2VsZl9jb250YWluZWQ6IFRSVUUKLS0tCgoKCmBgYHtyIGNodW5rX3NldHVwLCBpbmNsdWRlPUZBTFNFfQprbml0cjo6b3B0c19jaHVuayRzZXQoZWNobyA9IFRSVUUsIGV2YWwgPSBUUlVFLCBtZXNzYWdlID0gRkFMU0UsIHdhcm5pbmcgPSBGQUxTRSwgCiAgICAgICAgICAgICAgICAgICAgICBjYWNoZSA9IEZBTFNFLCBjYWNoZS5wYXRoID0gIi9jYWNoZXMvIiwgY29tbWVudCA9ICIjPiIsCiAgICAgICAgICAgICAgICAgICAgICAjZmlnLndpZHRoID0gNywgZmlnLmhlaWdodD0gNywgICAKICAgICAgICAgICAgICAgICAgICAgICNvdXQud2lkdGggPSA3LCBvdXQuaGVpZ2h0ID0gNywKICAgICAgICAgICAgICAgICAgICAgIGNvbGxhcHNlID0gVFJVRSwgIGZpZy5zaG93ID0gImhvbGQiLAogICAgICAgICAgICAgICAgICAgICAgZmlnLmFzcCA9IDcvOSwgb3V0LndpZHRoID0gIjYwJSIsIGZpZy5hbGlnbiA9ICJjZW50ZXIiKQpgYGAKCgo8c3R5bGU+CmRpdi5ibHVlIHsgYmFja2dyb3VuZC1jb2xvcjojZTZmMGZmOyBib3JkZXItcmFkaXVzOiA0cHg7IHBhZGRpbmc6IDEzcHg7fQpkaXYuc3RlZWwgeyBiYWNrZ3JvdW5kLWNvbG9yOiNkZWNlM2M7IGJvcmRlci1yYWRpdXM6IDRweDsgcGFkZGluZzogMTNweDt9CjJjNjdiZgo8L3N0eWxlPgoKCgpgYGB7ciBvcHRpb25zX3NldHVwLCBlY2hvID0gRn0Kb3B0aW9ucyhzY2lwZW4gPSA5OTkpICMtIHBhcmEgcXVpdGFyIGxhIG5vdGFjaW9uIGNpZW50aWZpY2EKYGBgCgo8YnI+PGJyPjxicj4KCkFzIGZpbmFsbHksIGluc3RlYWQgb2YgNSBzZXNzaW9uIHdlIGFyZSBnb2luZyB0byBoYXZlIGFsbW9zdCAzIHNlc3Npb25zLCB0aGVuIGluc3RlYWQgb2YgYSBtaW5pLWNvdXJzZSB3ZSBhcmUgZ29pbmcgdG8gaGF2ZSBhIGV4cHJlc3MtbWluaS1jb3Vyc2U6IGEgcXVpY2sgYW5kICoqZGlydHkqKiBpbnRyb2R1Y3Rpb24gdG8gdGhlIGJhc2ljcyBvZiBzdHJ1Y3R1cmFsIFZBUiBtb2RlbHMuCgojIDAuIEludHJvLiAKCkltYWdpbmUgeW91IGFyZSBhIHJlc2VhcmNoZXIsIG9yIGJldHRlciwgaW1hZ2luZSB0aGF0IHlvdSBhcmUgdGhlIHRoZSBFY29ub215IE1pbmlzdGVyIG9mIGEgRXVyb3BlYW4gY291bnRyeSwgZm9yIGluc3RhbmNlIFNwYWluLCBhbmQgeW91IG5lZWQgdG8ga25vdyBob3cgeW91ciBjb3VudHJ5IGlzIGluZmx1ZW5jZWQgYnkgZWNvbm9taWMgZXh0ZXJuYWwgZm9yY2VzLiBXZSBhcmUgZ29pbmcgdG8gdXNlIGFuIHN0YXRpc3RpY2FsIGFwcHJvYWNoIHRvIHRyeSB0byBzb2x2ZSB0aGUgcHJvYmxlbS5UaGF0IGlzIHdlIGFyZSBnb2luZyB0byB1c2UgYSBzdGF0aXN0aWNhbCBtb2RlbC4gQnV0IHdoaWNoIG9uZT8gVkFSIG1vZGVscyBvZiBjb3Vyc2UsIHRoaXMgaXMgdGhlIHN1YmplY3Qgb2YgdGhlIG1pbmktY291cnNlLiAKCk9LLCBidXQgdGhlIG9yaWdpbmFsIHF1ZXN0aW9uICgiaG93IHlvdXIgY291bnRyeSBpcyBpbmZsdWVuY2VkIGJ5IGVjb25vbWljIGV4dGVybmFsIGZvcmNlcz8iKSBpcyB0b28gd2lkZSB0byBiZSB0cmFjdGFibGUuIExldCdzIG1hZGUgdGhlIHF1ZXN0aW9uIG1vcmUgc3BlY2lmaWMuIFdlIGhhdmUgaGVhcmQgdGhhdCB0aGVyZSBleGlzdHMgYW4gaW50ZXJuYXRpb25hbCBjeWNsZSBhbmQgYW4gRXVyb3BlYW4gY3ljbGUsIHRoZW4gdGhlIHF1ZXN0aW9uIGlzIGhvdyBTcGFpbiByZWFjdHMgdG8gdGhlIGludGVybmF0aW9uYWwgYW5kIEV1cm9wZWFuIGN5Y2xlLiBXaGF0IGFyZSB0aGVpciBpbmZsdWVuY2UgaW4gdGhlIFNwYW5pc2ggZWNvbm9teS4KCkV2ZW4gbW9yZSBwcmVjaXNlbHksIHdlIGFyZSBnb2luZyB0byB0cnkgdG8gYW5zd2VyIHR3byBxdWVzdGlvbnM6CgogIDEuIFdoYXQgd2lsbCBoYXBwZW4gdG8gU3BhbmlzaCBlY29ub215IGlmIHNvbWV0aGluZyBwb3NpdGl2ZSAoYSBwb3NpdGl2ZSBzaG9jaykgaGFwcGVucyBpbiB0aGUgaW50ZXJuYXRpb25hbCBjeWNsZSBvciBpbiB0aGUgRXVyb3BlYW4gYnVzaW5lc3MgY3ljbGUuIChJUkYpCgogIDIuIFdoYXQgaXMgdGhlIGltcG9ydGFuY2Ugb2YgaW50ZXJuYXRpb25hbCBhbmQgRXVyb3BlYW4gY3ljbGUgaW4gdGhlIFNwYW5pc2ggZWNvbm9taWMgZmx1Y3R1YXRpb25zPyAoRkVWRCkKCgpPSywgd2UgYXJlIGdvaW5nIHRvIHVzZSBzdGF0aXN0aWNhbCBtb2RlbHMsIHRoZW4gd2Ugd2lsbCBuZWVkIGRhdGEuIEJ1dCB3YWl0LCB3ZSBhbHJlYWR5IGhhdmUgZGF0YSwgbGFzdCBjbGFzcyB3ZSBoYXZlIGRvd25sb2FkZWQgc29tZSB2YXJpYWJsZXMuIFdlIGhhdmUgZG93bmxvYWRlZCBmcm9tIEV1cm9zdGF0IGEgYnVuY2ggb2Ygc2VyaWVzLiBJbiBwYXJ0aWN1bGFyIHdlIGFyZSBnb2luZyB0byB1c2UgMyBzZXJpZXMgb2YgIkdEUCB2b2x1bWUiIGZvciBVU0EsIEUxNSBhbmQgb3VyIGNvdW50cnksIGluIHRoYXQgY2FzZSBTcGFpbi4KCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUbyB0aGluazoqKiB3ZSB3aWxsIHVzZSAzIHZhcmlhYmxlcy4gQXJlIHRoZXkgZW5vdWdoIHRvIGFuc3dlciB0aGUgcXVlc3Rpb24gb3Igd2Ugd2lsbCBuZWVkIGZvciB2YXJpYWJsZXMvaW5mb3JtYXRpb24/CjwvZGl2Pgo8YnI+CgpXZSBhcmUgZ29pbmcgdG8gdXNlIGEgc3RhdGlzdGljYWwgYXBwcm9hY2ggYW5kIHdlIGhhdmUgMyB2YXJpYWJsZXMuIFdlIGNhbiB0aGluayB0aGF0IHRoZSAzIHZhcmlhYmxlcyBhcmUgYSBzeXN0ZW0gdGhhdCBpbmZsdWVuY2UgZWFjaCBvdGhlci4gQ2hhbmdlcyBpbiBVUyAoYXMgYSBwcm94eSBvZiB0aGUgaW50ZXJuYXRpb25hbCBjeWNsZSkgd2lsbCBpbXBhY3QgU3BhaW4gYW5kIEV1cm9wZS4gQ2hhbmdlcyBpbiBFdXJvcGUgd2lsbCBhbHNvIGltcGFjdCBvbiB0aGUgaW50ZXJuYXRpb25hbCBlY29ub215IGFuZCBvZiBjb3Vyc2UgaW4gdGhlIFNwYW5pc2ggZWNvbm9teS4gVGhhdCBpcywgSSB0aGluayB3ZSBzaG91bGQgdHJlYXQgdGhlIDMgdmFyaWFibGVzIGFzIGVuZG9nZW5vdXMuIAoKClRoZW4gLi4uIHdoYXQgdHlwZSBvZiBzdGF0aXN0aWNhbCBtb2RlbHMgd2UgY291bGQgdXNlPyBGb3IgaW5zdGFuY2Ugd2UgY291bGQgdXNlICJTaW11bHRhbmVvdXMgZXF1YXRpb25zIi4gQnV0IHdhaXQsIHRob3NlIHN5c3RlbXMgd2VyZSBjcml0aWNpc2VkIGJ5IFNpbXMgaW4gMTk4MCBiZWNhdXNlIHRoZXkgdXNlIHRoYXQgaGUgY2FsbGVkICAiaW5jcmVkaWJsZSBpZGVudGlmaWNhdGlvbiByZXN0cmljdGlvbnMiLgoKT0ssIGxldCdzIGZvbGxvdyBTaW1zJ3MgMTk4MCBwcm9wb3NhbCBhbmQgdXNlIFZBUiBtb2RlbHMuIEZpcnN0LCBiZWZvcmUgdG8gZXN0aW1hdGUgdGhlIFZBUiBtb2RlbCwgd2UgaGF2ZSB0byBzcGVjaWZ5LCB0byB3cml0ZSBpdCBkb3duLgoKCgoKIyAxLiBTcGVjaWZpY2F0aW9uICYgZXN0aW1hdGlvbgoKV2VsbCwgYSBWQVIgbW9kZWwgaXMgcmVhbGx5ICJlYXN5IiB0byBzcGVjaWZ5LiBZb3Ugb25seSBuZWVkIHRvIHNlbGVjdCBhIGJ1bmNoIG9mIHZhcmlhYmxlcyB0byBhbnN3ZXIgeW91ciBxdWVzdGlvbnMuIFdlIGhhdmUgYWxyZWFkeSBkb25lIHRoYXQuIFdlIGhhdmUgc2VsZWN0ZWQgMyB2YXJpYWJsZXMsIGFuZCwgZm9sbG93aW5nIFNpbXMncyBwcm9wb3NhbCwgd2UgYXJlIGdvaW5nIHRvOgoKPiAgdHJlYXQgYWxsIHZhcmlhYmxlcyBhcyBlbmRvZ2Vub3VzIChhbmQgZmlyc3QgZXN0aW1hdGUgYW4gdW5yZXN0cmljdGVkIG1vZGVsIGluIGEgcmVkdWNlZCBmb3JtKS4gTm8gcHJpb3Iga25vd2xlZGdlIGlzIHVzZWQgZXhjZXB0IHRvIGRlY2lkZSB3aGljaCB2YXJpYWJsZXMgc2hvdWxkIGVudGVyIHRoZSBzeXN0ZW0uCgo8YnI+CjxkaXYgY2xhc3MgPSAiYmx1ZSI+CioqVG8gdGhpbms6KiogaW4gdGhlIGxhc3Qgc2VudGVuY2UgdGhlcmUgaXMgYSB0cmlja3kgcGFydCAiZmlyc3QgZXN0aW1hdGUgYW4gdW5yZXN0cmljdGVkIG1vZGVsIGluIGEgcmVkdWNlZCBmb3JtIi4gVHJ5IHRvIHVuZGVyc3RhbmQgaXQuIFdoYXQgZG9lcyBtZWFuPyBJdCdzIG5vdCBlYXN5IGlmIHlvdSBkb24ndCBoYXZlIHRoZSByaWdodCBiYWNrZ3JvdW5kLiBXZSB3aWxsIHRyeSBhdCBjbGFzcy4KPC9kaXY+Cjxicj4KCgoKT3VyIG1vZGVsIGlzIGRlc2NyaWJlZCBieSB0aGlzIHNldCBvZiBlcXVhdGlvbnM6IAoKCgokJFxsZWZ0XHsgClxiZWdpbnthcnJheX17Y30KVVNfe3R9PSBcYmV0YSBVU197dC0xfSArIFxiZXRhIFVTX3t0LTJ9ICsgIFxiZXRhIEUxNV97dC0xfSArICBcYmV0YSBFMTVfe3QtMn0gKyAgXGJldGEgRVNfe3QtMX0gKyBcYmV0YSBFU197dC0yfSArIHZfe3R9XntVU30KXFwgCkUxNV97dH09IFxiZXRhIFVTX3t0LTF9ICsgXGJldGEgVVNfe3QtMn0gKyAgXGJldGEgRTE1X3t0LTF9ICsgIFxiZXRhIEUxNV97dC0yfSArICBcYmV0YSBFU197dC0xfSArIFxiZXRhIEVTX3t0LTJ9ICsgdl97dH1ee0UxNX0KXFwgCkVTX3t0fT0gXGJldGEgVVNfe3QtMX0gKyBcYmV0YSBVU197dC0yfSArICBcYmV0YSBFMTVfe3QtMX0gKyAgXGJldGEgRTE1X3t0LTJ9ICsgIFxiZXRhIEVTX3t0LTF9ICsgXGJldGEgRVNfe3QtMn0gKyB2X3t0fV57RVN9ClxlbmR7YXJyYXl9JQpccmlnaHRcfSAkJAoKPGJyPgoKQnV0LCBpdCdzIGJldHRlciB0byB3cml0ZSB0aGUgbW9kZWwgaW4gYSBtb3JlIGNvbXBhY3QgZm9ybToKCiQkeV97dH1+PUFfezF9eV97dC0xfStBX3syfXlfe3QtMn0rdl97dH0kJCAKClRoZSBtb2RlbCBoYXMgb25seSB0d28gbGFncywgYnV0IGluIGdlbmVyYWwgdGhlIFZBUiB3b3VsZCBiZToKCgokJHlfe3R9fj1BX3sxfXlfe3QtMX0rQV97Mn15X3t0LTJ9K1wgXCAuLi5cIFwKK0Ffe3B9eV97dC1wfSt2X3t0fVwgXCBcIFwgXCBcIFwgXCBcIFwgWzJdJCQgCgoKTW9kZWwgJFsyXSQgY2FuIGJlIHdyaXR0ZW4gdXNpbmcgYSBwb2x5bm9taWFsIGluIHRoZSBsYWcgb3BlcmF0b3IgYXM6IAoKJCRBKEwpeV97dH09dl97dH1cIFwgXCBcIFwgXCBcIFwgXCBcIFszXSQkICAKCndpdGggJEEoTCk9KElfe0t9LUFfezF9TF57MX0tQV97Mn1MXnsyfS0uLi4tQV97cH1MXntwfSkkCgo8YnI+CgpPSywgYnV0IHRoZXJlIGlzIHNvbWV0aGluZyB0aGF0IHdlIGhhdmUgdG8gc29sdmU6IHdlIGhhdmUgdG8gY2hvb3NlICoqaG93IG1hbnkgbGFncyoqIHdpbGwgaGF2ZSBvdXIgbW9kZWwsIDIsIDMgLCA0PyBPSywgIGJ1dCB0aGlzIHdpbGwgYmUgaW4gYSBtb21lbnQsIGZpcnN0IHdlIGhhdmUgdG8gdGFsayBhIGxpdHRsZSBhYm91dCB0aGUgZXN0aW1hdGlvbiBtZXRob2Qgd2UgYXJlIGdvaW5nIHRvIHVzZSB0byBlc3RpbWF0ZSBvdXIgbW9kZWwuCgoKV2VsbCwgeW91IHNob3VsZCBrbm93IHRoYXQsICoqaWYgdGhlIHN5c3RlbSBpcyBzdGF0aW9uYXJ5KiogdGhlbiwgYXMgYWxsIHRoZSBlcXVhdGlvbnMgaW4gdGhlIFZBUiBzaGFyZSB0aGUgc2FtZSBzZXQgb2YgcmVncmVzc29ycyBhbmQgYWxsIG9mIHRoZW0gYXJlIGxhZ2dlZCB2YXJpYWJsZXMsIHRoZSBWQVIgY291bGQgYmUgZXN0aW1hdGVkIGVmZmljaWVudGx5IGJ5IE9MUyBmb3IgZWFjaCBlcXVhdGlvbiBzZXBhcmF0ZWx5LiAKCkJVVCwgYmUgYXdhcmUgdGhhdCwgaW4gb3JkZXIgdG8gZXN0aW1hdGUgdGhlIHN5c3RlbSBieSBPTFMgaXMgY3J1Y2lhbCB0aGF0IHRoZSBlcnJvciB0ZXJtcyAoJHZfe3R9JCkgc2hvdWxkICoqTk9UIHRvIGJlIGF1dG9jb3JyZWxhdGVkKiouCgpSZW1lbWJlciBhbHNvIHRoYXQgaW4gdGhlIGNvbnRleHQgb2YgVkFSIG1ldGhvZG9sb2d5LCB1c3VhbGx5IHRoZSBlcnJvciB0ZXJtcyAoJHZfe3R9JCkgYXJlIGNhbGxlZCAqKmlubm92YXRpb25zKiouCgoKCkJlc2lkZXMgdGhhdCwgaWYgdGhlIGlubm92YXRpb25zIGFyZSBub3JtYWxseSBkaXN0cmlidXRlZCAoR2F1c3NpYW4pIHRoZW4gd2UgY291bGQgYXBwbHkgdXN1YWwgaW5mZXJlbmNlIG1ldGhvZHMsIGxpa2UgdC10ZXN0LgoKCgo8YnI+CjxkaXYgY2xhc3MgPSAiYmx1ZSI+CioqVG8gdGhpbms6KiogVkFSIG1vZGVscyBhc3N1bWUgJHZfe3R9XHJpZ2h0YXJyb3cgTigwLFxTaWdtYSBfe3Z9KSQuIERvIHlvdSB0aGluayB0aGVyZSBhcmUgY29udGVtcG9yYW5lb3VzIGNvcnJlbGF0aW9uIGFtb25nIHRoZSBpbm5vdmF0aW9uPyBEbyB5b3UgdGhpbmsgdGhlIGlubm92YXRpb25zIGFyZSBhdXRvY29ycmVsYXRlZD8gQmUgYXdhcmUgdGhhdCB0aGV5IGFyZSBjb21wbGV0ZWx5IGRpZmZlcmVudCBxdWVzdGlvbnMKPC9kaXY+Cjxicj4KCgoKSW4gcGxhaW4gRW5nbGlzaDogYmVmb3JlIHRvIHVzZSBhIFZBUiBtb2RlbHMgd2UgaGF2ZSB0byBjaGVjayBpZiB0aGUgc3lzdGVtIG9mIHZhcmlhYmxlcyBpcyBzdGF0aW9uYXJ5LCB0aGVuLCBhcyBhbGwgb2YgdGhlIHJlZ3Jlc3NvcnMgYXJlIGluIHRoZSBwYXN0ICR5X3t0LWt9JCwgdGhleSBhcmUgImxpa2UtZXhvZ2Vub3VzIiB2YXJpYWJsZXMgYW5kIHRoZW4gd2UgY291bGQgZXN0aW1hdGUgdGhlIHBhcmFtZXRlcnMgb2YgdGhlIG1vZGVsIGJ5IE9MUywgKipCVVQqKiByZW1lbWJlciB0aGF0IHRoZSAkdl97dH0kIHNob3VsZCBzaG93biAqKm5vIGF1dG9jb3JyZWxhdGlvbioqOyB0aGF0IGlzIHdlIHNob3VsZCBjaGVjaywgYWZ0ZXIgZXN0aW1hdGlvbiwgdGhhdCB0aGUgbW9kZWwgcmVzaWR1YWxzICRcd2lkZWhhdHt2fV97dH0kIHNob3duIE5PLWF1dG9jb3JyZWxhdGlvbgoKQmVzaWRlcyB0aGF0LCBpZiB0aGUgaW5ub3ZhdGlvbnMgICQodl97dH0pJCAgZm9sbG93IGEgR2F1c3NpYW4gZGlzdHJpYnV0aW9uIHRoZW4gd2UgY291bGQgdXNlIHRoZSB1c3VhbCBpbmZlcmVuY2UgbWV0aG9kcy4gVGhlbiwgd2Ugc2hvdWxkIGNoZWNrIGFsc28sdGhlIG5vcm1hbGl0eSBvZiB0aGUgcmVzaWR1YWxzICQoXHdpZGVoYXR7dn1fe3R9KSQuCgoKPGJyPgoKT0suICoqTGV0J3MgcHJhY3Rpc2UgdGhpcyBpbiBSKio6CgotIEZpcnN0IHdlIGhhdmUgdG8gbG9hZCB0aGUgcGFja2FnZXM6CgoKYGBge3J9CmxpYnJhcnkoInRpZHl2ZXJzZSIpCmxpYnJhcnkoImZvcmVjYXN0IikKI2xpYnJhcnkoImR5Z3JhcGhzIikKbGlicmFyeSgidmFycyIpICAgICAgICAgIy0gdGhlIHBhY2thZ2UgdXNlZCB0byBlc3RpbWF0ZSBWQVIgbW9kZWxzCmBgYAoKCi0gU2Vjb25kLCB3ZSBoYXZlIHRvIGxvYWQgYW5kIGNsZWFuIHRoZSBkYXRhCgpgYGB7cn0KIyBsb2FkIHRoZSBkYXRhIGZvciBTcGFpbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGYgPC0gcmVhZF9jc3YoaGVyZTo6aGVyZSgiZGF0b3MiLCAibXlfZGF0YV9FUy5jc3YiKSkgICMtIFlvdSBzaG91bGQgbG9hZCBZT1VSIERBVEEKCiMtIHdlIGFyZSBnb2luZyB0byB1c2Ugb25seSAzLzQgdGhlIHZhcmlhYmxlczogVm9sLCBWb2xfMTUsIFZvbF91cyAmIHRpbWUKZGF0YSA8LSBkZiAlPiUgZHBseXI6OnNlbGVjdCh0aW1lLCBWb2xfdXMsIFZvbF8xNSwgVm9sKQpgYGAKCgotICJDbGVhbmluZyIgdGhlIGRhdGEKCmBgYHtyfQojLSBzb21lIGRhdGEgbXVuZ2luZyB0byBvYnRhaW5pbmcgdGhlIGNvbW1vbiBzYW1wbGUgb2YgdGhlIDMgdmFyaWFibGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIy0gZmlyc3QgZ2V0dGluZyByaXAgb2ZmIHRoZSBOQXMKZGF0YSA8LSBkYXRhICU+JSBkcm9wX25hKCkgCgojLSBzZWNvbmQsIGNhbGN1bGF0aW5nIHRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZSBjb21tb24gc2FtcGxlIG9mIG15IGRhdGE6CmRhdGFfdHQgPC0gZGF0YSAlPiUgbXV0YXRlKHRpbWUgPSBhcy5jaGFyYWN0ZXIodGltZSkpICU+JSB0aWR5cjo6c2VwYXJhdGUodGltZSwgYygieWVhciIsICJxdWFydGVyIiwgImRheSIpLCItIikKZGF0YV90dCA8LSBkYXRhX3R0ICU+JSBtdXRhdGUoeWVhciA9IGFzLm51bWVyaWMoeWVhcikpIApkYXRhX3R0IDwtIGRhdGFfdHQgJT4lIG11dGF0ZShxdWFydGVyPSBjYXNlX3doZW4oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YXJ0ZXIgID09ICIwMSIgIH4gMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhcnRlciAgPT0gIjA0IiAgfiAyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFydGVyICA9PSAiMDciICB+IDMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YXJ0ZXIgID09ICIxMCIgIH4gNCkpCnN0YXJ0X3llYXIgICAgPC0gZGF0YV90dCR5ZWFyWzFdIApzdGFydF9xdWFydGVyIDwtIGRhdGFfdHQkcXVhcnRlclsxXSAKZW5kX3llYXIgICAgICA8LSBkYXRhX3R0JHllYXJbbnJvdyhkYXRhX3R0KV0gCmVuZF9xdWFydGVyICAgPC0gZGF0YV90dCRxdWFydGVyW25yb3coZGF0YV90dCldIAogIAojLSB3ZSBkb24ndCBuZWVkICJkYXRhX3R0IiBhbnltb3JlCnJtKGRhdGFfdHQpCmBgYAoKCgpgYGB7cn0KIyAgY3JlYXRpbmcgdGhlIHRpbWUgc2VyaWVzIHdpdGggdHMoKTogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpWb2wgICAgPC0gdHMoZGF0YSRWb2wsICAgIHN0YXJ0ID0gYyhzdGFydF95ZWFyLCBzdGFydF9xdWFydGVyKSAsIGVuZCA9IGMoZW5kX3llYXIsIGVuZF9xdWFydGVyKSAsIGZyZXF1ZW5jeSA9IDQpICAgClZvbF8xNSA8LSB0cyhkYXRhJFZvbF8xNSwgc3RhcnQgPSBjKHN0YXJ0X3llYXIsIHN0YXJ0X3F1YXJ0ZXIpICwgZW5kID0gYyhlbmRfeWVhciwgZW5kX3F1YXJ0ZXIpICwgZnJlcXVlbmN5ID0gNCkgICAKVm9sX3VzIDwtIHRzKGRhdGEkVm9sX3VzLCBzdGFydCA9IGMoc3RhcnRfeWVhciwgc3RhcnRfcXVhcnRlcikgLCBlbmQgPSBjKGVuZF95ZWFyLCBlbmRfcXVhcnRlcikgLCBmcmVxdWVuY3kgPSA0KSAgIApybShzdGFydF95ZWFyLCBzdGFydF9xdWFydGVyLCBlbmRfeWVhciwgZW5kX3F1YXJ0ZXIpCgojIHRha2luZyBsb2dzIG9mIHRoZSBzZXJpZXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmxWb2wgICAgPC0gbG9nKFZvbCkKbFZvbF8xNSA8LSBsb2coVm9sXzE1KQpsVm9sX3VzIDwtIGxvZyhWb2xfdXMpCgojIHRha2luZyBmaXJzdCBsb2cgZGlmZmVyZW5jZXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGxWb2wgICAgIDwtIGRpZmYobFZvbCwgICAgICBsYWcgPSAxLCBkaWZmZXJlbmNlID0gMSkKZGxWb2xfMTUgIDwtIGRpZmYobFZvbF8xNSwgICBsYWcgPSAxLCBkaWZmZXJlbmNlID0gMSkKZGxWb2xfdXMgIDwtIGRpZmYobFZvbF91cywgICBsYWcgPSAxLCBkaWZmZXJlbmNlID0gMSkKCgojIHB1dHRpbmcgb3VyIDMgdmFyaWFibGVzIGluIGEgdmVjdG9yCnZhcmlhYmxlcyA8LSBjYmluZChkbFZvbF91cywgZGxWb2xfMTUsIGRsVm9sKSAgICAgICAgIy0gQ3JlYXRpbmcgYSBtYXRyaXggd2l0aCB0aGUgMyBzZXJpZXMuIFRoZSBPcmRlcmluZyB3aWxsIGJlIGltcG9ydGFudApgYGAKCgoKPGJyPgoKCi0gdGhpcmQsIFdlIHN0YXJ0IHRvIHNwZWNpZnkvZXN0aW1hdGUgb3VyIFZBUgoKYGBge3IsIGV2YWwgPSBGQUxTRX0KIyBUbyBlc3RpbWF0ZSB0aGUgVkFSIHdlIGFyZSBnb2luZyB0byB1c2UgdGhlICJ2YXJzIiBwYWNrYWdlCgojIEludGVybmFsIGhlbHAgZnJvbSB0aGUgdmFycyBwYWNrYWdlCmhlbHAocGFja2FnZSA9IHZhcnMpICAgICAgICAgICAjLSBjYWxsaW5nIHRvIHRoZSBwa2cgaGVscApscygicGFja2FnZTp2YXJzIiwgYWxsID0gVFJVRSkgIy0gYWxsIHRoZSBvYmplY3RzLCB1c3VhbGx5IGZ1bmN0aW9ucyAmIGRhdGEgaW4gdGhlICJ2YXJzIiBwYWNrYWdlCmBgYAoKCiMjIyAxLmEgQ2hlY2tpbmcgdGhlIHN0YXRpb25hcml0eSBvZiB0aGUgdmFyaWFibGVzCgoKLSBXaHkgd2UgbmVlZCB0byBjaGVjayB0aGUgc3RhdGlvbmFyaXR5PwoKYGBge3J9CmxpYnJhcnkoZm9yZWNhc3QpCm5kaWZmcyhkbFZvbCwgYWxwaGEgPSAwLjA1LCB0ZXN0ID0gYygia3BzcyIsICJhZGYiLCAicHAiKSwgbWF4LmQgPSAyICkKbmRpZmZzKGRsVm9sXzE1LCBhbHBoYSA9IDAuMDUsIHRlc3QgPSBjKCJhZGYiKSwgbWF4LmQgPSAyICkKbmRpZmZzKGRsVm9sX3VzLCBhbHBoYSA9IDAuMDUsIHRlc3QgPSBjKCJhZGYiKSwgbWF4LmQgPSAyICkKCnJtKGxpc3QgPSBscygpWyFscygpICVpbiUgYygiZGF0YSIsICJ2YXJpYWJsZXMiKV0pICAgIy0gcmVtb3ZpbmcgYWxsIGV4Y2VwdCB3aGF0IHdlIG5lZWQgKCJkYXRhIiBhbmQgInZhcmlhYmxlcyIpCmBgYAoKCkFyZSB0aGUgdmFyaWFibGVzIHN0YXRpb25heT8gV2VsbCAuLi4uCgoKIyMjIDEuYiBIb3cgbWFueSBsYWdzPwoKV2UgaGF2ZSB0byBkZWNpZGUgaG93IG1heSBsYWdzIHdpbGwgb3VyIFZBUiBoYXZlLiBUaGVyZSBhcmUgdHdvIHN0cmF0ZWdpZXM6ICAgCgogICAgICAtIDEgVXNlIGluZm9ybWF0aW9uIGNyaXRlcmlhIG1ldGhvZHMgICAgICAKICAgIAogICAgICAtIDIgTFIgdGVzdHMgICAgIAogIAoKCi0gMS4gVXNpbmcgaW5mb3JtYXRpb24gY3JpdGVyaWEgbWV0aG9kcyAKCmBgYHtyfQojIEhPVyBNQU5ZIExBR1MgaW4gdGhlIFZBUj8gV2hhdCBhYm91dCB0aGUgZGV0ZXJtaW5pc3RpYyBjb21wb25lbnRzIG9mIHRoZSBWQVI/IC0tLS0tLS0tLS0tLS0tLS0tLS0KCiMgMS4gd2l0aCBtb2RlbCBzZWxlY3Rpb24gY3JpdGVyaWEgKEFJQykKVkFSc2VsZWN0KHZhcmlhYmxlcywgbGFnLm1heCA9IDgsIHR5cGUgPSAiY29uc3QiKQpgYGAKCgo8YnI+CjxkaXYgY2xhc3MgPSAiYmx1ZSI+CioqVG8gdGhpbms6KiogSWYgd2UgdXNlIHRoZSBpbmZvcm1hdGlvbiBjcml0ZXJpYSBtZXRob2RzLCBIb3cgbWFueSBsYWdzIHdlIHNob3VsZCB1c2UgaW4gb3VyIFZBUj8KPC9kaXY+Cjxicj4KCgoyLiAoU2VsZWN0aW5nIHRoZSBWQVIgb3JkZXIpIFdpdGggYSBzZXF1ZW5jZSBvZiBMUiB0ZXN0CgpgYGB7ciwgZXZhbCA9IEZBTFNFfQojIDIuIHdpdGggTFIgdGVzdCAKdmFyLm00IDwtIFZBUih2YXJpYWJsZXMsIHAgPSA0LCB0eXBlID0gImNvbnN0IikgCnZhci5tMyA8LSBWQVIodmFyaWFibGVzLCBwID0gMywgdHlwZSA9ICJjb25zdCIpICAgCmxydGVzdCh2YXIubTMsIHZhci5tNCkgICMtIHdoeSBkb2Vzbid0IHdvcmsgdGhpcyB0ZXN0PyBXaHkgZG9lc24ndCBydW4gdGhpcyBjaHVuawpgYGAKCgpgYGB7cn0KdmFyLm01IDwtIFZBUih2YXJpYWJsZXMsIHAgPSA1LCB0eXBlID0gImNvbnN0IikgCnZhcmlhYmxlczIgPC0gdmFyaWFibGVzWy0xLF0KdmFyLm00IDwtIFZBUih2YXJpYWJsZXMyLCBwID0gNCwgdHlwZSA9ICJjb25zdCIpICAgCmxydGVzdCh2YXIubTQsIHZhci5tNSkgICAjLSB3aGF0IHdlIHNlbGVjdCA0IG9yIDUgbGFncz8KCnJtKHZhci5tNCwgdmFyLm01LCB2YXJpYWJsZXMyKSAKYGBgCgo8YnI+CjxkaXYgY2xhc3MgPSAiYmx1ZSI+CioqVG8gdGhpbms6KiogSG93IG1hbnkgbGFncz8gZml2ZSwgZm91cj8gMz8KPC9kaXY+Cjxicj4KCldlbGwsIGZpbmFsbHkgd2UgYXJlIGdvaW5nIHRvIHVzZSAuLi4uLi4uICoqNCoqIGxhZ3MuIFdoeT8gRG9uJ3QgdGhpbmsgdG9vIG11Y2ggd2h5LiBPbmUgcGFydCBvZiB0aGUgcmVhc29uIGlzIGJlY2F1c2UgSSBsaWtlIHRoZSA0J3MuIEkgd2lsbCBleHBsYWluIGF0IGNsYXNzCgo8YnI+CgojIDIuIEVzdGltYXRpb24gb2YgdGhlIFZBUgoKV2UgY291bGQgZXN0aW1hdGUgdGhlIGVxdWF0aW9ucyBvZiB0aGUgbW9kZWwgYnkgT0xTIHdpdGggdGhlIGZ1bmN0aW9uIGBsbSgpYCwgYnV0IGl0J3MgbW9yZSBjb252ZW5pZW50IHRvIHVzZSB0aGUgZnVuY3Rpb24gYFZBUigpYCBmcm9tIHRoZSB2YXJzIHBhY2thZ2UKCmBgYHtyfQojIEVTVElNQVRJTkcgdGhlIFZBUi4gIFdjaGljaCBlc3RpbWF0aW9uIG1ldGhvZD8gLS0tLS0tLS0tLS0tLS0tLS0tLQpWQVIodmFyaWFibGVzLCBwID0gNCwgdHlwZSA9ICJjb25zdCIpIApgYGAKCjxicj4KCgpMZXQncyBlc3RpbWF0ZSBhZ2FpbiwgYnV0IGluc3RlYWQgb2Ygc2hvd2luZyB0aGUgcmVzdWx0cywgd2UgYXJlIGdvaW5nIHRvIGFzc2lnbiB0aGVtIHRvIHRoZSBgb3VyX3ZhcmAgb2JqZWN0OgoKYGBge3J9Cm91cl92YXIgPC0gVkFSKHZhcmlhYmxlcywgcCA9IDQsIHR5cGUgPSAiY29uc3QiKSAgICMtIHNhdmluZyB0aGUgZXN0aW1hdGlvbiByZXN1bHRzIGluIHRoZSBvYmplY3QgIm91cl92YXIiCmBgYAoKCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUbyBETzoqKiBwbGVhc2UgdGFrZSBhIGxvb2sgYXQgdGhlICJvdXJfdmFyIiBvYmplY3QuIFdoYXQgaXQgaXM/IFdoYXQgaXQgY29udGFpbnM/CjwvZGl2Pgo8YnI+CgoKCkluIGZhY3QsIG5vdyB5b3UgY2FuIGNoZWNrIGlmIG91ciBlc3RpbWF0ZWQgVkFSIG1vZGVsIGlzIHN0YWJsZToKCmBgYHtyfQojLS0tLS0tIENoZWNraW5nIHN0YWJpbGl0eShlaWdlbnZhbHVlcyBvZiB0aGUgY29tcGFuaW9uIGNvZWZmaWNpZW50IG1hdHJpeCBtdXN0IGhhdmUgbW9kdWx1cyBsZXNzIHRoYW4gMSkKcm9vdHMob3VyX3ZhciwgbW9kdWx1cz1UUlVFKSAjLSBSZXR1cm5zIGEgdmVjdG9yIHdpdGggdGhlIGVpZ2VudmFsdWVzCmBgYAoKCgpMZXQncyBsb29rIGF0IHRoZSBlc3RpbWF0aW9uIHJlc3VsdHMgaW4gdHdvIGRpZmZlcmVudCB3YXlzLCB1c2luZyB0d28gZnVuY3Rpb25zIG9mIHRoZSBgdmFyc2BwYWNrYWdlOgoKCmBgYHtyfQojIExPT0tJTkcgYXQgdGhlIHJlc3VsdHMgb2YgdGhlIGVzdGltYXRlZCBWQVIgLS0tLS0tLS0tLS0tLS0tLQpzdW1tYXJ5KG91cl92YXIpCmBgYAoKCgo8YnI+CjxkaXYgY2xhc3MgPSAiYmx1ZSI+CioqVG8gRE86KiogUGxlYXNlIHRha2UgYSBsb29rIGF0IHRoZSByZXN1bHRzLiAgUGxlYXNlIGhhdmUgYW5vdGhlciBtb3JlIGNsb3NlIGxvb2sgYXQgdGhlIENvdmFyaWFuY2UgbWF0cml4IG9mIHJlc2lkdWFscy4gKipUaGUgcmVzaWR1YWxzIGFyZSBjb250ZW1wb25hZW91c2x5IGNvcnJlbGF0ZWQ/KiogVGhleSBhcmUgYXV0b2NvcnJlbGF0ZWQ/CjwvZGl2Pgo8YnI+Cgo8YnI+CgpBbm90aGVyIGxvb2sgYXQgdGhlIHJlc3VsdHMgb2YgdGhlIFZBUiBlc3RpbWF0aW9uLCBub3cgdXNpbmcgdGhlIGBBY29lZigpYGZ1bmN0aW9uIG9mIHRoZSBgdmFyc2AgcGFja2FnZToKCmBgYHtyfQojLS0tLS0tIHNob3dzIHRoZSBBIGVzdGltYXRlZCBtYXRyaWNlcy4gQmUgYXdhcmUgdGhhdCB0aGV5IGFyZSB0aGUgc2FtZSByZXN1bHRzCkFjb2VmKG91cl92YXIpICAgCmBgYAoKCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUbyBUaGluazoqKiBXaGF0IGFyZSB0aGlzIHJlc3VsdHM/IEFyZSB0aGUgc2FtZSByZXN1bHRzIHByZXZpb3VzbHkgc2VlbiBvciBhcmUgb3RoZXIgcmVzdWx0cz8gV2h5IHdlIG5lZWQgdGhpcyBtYXRyaWNlcz8uICh0aGUgZmlyc3QgdHdvIHF1ZXN0aW9ucyBhcmUgb2J2aW91cywgYnV0IG5vdCB0aGUgdGhpcmQpCjwvZGl2Pgo8YnI+CgoKCkJlZm9yZSB0byB1c2Ugb3VyIGVzdGltYXRlZCBWQVIgd2Ugc2hvdWxkIGNoZWNrIGlmIHRoZSByZXNpZHVhbHMgYXJlIGNvcnJlbGF0ZWQgKGF1dG9jb3JyZWxhdGlvbikgCgoKYGBge3J9CnNlcmlhbC50ZXN0KG91cl92YXIsIGxhZ3MucHQgPSA4ICkgICMtLSA4IGxhZ3MgZm9yIGF1dG9jb3JyZWxhdGlvbiBwb3J0bWFudGVhdSB0ZXN0CmBgYAoKCldlIGhhdmUgdG8gY2hlY2sgYWxzbyBmb3IgTm9ybWFsaXR5IG9mIHJlc2lkdWFscy4KCgoKYGBge3J9Cm5vcm1hbGl0eS50ZXN0KG91cl92YXIsIG11bHRpdmFyaWF0ZS5vbmx5PUZBTFNFKSAgICMtLSBOb3JtYWxpdHkgdGVzdApgYGAKCk9LLCBtb3JlIG9yIGxlc3MsIG91ciBlc3RpbWF0ZWQgVkFSIG1vZGVsIGlzICJ2YWxpZCIsIHRoZW4gd2UgY291bGQgbm93IHVzZSBvdXIgZXN0aW1hdGVkIFZBUiB0byBwZXJmb3JtIHNvbWUgdGFzayxmb3IgaW5zdGFuY2UgdG8gdGVzdCBmb3IgR3JhbmdlciBjYXVzYWxpdHkgb3IgZm9yIGZvcmVjYXN0aW5nOgoKCmBgYHtyLCBldmFsID0gRkFMU0V9CiMtLS0tLS0gV2UgY2FuIHRlc3QgR3JhbmdlciBjYXVzYWxpdHkKY2F1c2FsaXR5KG91cl92YXIsIGNhdXNlID0gYygiZGxWb2wiKSkgICAgICAjLSBkbFZvbCBHcmFuZ2VyLWNhdXNlIHRoZSBvdGhlcihzKSB2YXJpYWJsZXM/CmNhdXNhbGl0eShvdXJfdmFyLCBjYXVzZSA9IGMoImRsVm9sXzE1IikpICAgIy0gZGxWb2xfMTUgR3Jhbmdlci1jYXVzZSB0aGUgb3RoZXIocykgdmFyaWFibGVzPwpjYXVzYWxpdHkob3VyX3ZhciwgY2F1c2UgPSBjKCJkbFZvbF91cyIpKSAgICMtIGRsVm9sXzE1IEdyYW5nZXItY2F1c2UgdGhlIG90aGVyKHMpIHZhcmlhYmxlcz8KCiMtLS0tLS0gV2UgY2FuIHVzZSB0aGUgVkFSIGZvciBmb3JlY2FzdGluZwpwcmVkaWN0KG91cl92YXIsIG4uYWhlYWQgPSAzKSAgCmZhbmNoYXJ0KHByZWRpY3Qob3VyX3ZhcikpCmBgYAoKQnV0IG91ciBvYmplY3RpdmUgaXMgbm90IHRvIGZvcmVjYXN0LCBpdCdzIGluIHNvbWUgd2F5IHJlbGF0ZWQsIGJ1dCBpbiByZWFsbGl0eSBpcyBhIGxpdHRsZSBiaXRlIGRpZmZlcmVudC4KCgojIDMuIE9idGFpbmluZyB0aGUgVk1BIHJlcHJlc2VudGF0aW9uCgpPSy4gV2UgaGF2ZSBlc3RpbWF0ZWQgYSBWQVIgbW9kZWwgLi4uLiBCVVQgd2UgaGF2ZSBub3QgYW5zd2VyZWQgdGhlIHR3byBxdWVzdGlvbnMgd2Ugd2FudCB0byBhc2s6IAoKICAxLiBXaGF0IGlzIHRoZSByZXNwb25zZSBvZiB0aGUgU3BhbmlzaCBlY29ub215IHRvIGEgc2hvY2sgaW4gdGhlIGludGVybmF0aW9uYWwgY3ljbGUgb3IgaW4gdGhlIEV1cm9wZWFuIGJ1c2luZXNzIGN5Y2xlLiAoSVJGKQoKICAyLiBXaGF0IGlzIHRoZSBpbXBvcnRhbmNlIG9mIGludGVybmF0aW9uYWwgYW5kIEV1cm9wZWFuIGN5Y2xlIGluIHRoZSBTcGFuaXNoIGVjb25vbWljIGZsdWN0dWF0aW9ucz8gKEZFVkQpCiAgCjxicj4KCkluIG9yZGVyIHRvIGFuc3dlciB0aG9zZSBxdWVzdGlvbnMgd2UgbmVlZCB0byB3b3JrIGEgbGl0dGxlIGJpdGUgbW9yZS4gRmlyc3Qgd2UgaGF2ZSB0byBvYnRhaW4gdGhlIFZNQSByZXByZXNlbnRhdGlvbiBvZiBvdXIgVkFSIG1vZGVsLiBUaGF0IGlzLCB3ZSBoYXZlIHRvICJpbnZlcnQiIG91ciBtb2RlbC4gSG93IGFuZCB3aHk/IFRoZSBpZGVhIGlzIHRoZSBzYW1lIHRoYXQgTWFyaWFtIGV4cGxhaW5lZCB0byB5b3UsIHNvbWV0aGluZyBsaWtlOgoKPiBldmVyeSBzdGF0aW9uYXJ5IEFSIHByb2Nlc3MgaGF2ZSBhIE1BIHJlcHJlc2VudGF0aW9uCgoKQXMgd2UgYXJlIG5vdyB3aXRoIFZBUiAodmVjdG9yaWFsLUFSKSB3ZSB3b3VsZCBvYnRhaW4gYSB2ZWN0b3JpYWwtTUEgKFZNQSksIGJ1dCB0aGUgaWRlYSBpcyB0aGUgc2FtZS4gTGV0J3MgZG8gaXQgKGJ5IGhhbmQpIGZvciBhIFZBUiB3aXRoIG9ubHkgMSBsYWc6CgoKCgpgYGB7ciwgZWNobyA9IEZBTFNFLCBvdXQud2lkdGggPSAiODAlIn0Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoaGVyZTo6aGVyZSgiaW1hZ2VuZXMiLCAiMDEtaG9yaXpvbnRhbC1hLmpwZyIpICkgCmBgYAoKRmluYWxseSB3ZSBoYXZlIHRoYXQgb3VyIHZlY3RvciBvZiB2YXJpYWJsZXMgJHlfe3R9JCBhcyBhIGZ1bmN0aW9uIG9mIHRoZSBpbm5vdmF0aW9ucyBpbiAkdCQsIGluICR0LTEkLCAkdC0yJCAuLi4uICAgVGhpcyBpcyB0aGUgVk1BIHJlcHJlc2VudGF0aW9uLiBUaGUgdmFyaWFibGVzIGluIGZ1bmN0aW9uIG9mIGFjdHVhbCBhbmQgcGFzdCB2YWx1ZXMgb2YgaW5ub3ZhdGlvbnMgKCR2X3t0fSQpLgoKVXN1YWxseSB3ZSByZW5hbWUgdGhlIG1hdHJpY2VzIHRvIGNhbGwgdGhlbSAkQ197aX0kIGFuZCB0aGUgVk1BIHRoYXQgeW91IHNlZSBpbiBwYXBlcnMgYW5kIGJvb2tzIHVzdWFsbHkgaXMgd3JpdHRlbiBsaWtlOgoKJCR5X3t0fX49Q197MH12X3t0fStDX3sxfXZfe3QtMX0rQ197Mn12X3t0LTJ9K1wgLi4uXCAgWzNdJCQKCgoKYmVpbmcgJENfezB9PUlfe0t9JCwgdGhlIHJlc3Qgb2YgdGhlICRDX3tpfSQgYXJlIGNvbXB1dGVkIHJlY3Vyc2l2ZWx5IGZyb20gdGhlIFZBUiByZXByZXNlbnRhdGlvbiAsIHRoYXQgaXMgdGhleSBhcmUgZnVuY3Rpb24gb2YgdGhlICRBX3tpfSQgbWF0cmljZXMuCgoKQXMgd2l0aCB0aGUgVkFSLCBtb2RlbCAkWzNdJCBjYW4gYmUgd3JpdHRlbiB1c2luZyBhIHBvbHlub21pYWwgaW4gdGhlIGxhZyBvcGVyYXRvciBhczoKIAoKJCR5X3t0fT1DKEwpdl97dH1cIFwgXCBcIFwgXCBcIFwgXCBcIFwgXCBbNF0kJAoKYmVpbmcgJEMoTCk9KElfe0t9K0NfezF9TF57MX0rQ197Mn1MXnsyfStcIFwgLi4uKSQuCgoKT0ssIGJ1dCB3aHkgd2UgbmVlZCB0aGlzIG5ldyByZXByZXNlbnRhdGlvbiBvZiBvdXIgc3lzdGVtICR5X3t0fSQuIEZvciBkaWZmZXJlbnQgcmVhc29uLCBidXQgaW4gdGhlIGNvbnRleHQgb2YgVkFSIG1vZGVscywgYmVjYXVzZSB0aGUgVk1BIHJlcHJlc2VudGF0aW9uLCB0aGF0IGlzLCB0aGUgc2VxdWVuY2Ugb2YgJENfe2l9JCBtYXRyaWNlcyBwcm92aWRlIHRoZSBJUkZeW1dlIHdpbGwgc2VlIGluIHNob3J0IHRoYXQgdGhpcyBpcyBub3QgcmVhbGx5IHRydWUgYmVjYXVzZSAuLi4uXSwgdGhhdCBpcywgdGhpcyBzZXF1ZW5jZSBvZiAkQ197aX0kIHByb3ZpZGUgdGhlIGFuc3dlciB0byBvdXIgZmlyc3QgcXVlc3Rpb24uIAoKCkZvciBpbnN0YW5jZSwgaW4gb3VyIGV4YW1wbGUsIEltYWdpbmUgdGhhdDoKCgokJHlfe3R9PVxsZWZ0WyAKXGJlZ2lue2FycmF5fXtjfQpVU0Ffe3R9IFxcIApVMTVfe3R9IFxcIApFU1Bfe3R9JQpcZW5ke2FycmF5fSUKXHJpZ2h0XSBcIFwgXCBcIHZfe3R9PVxsZWZ0WyAKXGJlZ2lue2FycmF5fXtjfQp2X3t0fV57VVNBfSBcXCAKdl97dH1ee0UxNX0gXFwgCnZfe3R9XntFU1B9JQpcZW5ke2FycmF5fSUKXHJpZ2h0XSAkJAoKCgokJHlfe3R9fj1DX3swfXZfe3R9K0NfezF9dl97dC0xfStDX3syfXZfe3QtMn0rQ197M312X3t0LTN9K0NfezR9dl97dC00fSsuLi4kJAoKJCR5X3t0fX49XGxlZnRbIApcYmVnaW57YXJyYXl9e2NjfQoxLjAgJiAwLjAgJiAwLjAgXFwKMC4wICYgMS4wICYgMC4wIFxcCjAuMCAmIDAuMCAmIDEuMCUKXGVuZHthcnJheX0lClxyaWdodF0gdl97dH0rXGxlZnRbClxiZWdpbnthcnJheX17Y2N9CjEuMSAmIDEuMiAmIDEuMyBcXCAKMS40ICYgMS41ICYgMS42IFxcCjEuNyAmIDEuOCAmIDEuOSUKXGVuZHthcnJheX0lClxyaWdodF0gdl97dC0xfStcbGVmdFsKXGJlZ2lue2FycmF5fXtjY30KMi4xICYgMi4yICYgMi4zIFxcIAoyLjQgJiAyLjUgJiAyLjYgXFwKMi43ICYgMi44ICYgMi45JQpcZW5ke2FycmF5fSUKXHJpZ2h0XSB2X3t0LTJ9K1xsZWZ0WwpcYmVnaW57YXJyYXl9e2NjfQozLjEgJiAzLjIgJiAzLjMgXFwgCjMuNCAmIDMuNSAmIDMuNiBcXAozLjcgJiAzLjggJiAzLjklClxlbmR7YXJyYXl9JQpccmlnaHRdIHZfe3QtM30rLi4uJCQKCgoKCgo8YnI+CjxkaXYgY2xhc3MgPSAiYmx1ZSI+CioqVE8gRE86KiogVHJhY2sgd2hhdCBhcmUgZ29pbmcgdG8gYmUgdGhlIGVmZmVjdCBpbiAyMDIwLCAyMDIxLCAyMDIyICYgMjAyMyBpbiB0aGUgVVMgVm9sX0dEUCBpZiBhIGlubm92YXRpb24gb2Ygc2l6ZSAxIGluICR2XntVU0F9JCBoYXBwZW5zIHRvZGF5KDIwMjApLiBUaGF0IGlzIEknbSBhc2tpbmcgeW91IHRvIGNhbGN1bGF0ZSB3aGF0IHdpbGwgYmUgdGhlIGVmZmVjdCB0aG91Z2h0IHRpbWUgKHQsIHQrMSwgdCsyIC4uLikgb24gVVNBIG9mIGFuIGlubm92YXRpb24gb2Ygc2l6ZSAxIGluIGhpcyBvd24gZXF1YXRpb24sIHRoYXQgaXMgaW4gJHZfe3R9XntVU0F9JCAKPC9kaXY+Cjxicj4KClRoZSBhbnN3ZXIgaXM6IDEsIDEuMSwgMi4xLCAzLjEgLi4uLgoKPGJyPgo8ZGl2IGNsYXNzID0gImJsdWUiPgoqKlRPIERPOioqIFRyYWNrIHdoYXQgYXJlIGdvaW5nIHRvIGJlIHRoZSBlZmZlY3QgKipvbiBTcGFpbioqIGluIDIwMjAgMjAyMSwgMjAyMiAmIDIwMjMgaWYgdG9kYXkgKDIwMjApIHRoZXJlIGlzIGFuIGlubm92YXRpb24gb2Ygc2l6ZSAxIGluICAkdl57RTE1fSQuIFRoYXQgaXMgSSdtIGFza2luZyB5b3UgdG8gY2FsY3VsYXRlIHdoYXQgd2lsbCBiZSB0aGUgZWZmZWN0IHRob3VnaHQgdGltZSBvbiBTcGFpbiBvZiBhbiBpbm5vdmF0aW9uIG9mIHNpemUgMSBpbiAkdl57RTE1fSQuIFBsZWFzZSwgbWFrZSBhbiBlZmZvcnQsIGl0IGlzIHJlYWxseSBpbXBvcnRhbnQgdG8gbm90aWNlIGFuZCB0byB1bmRlcnN0YW5kIHRoaXMuCjwvZGl2Pgo8YnI+CgoKVGhlbiwgd2UgaGF2ZSBzb2x2ZWQgYWxyZWFkeSBvdXIgZmlyc3QgcXVlc3Rpb24sIHRoYXQgaXMsIGluIG9yZGVyIHRvIHRvIGVzdGltYXRlIHdoYXQgdGhlIGVmZmVjdHMgb2YgVVNBICYgRTE1IGluIHRoZSBTcGFuaXNoIGVjb25vbXkgd2UgaGF2ZSBmaXJzdCB0byBlc3RpbWF0ZSBhIFZBUiBhbmQgdGhlbiwgdG8gaW52ZXJ0IHRoZSBwb2x5bm9taWFsIHRvIG9idGFpbiB0aGUgc2VxdWVuY2Ugb2YgJEMkIG1hdHJpY2VzLCB0aGF0IGlzIHRoZSAkQyhMKSQgcG9seW5vbWlhbC4gCgpBbmQsIHRoYXQncyBhbGw/IERvIHlvdSB0aGluayB0aGluZ3MgYXJlIHNvIGVhc3k/IE9idmlvdXNseSBObywgaXQncyBvbmx5IHBhcnQgb2YgdGhlIHByb2Nlc3MsIHdlIHdpbGwgY29udGludWUgZXhwbGlhbmluZyB0aGlzIGxhdHRlci4KCgpOb3csIGxldCdzIG9idGFpbiB0aGUgVk1BIHJlcHJlc2VudGF0aW9uIG9mIG91cl92YXIgd2l0aCBSLgoKYGBge3J9CiMtLS0tLS0gT2J0YWluaW5nIHRoZSBXb2xkIFZNQSByZXByZXNlbnRhdGlvbiBvZiBvdXJfdmFyIHdpdGggdGhlIHZhcnMgcGFja2FnZQpQaGkob3VyX3ZhciwgbnN0ZXAgPSAzKSAgIy0gc2hvd3MgdGhlIFdPTEQgVk1BICBlc3RpbWF0ZWQgbWF0cmljZXMuIChieSBpbnZlcnRpbmcgdGhlIEEncyBtYXRyaWNlcykKYGBgCgoKCgo8YnI+CjxkaXYgY2xhc3MgPSAiYmx1ZSI+CioqVE8gRE86KiogVHJhY2sgd2hhdCBhcmUgdGhlICoqZXN0aW1hdGVkKiogZWZmZWN0IG9mIGFuIFVTICJzaG9jayIgaW4gdGhlIFNwYW5pc2ggZWNvbm9teS4KPC9kaXY+Cjxicj4KCgpUbyBmaW5pc2ggdGhlIHNlY29uZCBjbGFzcy4gSW4gZmFjdCB0aGUgZmlyc3QgY2xhc3Mgb2YgdGhlIGV4cHJlc3MgY291cnNlIHdlIGhhdmUgdG8gdW5kZXJzdGFuZCB3aHkgdGhlIFdvbGQgVk1BIGlzICoqTk9UIFVTRUZVTCoqLgoKCldoeSBpdCdzIG5vdCB1c2VmdWwgdGhlICR5X3t0fX49IEMoTCl2X3t0fT0gQ197MH12X3t0fStDX3sxfXZfe3QtMX0rQ197Mn12X3t0LTJ9K0NfezN9dl97dC0zfStDX3s0fXZfe3QtNH0rLi4uJD8KCgpUaGUgd2h5IGlzIGluIHRoZSB2YXJpYW5jZS1jb3ZhcmlhbmNlIG1hdHJpeCBvZiB0aGUgaW5ub3ZhdGlvbnMgJFxTaWdtYSBfe3Z9JCwgdGhpcyBtYXRyaXggaXQncyB1c3VhbGx5IG5vdCBkaWFnb25hbC4gVGhhdCBpdCdzIHRoZSBpbm5vdmF0aW9ucyBhcmUgY29udGVtcG9yYW5lb3VzbHkgY29ycmVsYXRlZCBhbmQgd2UgdGhpbmssIHdlIGJlbGlldmUsIHRoYXQgYSB0cnVlIHN0cnVjdHVyYWwgc2hvY2sgc2hvdWxkIGJlICJpbmRlcGVuZGVudCIsIG9ydGhvZ29uYWwgdG8gb3RoZXIgc3RydWN0dXJhbCBzaG9ja3MuCgpJbiBhIG1vcmUgZm9ybWFsIHdheToKCj4gQlVULCB1c3VhbGx5IHRoZSBWQVIgZGlzdHVyYmFuY2VzIChvciBpbm5vdmF0aW9ucykgYXJlIGNvcnJlbGF0ZWQsIHNvIHRoZSBpbnRlcnByZXRhYmlsaXR5IG9mIHRoZSBpbXB1bHNlIHJlc3BvbnNlcyB0byBpbm5vdmF0aW9uIGJlY29tZXMgcHJvYmxlbWF0aWM6IGlmIHRoZSBpbm5vdmF0aW9ucyBhcmUgY29ycmVsYXRlZCAob2ZmIGRpYWdvbmFsIGVsZW1lbnRzIG9mICRcU2lnbWEgX3t2fSQgZGlmZmVyZW50IGZyb20gemVybykgdGhlbiwgYW4gaW1wdWxzZSBpbiBmb3IgaW5zdGFuY2UsICR2X3tVU0F9JCB3b3VsZCBiZSBhc3NvY2lhdGVkIHdpdGggaW1wdWxzZXMgaW4gaW5ub3ZhdGlvbnMgaW4gdGhlIG90aGVyIGVxdWF0aW9ucyBvZiB0aGUgVkFSIG1vZGVsLiBJbiBvdGhlciB3b3JkcywgYXMgdGhlIGlubm92YXRpb25zIGFyZSBub3QgbGlrZWx5IHRvIG9jY3VyIGluIGlzb2xhdGlvbiwgdGhlbiB0cmFja2luZyB0aGUgZWZmZWN0IG9mIGFuIGlubm92YXRpb24gaW4gaXNvbGF0aW9uIGRvZXMgbm90IHJlZmxlY3Qgd2hhdCBhY3R1YWxseSBoYXBwZW5zIGluIHRoZSBzeXN0ZW0gYWZ0ZXIgYW4gaW5ub3ZhdGlvbiBoaXRzIHRoZSBzeXN0ZW0uCgo8YnI+CgojIDQuIFN0cnVjdHVyYWwgVkFScwoKT0ssIHdlIGNhbiBlc3RpbWF0ZSBhIFZBUiBhbiBpbnZlcnRpbmcgaXQgd2UgY2FuIG9idGFpbiBzb21ldGhpbmcgImNsb3NlIiB0byB0aGUgSVJGJ3Mgd2Ugd2FudCBidXQgdGhleSBhcmUgbm90IHJlYWxseSBzdHJ1Y3R1cmFsIGJlY2F1c2UgdGhlIGlubm92YXRpb24gYXJlIGNvcnJlbGF0ZWQsIHRoZW4gdGhleSBhcmUgbm90IHJlYWxseSBzdHJ1Y3R1cmFsIHNob2Nrcy4KClRvIGludGVycHJldCB0aGUgVkFSIGluIGFuIGVjb25vbWljYWxseSBtZWFuaW5nZnVsIHdheSwgb25lIG5lZWRzIHRvICJ0cmFuc2Zvcm0iIHRoZSB2ZWN0b3Igb2YgaW5ub3ZhdGlvbnMoJHZfe3R9JCkgaW50byAic3RydWN0dXJhbCIgc2hvY2tzICgkXHZhcmVwc2lsb24gX3t0fSQpLCBsaWtlIG1vbmV0YXJ5IHBvbGljeSBzaG9ja3MsIHByb2R1Y3Rpdml0eSBzaG9ja3MsIC4uLiBhbmQgaWRlYWxseSB0aGUgc3RydWN0dXJhbCBzaG9ja3Mgc2hvdWxkIGJlOiAgMSkgb3J0aG9nb25hbCBzaG9ja3MgIDIpIHNob2NrcyB3aXRoIGVjb25vbWljIG1lYW5pbmcuIAoKVGhhdCdzIG5vdyBvdXIgb2JqZWN0aXZlIHRvIHRyYW5zZm9ybSBvdXIgc3lzdGVtIGluIGEgd2F5IHRoYXQgb3VyIHZhcmlhYmxlcywgdGhlICR5X3t0fSQgaW5zdGVhZCBvZiBiZWluZyBmdW5jdGlvbiBvZiB0aGUgaW5ub3ZhdGlvbnMgKCR2X3t0fSQpLCB0aGV5IHdlcmUgZnVuY3Rpb24gb2Ygc3RydWN0dXJhbCBzaG9ja3MgKCRcdmFyZXBzaWxvbl97dH0kKS4KCgpSZW1lbWJlciwgdGhhdCB3ZSBjYW4gb2J0YWluIGVhc2lseSB0aGUgKFdvbGQpIFZNQSByZXByZXNlbnRhdGlvbjogICR5X3t0fSA9ICBDKEwpdl97dH0kIHdoZXJlICRcU2lnbWEgX3t2fSQgICBpcyBub3QgdGhlIGlkZW50aXR5LCB0aGVuIHRoZSBpbm5vdmF0aW9ucyBhcmUgY29ycmVsYXRlZC4gQlVUIHdlIHdvdWxkIGxpa2UgdG8gb2J0YWluICBzb21ldGhpbmcgbGlrZSAkeV97dH0gPSBEKEwpXHZhcmVwc2lsb25fe3R9JCB3aGVyZSAgJFxTaWdtYSBfe1x2YXJlcHNpbG9uIH09SSQKCgpUcmFuc2Zvcm1pbmcgdGhlIHN5c3RlbSBmcm9tIG9uZSBlcXVhdGlvbiB0byB0aGUgb3RoZXIgaXMgaW4gZmFjdCBhIG1hdGhlbWF0aWNhbCBwcm9ibGVtLCBhbiBDLiBBLiBTaW1zIGlzIGEgbWF0aGVtYXRpY2lhbi4gSW4gZmFjdCB0aGVpciBmaXJzdCBwcm9wb3NhbCB3YXM6IAoKCj4gIFRoZSBzdHJ1Y3R1cmFsIFZBUiBtZXRob2RvbG9neSBmaXJzdCBlc3RpbWF0ZSBhbiB1bnJlc3RyaWN0ZWQgbW9kZWwgaW4gYSByZWR1Y2VkIGZvcm0uIE5vIHByaW9yIGtub3dsZWRnZSBpcyB1c2VkIGV4Y2VwdCB0byBkZWNpZGUgd2hpY2ggdmFyaWFibGVzIHNob3VsZCBlbnRlciB0aGUgc3lzdGVtLgoKPiBTaW1z4oCZcyBvcmlnaW5hbCBpZGVhIHRvIG9idGFpbiBJUkYgJiBGRVZEIHdhcyB0byBhc3N1bWUgcmVjdXJzaXZlIGNvbnRlbXBvcmFuZW91cyBpbnRlcmFjdGlvbnMgYW1vbmcgdmFyaWFibGVzLCBpLmUuIGJ5IGltcG9zaW5nIGEgY2VydGFpbiBzdHJ1Y3R1cmFsIG9yZGVyaW5nIG9mIHRoZSB2YXJpYWJsZXMuIEluIHRlcm1zIG9mIHRoZSBtb3ZpbmcgYXZlcmFnZSAoTUEpIHJlcHJlc2VudGF0aW9uLCB0aGUgc3RydWN0dXJhbCBzaG9ja3MgZG8gbm90IGFmZmVjdCBwcmVjZWRpbmcgdmFyaWFibGVzIHNpbXVsdGFuZW91c2x5LiBJbiBmYWN0IGhlIHByb3Bvc2VkIHRvIHVzZSB0aGUgQ2hvbGVza3kgZGVjb21wb3NpdGlvbi4KCkxldCdzIHRyeSB0byBleHBsYWluIHRoaXMgY3JpdGljIHNlbnRlbmNlLiBUbyBvYnRhaW4gYW4gc3RydWN0dXJhbCBWQVI6CgotIGZpcnN0IGEgKHJlZHVjZWQgZm9ybSkgVkFSIG1vZGVsIGlzIGVzdGltYXRlZAoKLSB3ZSBjb3VsZCBpbnZlcnQgdGhlIFZBUiB0byBvYnRhaW4gdGhlIChXb2xkKSBWTUEgYnV0IGl0J3Mgbm90IHJlYWxseSB1c2VmdWwuIFdlIGNhbiBvYnRhaW4gKDEpLCBidXQgd2Ugd2FudCBhIHN0cnVjdHVyYWwgbW9kZWwgKDIpCgoKSW4gYSBkaWFncmFtOiAKCgpgYGB7ciwgZWNobyA9IEZBTFNFLCBvdXQud2lkdGggPSAiOTAlIn0Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoaGVyZTo6aGVyZSgiaW1hZ2VuZXMiLCAiMDItVk1BLmpwZyIpICkgCmBgYAoKU2ltcygxOTgwKSBwcm9wb3NlIHRvIHVzZSB0aGUgQ2hvbGVza3kgZGVjb21wb3NpdGlvbiB0byBvYnRhaW4gKDIpIGZyb20gKDEpLiBMZXQncyBkZXZlbG9wIGl0IGEgbGl0dGxlOgoKLSBUaGUgQ2hvbGVza3kgZmFjdG9yLCAkUCQsIG9mIGEgcG9zaXRpdmUgZGVmaW5pdGUgbWF0cml4ICRNJCBpcyBkZWZpbmVkIGFzIHRoZSB1bmlxdWUgbG93ZXIgdHJpYW5ndWxhciBtYXRyaXggc3VjaCB0aGF0ICRQUF57XntccHJpbWUgfX09TSQKCi0gQXMgJFxTaWdtYSBfe3Z9JCBpcyBhIHZhcmlhbmNlLWNvdmFyaWFuY2UgbWF0cml4IGl0IGFkbWl0IHRoZSBDaG9sZXNreSBkZWNvbXBvc2l0aW9uOiAkXFNpZ21hIF97dn0gPSBQUF57XntccHJpbWUgfX0kLCB3aGVyZSAkUCQgaXMgYSBtYXRyaXggY2FsbGVkIHRoZSBDaG9sZXNreSBmYWN0b3IuIFRoaXMgJFAkIG1hdHJpeCBoYXMgc29tZSBwcm9wZXJ0aWVzOiAxKSAkUCQgaXMgbG93ZXIgdHJpYW5ndWxhciwgYW5kIDIpICAkUF57LTF9XFNpZ21hIF97dn1QXnt7LTF9XntccHJpbWV9fT0gSSQKClRoZW4sIFNpbXMgcHJvcG9zZXMgdG8gdHJhbnNmb3JtIHRoZSBWTUEgcmVwcmVzZW50YXRpb24sIGxpa2UgdGhpczoKCi0gJHlfe3R9ID0gIEMoTCl2X3t0fSQKCgotICR5X3t0fT0gQyhMKSBQUF57LTF9dl97dH0kCgpJdCBzZWVtcyBzdHVwaWQsIGJ1dCBsZXQncyBjb25jZW50cmF0ZSBvbiBhIHNwZWNpZmljIHBhcnQgb2YgdGhlIGxhc3QgZXF1YXRpb246ICRQXnstMX12X3t0fSQuIAoKLSBJbiBmYWN0LCAkUF57LTF9dl97dH0kIGlzIGEgdHJhbnNmb3JtYXRpb24vcm90YXRpb24gb2YgdGhlIGlubm92YXRpb25zLiBXZSBhcmUgb2J0YWluaW5nIGEgbmV3IHZlY3RvciBvZiAiaW5ub3ZhdGlvbnMiLiBXZSBjYW4gY2FsbCB0aG9zZSBuZXcgaW5ub3ZhdGlvbiBhcyB3ZSB3YW50LCBmb3IgaW5zdGFuY2UgJFBeey0xfXZfe3R9ID0gXHZhcmVwc2lsb25fe3R9JAoKCkxldCdzIHNlZSB3aGF0IGFyZSB0aGUgY292YXJpYW5jZSBtYXRyaXggb2YgdGhlc2UgbmV3ICJpbm5vdmF0aW9ucyIgdGhhdCB3ZSBoYXZlIGNhbGxlZCAkXHZhcmVwc2lsb25fe3R9JC4gRG8geW91IGd1ZXNzPwoKCmBgYHtyLCBlY2hvID0gRkFMU0UsIG91dC53aWR0aCA9ICI5MCUifQprbml0cjo6aW5jbHVkZV9ncmFwaGljcyhoZXJlOjpoZXJlKCJpbWFnZW5lcyIsICIwMy1WTUEuanBnIikgKSAKYGBgCgoKVGhhdCBpcywgdGhlICJ0cmFuc2Zvcm1lZCBpbm5vdmF0aW9ucyIgYXJlIG9ydGhvZ29uYWwgLi4uLiB0aGVuIFNpbXMgaW50ZXJwcmV0ZWQgdGhlbSBhcyBzdHJ1Y3R1cmFsIHNob2Nrcy4gR29vZCwgQlVUIGhlIHJlY2VpdmVkIHNvbWUgY3JpdGlxdWVzIC4uLiB0aGF0IHdlIHdpbGwgc2VlIGxhdHRlci4KCkJ5IG5vdyBsZXQncyByZXR1cm4gdG86IAoKLSAkeV97dH09IEMoTCkgUFBeey0xfXZfe3R9JCAgICBhcyB3ZSBoYXZlIGNhbGwgJFBeey0xfXZfe3R9ID0gXHZhcmVwc2lsb25fe3R9JCwgaW4gZmFjdCB3ZSBoYXZlOgoKCi0gJHlfe3R9PSBDKEwpIFBcdmFyZXBzaWxvbl97dH0kICAgCgoKCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUTyBUSElOSzoqKiBUaGUgbGFzdCBlcXVhdGlvbiAkeV97dH09IEMoTCkgUFx2YXJlcHNpbG9uX3t0fSQgICBpcyBhIHN0cnVjdHVyYWwgbW9kZWw/CjwvZGl2Pgo8YnI+CgoKSW4gZmFjdCB3ZSBjYW4gY2FsbCAkQyhMKVAgPSBEKEwpJCBhbmQgd2Ugd2lsbCBoYXZlICR5X3t0fT0gRChMKSBcdmFyZXBzaWxvbl97dH0kLCBhbmQgdGhlICREKEwpJCB3aWxsIGdpdmUgdXMgdGhlIHJlc3BvbnNlIG9mIHRoZSB2YXJpYWJsZXMgb2Ygb3VyIHN5c3RlbSAoJHlfe3R9JCkgdG8gYSB2ZWN0b3Igb2Ygc2hvY2tzIHRoYXQgYXJlIG9ydGhvZ29uYWwgKCRcdmFyZXBzaWxvbl97dH0kKS4KCgo8YnI+CjxkaXYgY2xhc3MgPSAiYmx1ZSI+CioqVE8gVEhJTks6KiogSG93IHdlIGNhbiBjYWxjdWxhdGUgdGhlIEQoTCkKPC9kaXY+Cjxicj4KCgpUaGluayB0aGF0ICRDKEwpUCA9IEQoTCkkOyB0aGF0IGlzLCAKCiQkKENfezB9ICsgQ197MX1MICsgQ197Mn1MXnsyfSkgUCA9IERfezB9ICsgRF97MX1MICsgRF97Mn1MXnsyfSQkCgpUaGF0cyBpcyA6IAoKLSAkQ197MH0gUCA9IERfezB9JAoKLSAkQ197MX0gUCA9IERfezF9JAoKCgoKCgoKPGJyPgo8ZGl2IGNsYXNzID0gInN0ZWVsIj4KKipBVFRFTlRJT046KiogKipNb3JlIG1hdGVyaWFsLCBub3QgbXVjaCBtb3JlLCB0byBiZSBhZGRlZCoqCjwvZGl2Pgo8YnI+CgoK</div>




<footer class="footer">
  
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.  <div class="text-muted"><strong> Web</strong> creada por Pedro J. Pérez. &copy;  2020. If you find any bugs please report them to <a href="mailto:pedro.j.perez@uv.es"> pedro.j.perez@uv.es</a>.</div>
  
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("06-Express-course.Rmd");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
