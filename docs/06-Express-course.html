<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>06-Express-course.utf8</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { font-weight: bold; } /* Alert */
code span.an { font-style: italic; } /* Annotation */
code span.cf { font-weight: bold; } /* ControlFlow */
code span.co { font-style: italic; } /* Comment */
code span.cv { font-style: italic; } /* CommentVar */
code span.do { font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.er { font-weight: bold; } /* Error */
code span.in { font-style: italic; } /* Information */
code span.kw { font-weight: bold; } /* Keyword */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.wa { font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
#rmd-source-code {
  display: none;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">VAR models</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="01-Course-plan.html">
    <span class="fa fa-graduation-cap"></span>
     
    Course "plan"
  </a>
</li>
<li>
  <a href="02-Logistics.html">
    <span class="fa fa-laptop"></span>
     
    Logistics
  </a>
</li>
<li>
  <a href="03-Slides.html">
    <span class="fa fa-book"></span>
     
    Slides
  </a>
</li>
<li>
  <a href="04-Lab-Gali.html">
    <span class="fa fa-code"></span>
     
    Lab
  </a>
</li>
<li>
  <a href="05-Schedule.html">
    <span class="fa fa-calendar-alt"></span>
     
    Schedule
  </a>
</li>
<li>
  <a href="06-Express-course.html">
    <span class="fa fa-capsules"></span>
     
    Express-course
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-download"></span>
     
    MáS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">In Spanish</li>
    <li>
      <a href="tt_01_primeros-pasos-con-R.html">Primeros pasos con R</a>
    </li>
    <li>
      <a href="tt_02_Rmarkdown.html">Rmarkdown</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Help for your asignment</li>
    <li>
      <a href="to-download-your-data.html">To download your data</a>
    </li>
    <li>
      <a href="to-start-your-asignment.html">To start your asignment</a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>




</div>


<style>
div.blue { background-color:#e6f0ff; border-radius: 4px; padding: 13px;}
div.steel { background-color:#dece3c; border-radius: 4px; padding: 13px;}
2c67bf
</style>
<p><br><br><br></p>
<p>As finally, instead of 5 session we are going to have almost 3 sessions, then instead of a mini-course we are going to have a express-mini-course: a quick and <strong>dirty</strong> introduction to the basics of structural VAR models.</p>
<div id="intro." class="section level1">
<h1>0. Intro.</h1>
<p>Imagine you are a researcher, or better, imagine that you are the the Economy Minister of a European country, for instance Spain, and you need to know how your country is influenced by economic external forces. We are going to use an statistical approach to try to solve the problem.That is we are going to use a statistical model. But which one? VAR models of course, this is the subject of the mini-course.</p>
<p>OK, but the original question (“how your country is influenced by economic external forces?”) is too wide to be tractable. Let’s made the question more specific. We have heard that there exists an international cycle and an European cycle, then the question is how Spain reacts to the international and European cycle. What are their influence in the Spanish economy.</p>
<p>Even more precisely, we are going to try to answer two questions:</p>
<ol style="list-style-type: decimal">
<li><p>What will happen to Spanish economy if something positive (a positive shock) happens in the international cycle or in the European business cycle. (IRF)</p></li>
<li><p>What is the importance of international and European cycle in the Spanish economic fluctuations? (FEVD)</p></li>
</ol>
<p>OK, we are going to use statistical models, then we will need data. But wait, we already have data, last class we have downloaded some variables. We have downloaded from Eurostat a bunch of series. In particular we are going to use 3 series of “GDP volume” for USA, E15 and our country, in that case Spain.</p>
<br>
<div class="blue">
<p><strong>To think:</strong> we will use 3 variables. Are they enough to answer the two questions or we are going to need more variables/information?</p>
</div>
<p><br></p>
<p>We are going to use a statistical approach and we have 3 variables. We can think that the 3 variables are a system where each variable influence the others others, they are interdependent. For instance, changes in US (as a proxy of the international cycle) will impact Spain and Europe. Changes in Europe will also impact on the international economy and of course in the Spanish economy. That is, I think we should treat the 3 variables as endogenous.</p>
<p>Then … what type of statistical models we could use? For instance we could use “Simultaneous equations”. But wait, those systems were criticised by Sims in 1980 because they use that he called “incredible identification restrictions”.</p>
<p>OK, let’s follow Sims’s 1980 proposal and use VAR models. First, before to estimate the VAR model, we have to specify, to write it down.</p>
</div>
<div id="specification-estimation" class="section level1">
<h1>1. Specification &amp; estimation</h1>
<p>Well, a VAR model is really “easy” to specify. You only need to select a bunch of variables to answer your questions. We have already done that. We have selected 3 variables, and, following Sims’s proposal, we are going to:</p>
<blockquote>
<p>treat all variables as endogenous (and first estimate an unrestricted model in a reduced form). No prior knowledge is used except to decide which variables should enter the system.</p>
</blockquote>
<br>
<div class="blue">
<p><strong>To think:</strong> in the last sentence there is a tricky part “first estimate an unrestricted model in a reduced form”. Try to understand it. What does mean? It’s not easy if you don’t have the right background. We will try at class.</p>
</div>
<p><br></p>
<p>Our model is described by this set of equations:</p>
<p><span class="math display">\[\left\{ 
\begin{array}{c}
US_{t}= \beta US_{t-1} + \beta US_{t-2} +  \beta E15_{t-1} +  \beta E15_{t-2} +  \beta ES_{t-1} + \beta ES_{t-2} + v_{t}^{US}
\\ 
E15_{t}= \beta US_{t-1} + \beta US_{t-2} +  \beta E15_{t-1} +  \beta E15_{t-2} +  \beta ES_{t-1} + \beta ES_{t-2} + v_{t}^{E15}
\\ 
ES_{t}= \beta US_{t-1} + \beta US_{t-2} +  \beta E15_{t-1} +  \beta E15_{t-2} +  \beta ES_{t-1} + \beta ES_{t-2} + v_{t}^{ES}
\end{array}%
\right\} \]</span></p>
<p><br></p>
<p>But, it’s better to write the model in a more compact form:</p>
<p><span class="math display">\[y_{t}~=A_{1}y_{t-1}+A_{2}y_{t-2}+v_{t}\]</span></p>
<p>The model has only two lags, but in general the VAR would be:</p>
<p><span class="math display">\[y_{t}~=A_{1}y_{t-1}+A_{2}y_{t-2}+\ \ ...\ \
+A_{p}y_{t-p}+v_{t}\ \ \ \ \ \ \ \ \ \ [2]\]</span></p>
<p>Model <span class="math inline">\([2]\)</span> can be written using a polynomial in the lag operator as:</p>
<p><span class="math display">\[A(L)y_{t}=v_{t}\ \ \ \ \ \ \ \ \ \ [3]\]</span></p>
<p>with <span class="math inline">\(A(L)=(I_{K}-A_{1}L^{1}-A_{2}L^{2}-...-A_{p}L^{p})\)</span></p>
<p><br></p>
<p>OK, but there is something that we have to solve: we have to choose <strong>how many lags</strong> will have our model, 2, 3 , 4? OK, but this will be in a moment, first we have to talk a little about the estimation method we are going to use to estimate our model.</p>
<p>Well, you should know that, <strong>if the system is stationary</strong> then, as all the equations in the VAR share the same set of regressors and all of them are lagged variables, the VAR could be estimated efficiently by OLS for each equation separately.</p>
<p>BUT, be aware that, in order to estimate the system by OLS is crucial that the error terms (<span class="math inline">\(v_{t}\)</span>) should <strong>NOT to be autocorrelated</strong>.</p>
<p>Remember also that in the context of VAR methodology, usually the error terms (<span class="math inline">\(v_{t}\)</span>) are called <strong>innovations</strong>.</p>
<p>Besides that, if the innovations are normally distributed (Gaussian) then we could apply usual inference methods, like t-test.</p>
<br>
<div class="blue">
<p><strong>To think:</strong> VAR models assume <span class="math inline">\(v_{t}\rightarrow N(0,\Sigma _{v})\)</span>. Do you think there are contemporaneous correlation among the innovation? Do you think the innovations are autocorrelated? Be aware that they are completely different questions</p>
</div>
<p><br></p>
<p>In plain English: before to use a VAR models we have to check if the system of variables is stationary, then, as all of the regressors are in the past <span class="math inline">\(y_{t-k}\)</span>, they are “like-exogenous” variables and then we could estimate the parameters of the model by OLS, <strong>BUT</strong> remember that the <span class="math inline">\(v_{t}\)</span> should shown <strong>no autocorrelation</strong>; that is we should check, after estimation, that the model residuals <span class="math inline">\(\widehat{v}_{t}\)</span> shown NO-autocorrelation</p>
<p>Besides that, if the innovations <span class="math inline">\((v_{t})\)</span> follow a Gaussian distribution then we could use the usual inference methods. Then, we should check also,the normality of the residuals <span class="math inline">\((\widehat{v}_{t})\)</span>.</p>
<p><br></p>
<p>OK. <strong>Let’s practise this in R</strong>:</p>
<ul>
<li>First we have to load the packages:</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(<span class="st">&quot;forecast&quot;</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co">#library(&quot;dygraphs&quot;)</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">library</span>(<span class="st">&quot;vars&quot;</span>)         <span class="co">#- the package used to estimate VAR models</span></a></code></pre></div>
<ul>
<li>Second, we have to load and clean the data</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># load the data for Spain ---------------------------------------------------</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(here<span class="op">::</span><span class="kw">here</span>(<span class="st">&quot;datos&quot;</span>, <span class="st">&quot;my_data_ES.csv&quot;</span>))  <span class="co">#- You should load YOUR DATA</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#- we are going to use only 3/4 the variables: Vol, Vol_15, Vol_us &amp; time</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">data &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(time, Vol_us, Vol_<span class="dv">15</span>, Vol)</a></code></pre></div>
<ul>
<li>“Cleaning” the data</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co">#- some data munging to obtaining the common sample of the 3 variables ----------------------------------</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#- first getting rip off the NAs</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">data &lt;-<span class="st"> </span>data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">drop_na</span>() </a>
<a class="sourceLine" id="cb3-4" data-line-number="4"></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#- second, calculating the start and end of the common sample of my data:</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">data_tt &lt;-<span class="st"> </span>data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">time =</span> <span class="kw">as.character</span>(time)) <span class="op">%&gt;%</span><span class="st"> </span>tidyr<span class="op">::</span><span class="kw">separate</span>(time, <span class="kw">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;quarter&quot;</span>, <span class="st">&quot;day&quot;</span>),<span class="st">&quot;-&quot;</span>)</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">data_tt &lt;-<span class="st"> </span>data_tt <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">as.numeric</span>(year)) </a>
<a class="sourceLine" id="cb3-8" data-line-number="8">data_tt &lt;-<span class="st"> </span>data_tt <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">quarter=</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">                                       quarter  <span class="op">==</span><span class="st"> &quot;01&quot;</span>  <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">                                       quarter  <span class="op">==</span><span class="st"> &quot;04&quot;</span>  <span class="op">~</span><span class="st"> </span><span class="dv">2</span>,</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">                                       quarter  <span class="op">==</span><span class="st"> &quot;07&quot;</span>  <span class="op">~</span><span class="st"> </span><span class="dv">3</span>,</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">                                       quarter  <span class="op">==</span><span class="st"> &quot;10&quot;</span>  <span class="op">~</span><span class="st"> </span><span class="dv">4</span>))</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">start_year    &lt;-<span class="st"> </span>data_tt<span class="op">$</span>year[<span class="dv">1</span>] </a>
<a class="sourceLine" id="cb3-14" data-line-number="14">start_quarter &lt;-<span class="st"> </span>data_tt<span class="op">$</span>quarter[<span class="dv">1</span>] </a>
<a class="sourceLine" id="cb3-15" data-line-number="15">end_year      &lt;-<span class="st"> </span>data_tt<span class="op">$</span>year[<span class="kw">nrow</span>(data_tt)] </a>
<a class="sourceLine" id="cb3-16" data-line-number="16">end_quarter   &lt;-<span class="st"> </span>data_tt<span class="op">$</span>quarter[<span class="kw">nrow</span>(data_tt)] </a>
<a class="sourceLine" id="cb3-17" data-line-number="17">  </a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#- we don&#39;t need &quot;data_tt&quot; anymore</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="kw">rm</span>(data_tt)</a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co">#  creating the time series with ts(): -------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">Vol    &lt;-<span class="st"> </span><span class="kw">ts</span>(data<span class="op">$</span>Vol,    <span class="dt">start =</span> <span class="kw">c</span>(start_year, start_quarter) , <span class="dt">end =</span> <span class="kw">c</span>(end_year, end_quarter) , <span class="dt">frequency =</span> <span class="dv">4</span>)   </a>
<a class="sourceLine" id="cb4-3" data-line-number="3">Vol_<span class="dv">15</span> &lt;-<span class="st"> </span><span class="kw">ts</span>(data<span class="op">$</span>Vol_<span class="dv">15</span>, <span class="dt">start =</span> <span class="kw">c</span>(start_year, start_quarter) , <span class="dt">end =</span> <span class="kw">c</span>(end_year, end_quarter) , <span class="dt">frequency =</span> <span class="dv">4</span>)   </a>
<a class="sourceLine" id="cb4-4" data-line-number="4">Vol_us &lt;-<span class="st"> </span><span class="kw">ts</span>(data<span class="op">$</span>Vol_us, <span class="dt">start =</span> <span class="kw">c</span>(start_year, start_quarter) , <span class="dt">end =</span> <span class="kw">c</span>(end_year, end_quarter) , <span class="dt">frequency =</span> <span class="dv">4</span>)   </a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw">rm</span>(start_year, start_quarter, end_year, end_quarter)</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co"># taking logs of the series ------------------------</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8">lVol    &lt;-<span class="st"> </span><span class="kw">log</span>(Vol)</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">lVol_<span class="dv">15</span> &lt;-<span class="st"> </span><span class="kw">log</span>(Vol_<span class="dv">15</span>)</a>
<a class="sourceLine" id="cb4-10" data-line-number="10">lVol_us &lt;-<span class="st"> </span><span class="kw">log</span>(Vol_us)</a>
<a class="sourceLine" id="cb4-11" data-line-number="11"></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co"># taking first log differences --------------------------</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13">dlVol     &lt;-<span class="st"> </span><span class="kw">diff</span>(lVol,      <span class="dt">lag =</span> <span class="dv">1</span>, <span class="dt">difference =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-14" data-line-number="14">dlVol_<span class="dv">15</span>  &lt;-<span class="st"> </span><span class="kw">diff</span>(lVol_<span class="dv">15</span>,   <span class="dt">lag =</span> <span class="dv">1</span>, <span class="dt">difference =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-15" data-line-number="15">dlVol_us  &lt;-<span class="st"> </span><span class="kw">diff</span>(lVol_us,   <span class="dt">lag =</span> <span class="dv">1</span>, <span class="dt">difference =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-16" data-line-number="16"></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co"># putting our 3 variables in a vector</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19">variables &lt;-<span class="st"> </span><span class="kw">cbind</span>(dlVol_us, dlVol_<span class="dv">15</span>, dlVol)        <span class="co">#- Creating a matrix with the 3 series. The Ordering will be important</span></a></code></pre></div>
<p><br></p>
<ul>
<li>third, We start to specify/estimate our VAR</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># To estimate the VAR we are going to use the &quot;vars&quot; package</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co"># Internal help from the vars package</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="kw">help</span>(<span class="dt">package =</span> vars)           <span class="co">#- calling to the pkg help</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="kw">ls</span>(<span class="st">&quot;package:vars&quot;</span>, <span class="dt">all =</span> <span class="ot">TRUE</span>) <span class="co">#- all the objects, usually functions &amp; data in the &quot;vars&quot; package</span></a></code></pre></div>
<div id="a-checking-the-stationarity-of-the-variables" class="section level3">
<h3>1.a Checking the stationarity of the variables</h3>
<ul>
<li>Why we need to check the stationarity?</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">library</span>(forecast)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">ndiffs</span>(dlVol, <span class="dt">alpha =</span> <span class="fl">0.05</span>, <span class="dt">test =</span> <span class="kw">c</span>(<span class="st">&quot;kpss&quot;</span>, <span class="st">&quot;adf&quot;</span>, <span class="st">&quot;pp&quot;</span>), <span class="dt">max.d =</span> <span class="dv">2</span> )</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="kw">ndiffs</span>(dlVol_<span class="dv">15</span>, <span class="dt">alpha =</span> <span class="fl">0.05</span>, <span class="dt">test =</span> <span class="kw">c</span>(<span class="st">&quot;adf&quot;</span>), <span class="dt">max.d =</span> <span class="dv">2</span> )</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; [1] 0</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="kw">ndiffs</span>(dlVol_us, <span class="dt">alpha =</span> <span class="fl">0.05</span>, <span class="dt">test =</span> <span class="kw">c</span>(<span class="st">&quot;adf&quot;</span>), <span class="dt">max.d =</span> <span class="dv">2</span> )</a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; [1] 0</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>()[<span class="op">!</span><span class="kw">ls</span>() <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;variables&quot;</span>)])   <span class="co">#- removing all except what we need (&quot;data&quot; and &quot;variables&quot;)</span></a></code></pre></div>
<p>Are the variables stationary? Well ….</p>
</div>
<div id="b-how-many-lags" class="section level3">
<h3>1.b How many lags?</h3>
<p>We have to decide how may lags will our VAR have. There are two strategies:</p>
<pre><code>  - 1 Use information criteria methods      

  - 2 LR tests     </code></pre>
<ul>
<li><ol style="list-style-type: decimal">
<li>Using information criteria methods</li>
</ol></li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># HOW MANY LAGS in the VAR? What about the deterministic components of the VAR? -------------------</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co"># 1. with model selection criteria (AIC)</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="kw">VARselect</span>(variables, <span class="dt">lag.max =</span> <span class="dv">8</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>)</a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co">#&gt; $selection</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">#&gt; AIC(n)  HQ(n)  SC(n) FPE(n) </span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt;      2      1      1      2 </span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">#&gt; $criteria</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">#&gt;                                1                         2</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="co">#&gt; AIC(n) -33.305728111902794807975 -33.352926926086972514440</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co">#&gt; HQ(n)  -33.172148934769104755560 -33.119163366103016699071</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="co">#&gt; SC(n)  -32.974625759395074453550 -32.773497809198467223268</span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="co">#&gt; FPE(n)   0.000000000000003432258   0.000000000000003276458</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co">#&gt;                                3                         4</span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="co">#&gt; AIC(n) -33.345867499649152421171 -33.277951424741900154913</span></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"><span class="co">#&gt; HQ(n)  -33.011919556814930842847 -32.843819099057405708209</span></a>
<a class="sourceLine" id="cb8-18" data-line-number="18"><span class="co">#&gt; SC(n)  -32.518111618379862193251 -32.201868779091817884819</span></a>
<a class="sourceLine" id="cb8-19" data-line-number="19"><span class="co">#&gt; FPE(n)   0.000000000000003305482   0.000000000000003549222</span></a>
<a class="sourceLine" id="cb8-20" data-line-number="20"><span class="co">#&gt;                                5                         6</span></a>
<a class="sourceLine" id="cb8-21" data-line-number="21"><span class="co">#&gt; AIC(n) -33.160121939388801592941 -33.059315694202368263177</span></a>
<a class="sourceLine" id="cb8-22" data-line-number="22"><span class="co">#&gt; HQ(n)  -32.625805230854048488709 -32.424814602817349395991</span></a>
<a class="sourceLine" id="cb8-23" data-line-number="23"><span class="co">#&gt; SC(n)  -31.835712529357937938812 -31.486579519790716119587</span></a>
<a class="sourceLine" id="cb8-24" data-line-number="24"><span class="co">#&gt; FPE(n)   0.000000000000004013772   0.000000000000004473433</span></a>
<a class="sourceLine" id="cb8-25" data-line-number="25"><span class="co">#&gt;                                7                         8</span></a>
<a class="sourceLine" id="cb8-26" data-line-number="26"><span class="co">#&gt; AIC(n) -32.955850109227789346278 -32.973673180905286983489</span></a>
<a class="sourceLine" id="cb8-27" data-line-number="27"><span class="co">#&gt; HQ(n)  -32.221164634992504716138 -32.138803323819736590394</span></a>
<a class="sourceLine" id="cb8-28" data-line-number="28"><span class="co">#&gt; SC(n)  -31.134787170435352265940 -30.904283477732061413690</span></a>
<a class="sourceLine" id="cb8-29" data-line-number="29"><span class="co">#&gt; FPE(n)   0.000000000000005013934   0.000000000000004995602</span></a></code></pre></div>
<br>
<div class="blue">
<p><strong>To think:</strong> If we use the information criteria methods, How many lags we should use in our VAR?</p>
</div>
<p><br></p>
<ol start="2" style="list-style-type: decimal">
<li>(Selecting the VAR order) With a sequence of LR test</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># 2. with LR test </span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">var.m4 &lt;-<span class="st"> </span><span class="kw">VAR</span>(variables, <span class="dt">p =</span> <span class="dv">4</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>) </a>
<a class="sourceLine" id="cb9-3" data-line-number="3">var.m3 &lt;-<span class="st"> </span><span class="kw">VAR</span>(variables, <span class="dt">p =</span> <span class="dv">3</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>)   </a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="kw">lrtest</span>(var.m3, var.m4)  <span class="co">#- why doesn&#39;t work this test? Why doesn&#39;t run this chunk</span></a></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">var.m5 &lt;-<span class="st"> </span><span class="kw">VAR</span>(variables, <span class="dt">p =</span> <span class="dv">5</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>) </a>
<a class="sourceLine" id="cb10-2" data-line-number="2">variables2 &lt;-<span class="st"> </span>variables[<span class="op">-</span><span class="dv">1</span>,]</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">var.m4 &lt;-<span class="st"> </span><span class="kw">VAR</span>(variables2, <span class="dt">p =</span> <span class="dv">4</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>)   </a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="kw">lrtest</span>(var.m4, var.m5)   <span class="co">#- what we select 4 or 5 lags?</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">#&gt; Likelihood ratio test</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt; Model 1: VAR(y = variables2, p = 4, type = &quot;const&quot;)</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt; Model 2: VAR(y = variables, p = 5, type = &quot;const&quot;)</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt;   #Df LogLik Df Chisq Pr(&gt;Chisq)</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt; 1  39 1206.3                    </span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">#&gt; 2  48 1210.2  9  7.82     0.5524</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="kw">rm</span>(var.m4, var.m5, variables2) </a></code></pre></div>
<br>
<div class="blue">
<p><strong>To think:</strong> How many lags? five, four? 3?</p>
</div>
<p><br></p>
<p>Well, finally we are going to use ……. <strong>4</strong> lags. Why? Don’t think too much why. One part of the reason is because I like the 4’s. I will explain at class</p>
<p><br></p>
</div>
</div>
<div id="estimation-of-the-var" class="section level1">
<h1>2. Estimation of the VAR</h1>
<p>We could estimate the equations of the model by OLS with the function <code>lm()</code>, but it’s more convenient to use the function <code>VAR()</code> from the vars package</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># ESTIMATING the VAR.  Wchich estimation method? -------------------</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="kw">VAR</span>(variables, <span class="dt">p =</span> <span class="dv">4</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>) </a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt; VAR Estimation Results:</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt; ======================= </span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt; Estimated coefficients for equation dlVol_us: </span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt; ============================================= </span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt; Call:</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt; dlVol_us = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt;  dlVol_us.l1  dlVol_15.l1     dlVol.l1  dlVol_us.l2  dlVol_15.l2     dlVol.l2 </span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="co">#&gt;  0.140093381  0.295964967  0.143893073  0.139667150 -0.327344186  0.206879448 </span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="co">#&gt;  dlVol_us.l3  dlVol_15.l3     dlVol.l3  dlVol_us.l4  dlVol_15.l4     dlVol.l4 </span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co">#&gt;  0.163086359 -0.180943519 -0.136893996  0.124946814  0.076233386 -0.132598632 </span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="co">#&gt;        const </span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="co">#&gt;  0.002717087 </span></a>
<a class="sourceLine" id="cb11-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-20" data-line-number="20"><span class="co">#&gt; Estimated coefficients for equation dlVol_15: </span></a>
<a class="sourceLine" id="cb11-21" data-line-number="21"><span class="co">#&gt; ============================================= </span></a>
<a class="sourceLine" id="cb11-22" data-line-number="22"><span class="co">#&gt; Call:</span></a>
<a class="sourceLine" id="cb11-23" data-line-number="23"><span class="co">#&gt; dlVol_15 = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb11-24" data-line-number="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-25" data-line-number="25"><span class="co">#&gt;  dlVol_us.l1  dlVol_15.l1     dlVol.l1  dlVol_us.l2  dlVol_15.l2     dlVol.l2 </span></a>
<a class="sourceLine" id="cb11-26" data-line-number="26"><span class="co">#&gt;  0.312546349  0.295221509  0.267150050 -0.043354238  0.192629282 -0.335045789 </span></a>
<a class="sourceLine" id="cb11-27" data-line-number="27"><span class="co">#&gt;  dlVol_us.l3  dlVol_15.l3     dlVol.l3  dlVol_us.l4  dlVol_15.l4     dlVol.l4 </span></a>
<a class="sourceLine" id="cb11-28" data-line-number="28"><span class="co">#&gt;  0.033803245 -0.158348439  0.201270684  0.044236237 -0.220792252  0.097898876 </span></a>
<a class="sourceLine" id="cb11-29" data-line-number="29"><span class="co">#&gt;        const </span></a>
<a class="sourceLine" id="cb11-30" data-line-number="30"><span class="co">#&gt;  0.000303764 </span></a>
<a class="sourceLine" id="cb11-31" data-line-number="31"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-32" data-line-number="32"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-33" data-line-number="33"><span class="co">#&gt; Estimated coefficients for equation dlVol: </span></a>
<a class="sourceLine" id="cb11-34" data-line-number="34"><span class="co">#&gt; ========================================== </span></a>
<a class="sourceLine" id="cb11-35" data-line-number="35"><span class="co">#&gt; Call:</span></a>
<a class="sourceLine" id="cb11-36" data-line-number="36"><span class="co">#&gt; dlVol = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb11-37" data-line-number="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-38" data-line-number="38"><span class="co">#&gt;   dlVol_us.l1   dlVol_15.l1      dlVol.l1   dlVol_us.l2   dlVol_15.l2 </span></a>
<a class="sourceLine" id="cb11-39" data-line-number="39"><span class="co">#&gt;  0.2186416876  0.1671758970  0.4423969917 -0.0684337381 -0.0911756220 </span></a>
<a class="sourceLine" id="cb11-40" data-line-number="40"><span class="co">#&gt;      dlVol.l2   dlVol_us.l3   dlVol_15.l3      dlVol.l3   dlVol_us.l4 </span></a>
<a class="sourceLine" id="cb11-41" data-line-number="41"><span class="co">#&gt;  0.0387725148  0.0696371929 -0.3593828587  0.4065999884  0.1854258434 </span></a>
<a class="sourceLine" id="cb11-42" data-line-number="42"><span class="co">#&gt;   dlVol_15.l4      dlVol.l4         const </span></a>
<a class="sourceLine" id="cb11-43" data-line-number="43"><span class="co">#&gt; -0.2156336442  0.0908045089 -0.0003369354</span></a></code></pre></div>
<p><br></p>
<p>Let’s estimate again, but instead of showing the results, we are going to assign them to the <code>our_var</code> object:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">our_var &lt;-<span class="st"> </span><span class="kw">VAR</span>(variables, <span class="dt">p =</span> <span class="dv">4</span>, <span class="dt">type =</span> <span class="st">&quot;const&quot;</span>)   <span class="co">#- saving the estimation results in the object &quot;our_var&quot;</span></a></code></pre></div>
<br>
<div class="blue">
<p><strong>To DO:</strong> please take a look at the “our_var” object. What it is? What it contains?</p>
</div>
<p><br></p>
<p>In fact, now you can check if our estimated VAR model is stable:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co">#------ Checking stability(eigenvalues of the companion coefficient matrix must have modulus less than 1)</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="kw">roots</span>(our_var, <span class="dt">modulus=</span><span class="ot">TRUE</span>) <span class="co">#- Returns a vector with the eigenvalues</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co">#&gt;  [1] 0.8642010 0.8642010 0.7348085 0.7348085 0.7241211 0.7241211 0.6111380</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#&gt;  [8] 0.6111380 0.5042838 0.5042838 0.3834947 0.3834947</span></a></code></pre></div>
<p>Let’s look at the estimation results in two different ways, using two functions of the <code>vars</code>package:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># LOOKING at the results of the estimated VAR ----------------</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="kw">summary</span>(our_var)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="co">#&gt; VAR Estimation Results:</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="co">#&gt; ========================= </span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="co">#&gt; Endogenous variables: dlVol_us, dlVol_15, dlVol </span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="co">#&gt; Deterministic variables: const </span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="co">#&gt; Sample size: 95 </span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="co">#&gt; Log Likelihood: 1218.92 </span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="co">#&gt; Roots of the characteristic polynomial:</span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="co">#&gt; 0.8642 0.8642 0.7348 0.7348 0.7241 0.7241 0.6111 0.6111 0.5043 0.5043 0.3835 0.3835</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="co">#&gt; Call:</span></a>
<a class="sourceLine" id="cb14-13" data-line-number="13"><span class="co">#&gt; VAR(y = variables, p = 4, type = &quot;const&quot;)</span></a>
<a class="sourceLine" id="cb14-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-15" data-line-number="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-16" data-line-number="16"><span class="co">#&gt; Estimation results for equation dlVol_us: </span></a>
<a class="sourceLine" id="cb14-17" data-line-number="17"><span class="co">#&gt; ========================================= </span></a>
<a class="sourceLine" id="cb14-18" data-line-number="18"><span class="co">#&gt; dlVol_us = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb14-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-20" data-line-number="20"><span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)   </span></a>
<a class="sourceLine" id="cb14-21" data-line-number="21"><span class="co">#&gt; dlVol_us.l1  0.140093   0.121641   1.152   0.2528   </span></a>
<a class="sourceLine" id="cb14-22" data-line-number="22"><span class="co">#&gt; dlVol_15.l1  0.295965   0.220481   1.342   0.1832   </span></a>
<a class="sourceLine" id="cb14-23" data-line-number="23"><span class="co">#&gt; dlVol.l1     0.143893   0.222556   0.647   0.5197   </span></a>
<a class="sourceLine" id="cb14-24" data-line-number="24"><span class="co">#&gt; dlVol_us.l2  0.139667   0.126960   1.100   0.2745   </span></a>
<a class="sourceLine" id="cb14-25" data-line-number="25"><span class="co">#&gt; dlVol_15.l2 -0.327344   0.225351  -1.453   0.1502   </span></a>
<a class="sourceLine" id="cb14-26" data-line-number="26"><span class="co">#&gt; dlVol.l2     0.206879   0.224822   0.920   0.3602   </span></a>
<a class="sourceLine" id="cb14-27" data-line-number="27"><span class="co">#&gt; dlVol_us.l3  0.163086   0.127043   1.284   0.2029   </span></a>
<a class="sourceLine" id="cb14-28" data-line-number="28"><span class="co">#&gt; dlVol_15.l3 -0.180944   0.221553  -0.817   0.4165   </span></a>
<a class="sourceLine" id="cb14-29" data-line-number="29"><span class="co">#&gt; dlVol.l3    -0.136894   0.232695  -0.588   0.5579   </span></a>
<a class="sourceLine" id="cb14-30" data-line-number="30"><span class="co">#&gt; dlVol_us.l4  0.124947   0.126970   0.984   0.3280   </span></a>
<a class="sourceLine" id="cb14-31" data-line-number="31"><span class="co">#&gt; dlVol_15.l4  0.076233   0.210008   0.363   0.7175   </span></a>
<a class="sourceLine" id="cb14-32" data-line-number="32"><span class="co">#&gt; dlVol.l4    -0.132599   0.228841  -0.579   0.5639   </span></a>
<a class="sourceLine" id="cb14-33" data-line-number="33"><span class="co">#&gt; const        0.002717   0.001020   2.664   0.0093 **</span></a>
<a class="sourceLine" id="cb14-34" data-line-number="34"><span class="co">#&gt; ---</span></a>
<a class="sourceLine" id="cb14-35" data-line-number="35"><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></a>
<a class="sourceLine" id="cb14-36" data-line-number="36"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-37" data-line-number="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-38" data-line-number="38"><span class="co">#&gt; Residual standard error: 0.005333 on 82 degrees of freedom</span></a>
<a class="sourceLine" id="cb14-39" data-line-number="39"><span class="co">#&gt; Multiple R-Squared: 0.2971,  Adjusted R-squared: 0.1943 </span></a>
<a class="sourceLine" id="cb14-40" data-line-number="40"><span class="co">#&gt; F-statistic: 2.889 on 12 and 82 DF,  p-value: 0.002265 </span></a>
<a class="sourceLine" id="cb14-41" data-line-number="41"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-42" data-line-number="42"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-43" data-line-number="43"><span class="co">#&gt; Estimation results for equation dlVol_15: </span></a>
<a class="sourceLine" id="cb14-44" data-line-number="44"><span class="co">#&gt; ========================================= </span></a>
<a class="sourceLine" id="cb14-45" data-line-number="45"><span class="co">#&gt; dlVol_15 = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb14-46" data-line-number="46"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-47" data-line-number="47"><span class="co">#&gt;               Estimate Std. Error t value Pr(&gt;|t|)    </span></a>
<a class="sourceLine" id="cb14-48" data-line-number="48"><span class="co">#&gt; dlVol_us.l1  0.3125463  0.0876809   3.565 0.000611 ***</span></a>
<a class="sourceLine" id="cb14-49" data-line-number="49"><span class="co">#&gt; dlVol_15.l1  0.2952215  0.1589262   1.858 0.066815 .  </span></a>
<a class="sourceLine" id="cb14-50" data-line-number="50"><span class="co">#&gt; dlVol.l1     0.2671500  0.1604216   1.665 0.099669 .  </span></a>
<a class="sourceLine" id="cb14-51" data-line-number="51"><span class="co">#&gt; dlVol_us.l2 -0.0433542  0.0915145  -0.474 0.636943    </span></a>
<a class="sourceLine" id="cb14-52" data-line-number="52"><span class="co">#&gt; dlVol_15.l2  0.1926293  0.1624364   1.186 0.239097    </span></a>
<a class="sourceLine" id="cb14-53" data-line-number="53"><span class="co">#&gt; dlVol.l2    -0.3350458  0.1620552  -2.067 0.041842 *  </span></a>
<a class="sourceLine" id="cb14-54" data-line-number="54"><span class="co">#&gt; dlVol_us.l3  0.0338032  0.0915744   0.369 0.712979    </span></a>
<a class="sourceLine" id="cb14-55" data-line-number="55"><span class="co">#&gt; dlVol_15.l3 -0.1583484  0.1596991  -0.992 0.324338    </span></a>
<a class="sourceLine" id="cb14-56" data-line-number="56"><span class="co">#&gt; dlVol.l3     0.2012707  0.1677301   1.200 0.233607    </span></a>
<a class="sourceLine" id="cb14-57" data-line-number="57"><span class="co">#&gt; dlVol_us.l4  0.0442362  0.0915217   0.483 0.630141    </span></a>
<a class="sourceLine" id="cb14-58" data-line-number="58"><span class="co">#&gt; dlVol_15.l4 -0.2207923  0.1513774  -1.459 0.148507    </span></a>
<a class="sourceLine" id="cb14-59" data-line-number="59"><span class="co">#&gt; dlVol.l4     0.0978989  0.1649520   0.593 0.554481    </span></a>
<a class="sourceLine" id="cb14-60" data-line-number="60"><span class="co">#&gt; const        0.0003038  0.0007352   0.413 0.680573    </span></a>
<a class="sourceLine" id="cb14-61" data-line-number="61"><span class="co">#&gt; ---</span></a>
<a class="sourceLine" id="cb14-62" data-line-number="62"><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></a>
<a class="sourceLine" id="cb14-63" data-line-number="63"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-64" data-line-number="64"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-65" data-line-number="65"><span class="co">#&gt; Residual standard error: 0.003844 on 82 degrees of freedom</span></a>
<a class="sourceLine" id="cb14-66" data-line-number="66"><span class="co">#&gt; Multiple R-Squared: 0.5715,  Adjusted R-squared: 0.5088 </span></a>
<a class="sourceLine" id="cb14-67" data-line-number="67"><span class="co">#&gt; F-statistic: 9.114 on 12 and 82 DF,  p-value: 0.00000000007436 </span></a>
<a class="sourceLine" id="cb14-68" data-line-number="68"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-69" data-line-number="69"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-70" data-line-number="70"><span class="co">#&gt; Estimation results for equation dlVol: </span></a>
<a class="sourceLine" id="cb14-71" data-line-number="71"><span class="co">#&gt; ====================================== </span></a>
<a class="sourceLine" id="cb14-72" data-line-number="72"><span class="co">#&gt; dlVol = dlVol_us.l1 + dlVol_15.l1 + dlVol.l1 + dlVol_us.l2 + dlVol_15.l2 + dlVol.l2 + dlVol_us.l3 + dlVol_15.l3 + dlVol.l3 + dlVol_us.l4 + dlVol_15.l4 + dlVol.l4 + const </span></a>
<a class="sourceLine" id="cb14-73" data-line-number="73"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-74" data-line-number="74"><span class="co">#&gt;               Estimate Std. Error t value Pr(&gt;|t|)   </span></a>
<a class="sourceLine" id="cb14-75" data-line-number="75"><span class="co">#&gt; dlVol_us.l1  0.2186417  0.0842222   2.596  0.01117 * </span></a>
<a class="sourceLine" id="cb14-76" data-line-number="76"><span class="co">#&gt; dlVol_15.l1  0.1671759  0.1526571   1.095  0.27668   </span></a>
<a class="sourceLine" id="cb14-77" data-line-number="77"><span class="co">#&gt; dlVol.l1     0.4423970  0.1540936   2.871  0.00521 **</span></a>
<a class="sourceLine" id="cb14-78" data-line-number="78"><span class="co">#&gt; dlVol_us.l2 -0.0684337  0.0879046  -0.779  0.43851   </span></a>
<a class="sourceLine" id="cb14-79" data-line-number="79"><span class="co">#&gt; dlVol_15.l2 -0.0911756  0.1560289  -0.584  0.56059   </span></a>
<a class="sourceLine" id="cb14-80" data-line-number="80"><span class="co">#&gt; dlVol.l2     0.0387725  0.1556627   0.249  0.80392   </span></a>
<a class="sourceLine" id="cb14-81" data-line-number="81"><span class="co">#&gt; dlVol_us.l3  0.0696372  0.0879621   0.792  0.43084   </span></a>
<a class="sourceLine" id="cb14-82" data-line-number="82"><span class="co">#&gt; dlVol_15.l3 -0.3593829  0.1533996  -2.343  0.02156 * </span></a>
<a class="sourceLine" id="cb14-83" data-line-number="83"><span class="co">#&gt; dlVol.l3     0.4066000  0.1611137   2.524  0.01354 * </span></a>
<a class="sourceLine" id="cb14-84" data-line-number="84"><span class="co">#&gt; dlVol_us.l4  0.1854258  0.0879115   2.109  0.03797 * </span></a>
<a class="sourceLine" id="cb14-85" data-line-number="85"><span class="co">#&gt; dlVol_15.l4 -0.2156336  0.1454061  -1.483  0.14191   </span></a>
<a class="sourceLine" id="cb14-86" data-line-number="86"><span class="co">#&gt; dlVol.l4     0.0908045  0.1584452   0.573  0.56815   </span></a>
<a class="sourceLine" id="cb14-87" data-line-number="87"><span class="co">#&gt; const       -0.0003369  0.0007062  -0.477  0.63457   </span></a>
<a class="sourceLine" id="cb14-88" data-line-number="88"><span class="co">#&gt; ---</span></a>
<a class="sourceLine" id="cb14-89" data-line-number="89"><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></a>
<a class="sourceLine" id="cb14-90" data-line-number="90"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-91" data-line-number="91"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-92" data-line-number="92"><span class="co">#&gt; Residual standard error: 0.003693 on 82 degrees of freedom</span></a>
<a class="sourceLine" id="cb14-93" data-line-number="93"><span class="co">#&gt; Multiple R-Squared: 0.7331,  Adjusted R-squared: 0.6941 </span></a>
<a class="sourceLine" id="cb14-94" data-line-number="94"><span class="co">#&gt; F-statistic: 18.77 on 12 and 82 DF,  p-value: &lt; 0.00000000000000022 </span></a>
<a class="sourceLine" id="cb14-95" data-line-number="95"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-96" data-line-number="96"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-97" data-line-number="97"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-98" data-line-number="98"><span class="co">#&gt; Covariance matrix of residuals:</span></a>
<a class="sourceLine" id="cb14-99" data-line-number="99"><span class="co">#&gt;             dlVol_us   dlVol_15       dlVol</span></a>
<a class="sourceLine" id="cb14-100" data-line-number="100"><span class="co">#&gt; dlVol_us 0.000028443 0.00000884 0.000007696</span></a>
<a class="sourceLine" id="cb14-101" data-line-number="101"><span class="co">#&gt; dlVol_15 0.000008840 0.00001478 0.000010160</span></a>
<a class="sourceLine" id="cb14-102" data-line-number="102"><span class="co">#&gt; dlVol    0.000007696 0.00001016 0.000013636</span></a>
<a class="sourceLine" id="cb14-103" data-line-number="103"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-104" data-line-number="104"><span class="co">#&gt; Correlation matrix of residuals:</span></a>
<a class="sourceLine" id="cb14-105" data-line-number="105"><span class="co">#&gt;          dlVol_us dlVol_15  dlVol</span></a>
<a class="sourceLine" id="cb14-106" data-line-number="106"><span class="co">#&gt; dlVol_us   1.0000   0.4312 0.3908</span></a>
<a class="sourceLine" id="cb14-107" data-line-number="107"><span class="co">#&gt; dlVol_15   0.4312   1.0000 0.7157</span></a>
<a class="sourceLine" id="cb14-108" data-line-number="108"><span class="co">#&gt; dlVol      0.3908   0.7157 1.0000</span></a></code></pre></div>
<br>
<div class="blue">
<p><strong>To DO:</strong> Please take a look at the results. Please have another more close look at the Covariance matrix of residuals. <strong>The residuals are contemporaneously correlated?</strong> They are autocorrelated?</p>
</div>
<p><br></p>
<p><br></p>
<p>Another look at the results of the VAR estimation, now using the <code>Acoef()</code>function of the <code>vars</code> package:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="co">#------ shows the A estimated matrices. Be aware that they are the same results</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="kw">Acoef</span>(our_var)   </a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">#&gt;          dlVol_us.l1 dlVol_15.l1  dlVol.l1</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#&gt; dlVol_us   0.1400934   0.2959650 0.1438931</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt; dlVol_15   0.3125463   0.2952215 0.2671500</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt; dlVol      0.2186417   0.1671759 0.4423970</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">#&gt;          dlVol_us.l2 dlVol_15.l2    dlVol.l2</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt; dlVol_us  0.13966715 -0.32734419  0.20687945</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt; dlVol_15 -0.04335424  0.19262928 -0.33504579</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt; dlVol    -0.06843374 -0.09117562  0.03877251</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt; [[3]]</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt;          dlVol_us.l3 dlVol_15.l3   dlVol.l3</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt; dlVol_us  0.16308636  -0.1809435 -0.1368940</span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt; dlVol_15  0.03380325  -0.1583484  0.2012707</span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="co">#&gt; dlVol     0.06963719  -0.3593829  0.4066000</span></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb15-21" data-line-number="21"><span class="co">#&gt; [[4]]</span></a>
<a class="sourceLine" id="cb15-22" data-line-number="22"><span class="co">#&gt;          dlVol_us.l4 dlVol_15.l4    dlVol.l4</span></a>
<a class="sourceLine" id="cb15-23" data-line-number="23"><span class="co">#&gt; dlVol_us  0.12494681  0.07623339 -0.13259863</span></a>
<a class="sourceLine" id="cb15-24" data-line-number="24"><span class="co">#&gt; dlVol_15  0.04423624 -0.22079225  0.09789888</span></a>
<a class="sourceLine" id="cb15-25" data-line-number="25"><span class="co">#&gt; dlVol     0.18542584 -0.21563364  0.09080451</span></a></code></pre></div>
<br>
<div class="blue">
<p><strong>To Think:</strong> What are this results? Are the same results previously seen or are other results? Why we need this matrices?. (the first two questions are obvious, but not the third)</p>
</div>
<p><br></p>
<p>Before to use our estimated VAR we should check if the residuals are correlated (autocorrelation)</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">serial.test</span>(our_var, <span class="dt">lags.pt =</span> <span class="dv">8</span> )  <span class="co">#-- 8 lags for autocorrelation portmanteau test</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co">#&gt;  Portmanteau Test (asymptotic)</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="co">#&gt; data:  Residuals of VAR object our_var</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="co">#&gt; Chi-squared = 43.881, df = 36, p-value = 0.1721</span></a></code></pre></div>
<p>We have to check also for Normality of residuals.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">normality.test</span>(our_var, <span class="dt">multivariate.only=</span><span class="ot">FALSE</span>)   <span class="co">#-- Normality test</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">#&gt; $dlVol_us</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="co">#&gt;  JB-Test (univariate)</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">#&gt; data:  Residual of dlVol_us equation</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="co">#&gt; Chi-squared = 31.878, df = 2, p-value = 0.0000001196</span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="co">#&gt; $dlVol_15</span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="co">#&gt;  JB-Test (univariate)</span></a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-14" data-line-number="14"><span class="co">#&gt; data:  Residual of dlVol_15 equation</span></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="co">#&gt; Chi-squared = 39.913, df = 2, p-value = 0.000000002153</span></a>
<a class="sourceLine" id="cb17-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="co">#&gt; $dlVol</span></a>
<a class="sourceLine" id="cb17-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-20" data-line-number="20"><span class="co">#&gt;  JB-Test (univariate)</span></a>
<a class="sourceLine" id="cb17-21" data-line-number="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-22" data-line-number="22"><span class="co">#&gt; data:  Residual of dlVol equation</span></a>
<a class="sourceLine" id="cb17-23" data-line-number="23"><span class="co">#&gt; Chi-squared = 84.98, df = 2, p-value &lt; 0.00000000000000022</span></a>
<a class="sourceLine" id="cb17-24" data-line-number="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-25" data-line-number="25"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-26" data-line-number="26"><span class="co">#&gt; $JB</span></a>
<a class="sourceLine" id="cb17-27" data-line-number="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-28" data-line-number="28"><span class="co">#&gt;  JB-Test (multivariate)</span></a>
<a class="sourceLine" id="cb17-29" data-line-number="29"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-30" data-line-number="30"><span class="co">#&gt; data:  Residuals of VAR object our_var</span></a>
<a class="sourceLine" id="cb17-31" data-line-number="31"><span class="co">#&gt; Chi-squared = 38.903, df = 6, p-value = 0.0000007478</span></a>
<a class="sourceLine" id="cb17-32" data-line-number="32"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-33" data-line-number="33"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-34" data-line-number="34"><span class="co">#&gt; $Skewness</span></a>
<a class="sourceLine" id="cb17-35" data-line-number="35"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-36" data-line-number="36"><span class="co">#&gt;  Skewness only (multivariate)</span></a>
<a class="sourceLine" id="cb17-37" data-line-number="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-38" data-line-number="38"><span class="co">#&gt; data:  Residuals of VAR object our_var</span></a>
<a class="sourceLine" id="cb17-39" data-line-number="39"><span class="co">#&gt; Chi-squared = 6.5491, df = 3, p-value = 0.08775</span></a>
<a class="sourceLine" id="cb17-40" data-line-number="40"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-41" data-line-number="41"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-42" data-line-number="42"><span class="co">#&gt; $Kurtosis</span></a>
<a class="sourceLine" id="cb17-43" data-line-number="43"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-44" data-line-number="44"><span class="co">#&gt;  Kurtosis only (multivariate)</span></a>
<a class="sourceLine" id="cb17-45" data-line-number="45"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb17-46" data-line-number="46"><span class="co">#&gt; data:  Residuals of VAR object our_var</span></a>
<a class="sourceLine" id="cb17-47" data-line-number="47"><span class="co">#&gt; Chi-squared = 32.354, df = 3, p-value = 0.0000004408</span></a></code></pre></div>
<p>OK, more or less, our estimated VAR model is “valid”, then we could now use our estimated VAR to perform some task,for instance to test for Granger causality or for forecasting:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="co">#------ We can test Granger causality</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw">causality</span>(our_var, <span class="dt">cause =</span> <span class="kw">c</span>(<span class="st">&quot;dlVol&quot;</span>))      <span class="co">#- dlVol Granger-cause the other(s) variables?</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="kw">causality</span>(our_var, <span class="dt">cause =</span> <span class="kw">c</span>(<span class="st">&quot;dlVol_15&quot;</span>))   <span class="co">#- dlVol_15 Granger-cause the other(s) variables?</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="kw">causality</span>(our_var, <span class="dt">cause =</span> <span class="kw">c</span>(<span class="st">&quot;dlVol_us&quot;</span>))   <span class="co">#- dlVol_15 Granger-cause the other(s) variables?</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="co">#------ We can use the VAR for forecasting</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="kw">predict</span>(our_var, <span class="dt">n.ahead =</span> <span class="dv">3</span>)  </a>
<a class="sourceLine" id="cb18-8" data-line-number="8"><span class="kw">fanchart</span>(<span class="kw">predict</span>(our_var))</a></code></pre></div>
<p>But our objective is not to forecast, it’s in some way related, but in reality is a little bite different.</p>
</div>
<div id="obtaining-the-vma-representation" class="section level1">
<h1>3. Obtaining the VMA representation</h1>
<p>OK. We have estimated a VAR model …. BUT we have not answered the two questions we want to ask:</p>
<ol style="list-style-type: decimal">
<li><p>What is the response of the Spanish economy to a shock in the international cycle or in the European business cycle. (IRF)</p></li>
<li><p>What is the importance of international and European cycle in the Spanish economic fluctuations? (FEVD)</p></li>
</ol>
<p><br></p>
<p>In order to answer those questions we need to work a little bite more. First we have to obtain the VMA representation of our VAR model. That is, we have to “invert” our model. How and why? The idea is the same that Mariam explained to you, something like:</p>
<blockquote>
<p>every stationary AR process have a MA representation</p>
</blockquote>
<p>As we are now with VAR (vectorial-AR) we would obtain a vectorial-MA (VMA), but the idea is the same. Let’s do it (by hand) for a VAR with only 1 lag:</p>
<p><img src="imagenes/01-horizontal-a.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>Finally we have that our vector of variables <span class="math inline">\(y_{t}\)</span> as a function of the innovations in <span class="math inline">\(t\)</span>, in <span class="math inline">\(t-1\)</span>, <span class="math inline">\(t-2\)</span> …. This is the VMA representation. The variables in function of actual and past values of innovations (<span class="math inline">\(v_{t}\)</span>).</p>
<p>Usually we rename the matrices to call them <span class="math inline">\(C_{i}\)</span> and the VMA that you see in papers and books usually is written like:</p>
<p><span class="math display">\[y_{t}~=C_{0}v_{t}+C_{1}v_{t-1}+C_{2}v_{t-2}+\ ...\  [3]\]</span></p>
<p>being <span class="math inline">\(C_{0}=I_{K}\)</span>, the rest of the <span class="math inline">\(C_{i}\)</span> are computed recursively from the VAR representation , that is they are function of the <span class="math inline">\(A_{i}\)</span> matrices.</p>
<p>As with the VAR, model <span class="math inline">\([3]\)</span> can be written using a polynomial in the lag operator as:</p>
<p><span class="math display">\[y_{t}=C(L)v_{t}\ \ \ \ \ \ \ \ \ \ \ \ [4]\]</span></p>
<p>being <span class="math inline">\(C(L)=(I_{K}+C_{1}L^{1}+C_{2}L^{2}+\ \ ...)\)</span>.</p>
<p>OK, but why we need this new representation of our system <span class="math inline">\(y_{t}\)</span>. For different reason, but in the context of VAR models, because the VMA representation, that is, the sequence of <span class="math inline">\(C_{i}\)</span> matrices provide the IRF<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, that is, this sequence of <span class="math inline">\(C_{i}\)</span> provide the answer to our first question.</p>
<p>For instance, in our example, Imagine that:</p>
<p><span class="math display">\[y_{t}=\left[ 
\begin{array}{c}
USA_{t} \\ 
U15_{t} \\ 
ESP_{t}%
\end{array}%
\right] \ \ \ \ v_{t}=\left[ 
\begin{array}{c}
v_{t}^{USA} \\ 
v_{t}^{E15} \\ 
v_{t}^{ESP}%
\end{array}%
\right] \]</span></p>
<p><span class="math display">\[y_{t}~=C_{0}v_{t}+C_{1}v_{t-1}+C_{2}v_{t-2}+C_{3}v_{t-3}+C_{4}v_{t-4}+...\]</span></p>
<p><span class="math display">\[y_{t}~=\left[ 
\begin{array}{cc}
1.0 &amp; 0.0 &amp; 0.0 \\
0.0 &amp; 1.0 &amp; 0.0 \\
0.0 &amp; 0.0 &amp; 1.0%
\end{array}%
\right] v_{t}+\left[
\begin{array}{cc}
1.1 &amp; 1.2 &amp; 1.3 \\ 
1.4 &amp; 1.5 &amp; 1.6 \\
1.7 &amp; 1.8 &amp; 1.9%
\end{array}%
\right] v_{t-1}+\left[
\begin{array}{cc}
2.1 &amp; 2.2 &amp; 2.3 \\ 
2.4 &amp; 2.5 &amp; 2.6 \\
2.7 &amp; 2.8 &amp; 2.9%
\end{array}%
\right] v_{t-2}+\left[
\begin{array}{cc}
3.1 &amp; 3.2 &amp; 3.3 \\ 
3.4 &amp; 3.5 &amp; 3.6 \\
3.7 &amp; 3.8 &amp; 3.9%
\end{array}%
\right] v_{t-3}+...\]</span></p>
<br>
<div class="blue">
<p><strong>TO DO:</strong> Track what are going to be the effect in 2020, 2021, 2022 &amp; 2023 in the US Vol_GDP if a innovation of size 1 in <span class="math inline">\(v^{USA}\)</span> happens today(2020). That is I’m asking you to calculate what will be the effect thought time (t, t+1, t+2 …) on USA of an innovation of size 1 in his own equation, that is in <span class="math inline">\(v_{t}^{USA}\)</span></p>
</div>
<p><br></p>
<p>The answer is: 1, 1.1, 2.1, 3.1 ….</p>
<br>
<div class="blue">
<p><strong>TO DO:</strong> Track what are going to be the effect <strong>on Spain</strong> in 2020 2021, 2022 &amp; 2023 if today (2020) there is an innovation of size 1 in <span class="math inline">\(v^{E15}\)</span>. That is I’m asking you to calculate what will be the effect thought time on Spain of an innovation of size 1 in <span class="math inline">\(v^{E15}\)</span>. Please, make an effort, it is really important to notice and to understand this.</p>
</div>
<p><br></p>
<p>Then, we have solved already our first question, that is, in order to to estimate what the effects of USA &amp; E15 in the Spanish economy we have first to estimate a VAR and then, to invert the polynomial to obtain the sequence of <span class="math inline">\(C\)</span> matrices, that is the <span class="math inline">\(C(L)\)</span> polynomial.</p>
<p>And, that’s all? Do you think things are so easy? Obviously No, it’s only part of the process, we will continue explaining this latter.</p>
<p>Now, let’s obtain the VMA representation of our_var with R.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="co">#------ Obtaining the Wold VMA representation of our_var with the vars package</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="kw">Phi</span>(our_var, <span class="dt">nstep =</span> <span class="dv">3</span>)  <span class="co">#- shows the WOLD VMA  estimated matrices. (by inverting the A&#39;s matrices)</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="co">#&gt; , , 1</span></a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="co">#&gt; [1,]    1    0    0</span></a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="co">#&gt; [2,]    0    1    0</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="co">#&gt; [3,]    0    0    1</span></a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-10" data-line-number="10"><span class="co">#&gt; , , 2</span></a>
<a class="sourceLine" id="cb19-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-12" data-line-number="12"><span class="co">#&gt;           [,1]      [,2]      [,3]</span></a>
<a class="sourceLine" id="cb19-13" data-line-number="13"><span class="co">#&gt; [1,] 0.1400934 0.2959650 0.1438931</span></a>
<a class="sourceLine" id="cb19-14" data-line-number="14"><span class="co">#&gt; [2,] 0.3125463 0.2952215 0.2671500</span></a>
<a class="sourceLine" id="cb19-15" data-line-number="15"><span class="co">#&gt; [3,] 0.2186417 0.1671759 0.4423970</span></a>
<a class="sourceLine" id="cb19-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-17" data-line-number="17"><span class="co">#&gt; , , 3</span></a>
<a class="sourceLine" id="cb19-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-19" data-line-number="19"><span class="co">#&gt;           [,1]        [,2]        [,3]</span></a>
<a class="sourceLine" id="cb19-20" data-line-number="20"><span class="co">#&gt; [1,] 0.2832571 -0.17445078  0.36976283</span></a>
<a class="sourceLine" id="cb19-21" data-line-number="21"><span class="co">#&gt; [2,] 0.1511120  0.41694884 -0.09301772</span></a>
<a class="sourceLine" id="cb19-22" data-line-number="22"><span class="co">#&gt; [3,] 0.1111732  0.09684669  0.31060969</span></a>
<a class="sourceLine" id="cb19-23" data-line-number="23"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-24" data-line-number="24"><span class="co">#&gt; , , 4</span></a>
<a class="sourceLine" id="cb19-25" data-line-number="25"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-26" data-line-number="26"><span class="co">#&gt;           [,1]        [,2]        [,3]</span></a>
<a class="sourceLine" id="cb19-27" data-line-number="27"><span class="co">#&gt; [1,] 0.2259784 -0.08876230 -0.04375811</span></a>
<a class="sourceLine" id="cb19-28" data-line-number="28"><span class="co">#&gt; [2,] 0.1775226 -0.07588214  0.26935657</span></a>
<a class="sourceLine" id="cb19-29" data-line-number="29"><span class="co">#&gt; [3,] 0.1764075 -0.32566575  0.59225616</span></a></code></pre></div>
<br>
<div class="blue">
<p><strong>TO DO:</strong> Track what are the <strong>estimated</strong> effect of an US “shock” in the Spanish economy.</p>
</div>
<p><br></p>
<p>To finish the second class. In fact the first class of the express course we have to understand why the Wold VMA is <strong>NOT USEFUL</strong>.</p>
<p>Why it’s not useful the <span class="math inline">\(y_{t}~= C(L)v_{t}= C_{0}v_{t}+C_{1}v_{t-1}+C_{2}v_{t-2}+C_{3}v_{t-3}+C_{4}v_{t-4}+...\)</span>?</p>
<p>The why is in the variance-covariance matrix of the innovations <span class="math inline">\(\Sigma _{v}\)</span>, this matrix it’s usually not diagonal. That it’s the innovations are contemporaneously correlated and we think, we believe, that a true structural shock should be “independent”, orthogonal to other structural shocks.</p>
<p>In a more formal way:</p>
<blockquote>
<p>BUT, usually the VAR disturbances (or innovations) are correlated, so the interpretability of the impulse responses to innovation becomes problematic: if the innovations are correlated (off diagonal elements of <span class="math inline">\(\Sigma _{v}\)</span> different from zero) then, an impulse in for instance, <span class="math inline">\(v_{USA}\)</span> would be associated with impulses in innovations in the other equations of the VAR model. In other words, as the innovations are not likely to occur in isolation, then tracking the effect of an innovation in isolation does not reflect what actually happens in the system after an innovation hits the system.</p>
</blockquote>
<p><br></p>
</div>
<div id="structural-vars" class="section level1">
<h1>4. Structural VARs</h1>
<p>OK, we can estimate a VAR an inverting it we can obtain something “close” to the IRF’s we want but they are not really structural because the innovation are correlated, then they are not really structural shocks.</p>
<p>To interpret the VAR in an economically meaningful way, one needs to “transform” the vector of innovations(<span class="math inline">\(v_{t}\)</span>) into “structural” shocks (<span class="math inline">\(\varepsilon _{t}\)</span>), like monetary policy shocks, productivity shocks, … and ideally the structural shocks should be: 1) orthogonal shocks 2) shocks with economic meaning.</p>
<p>That’s now our objective to transform our system in a way that our variables, the <span class="math inline">\(y_{t}\)</span> instead of being function of the innovations (<span class="math inline">\(v_{t}\)</span>), they were function of structural shocks (<span class="math inline">\(\varepsilon_{t}\)</span>).</p>
<p>Remember, that we can obtain easily the (Wold) VMA representation: <span class="math inline">\(y_{t} = C(L)v_{t}\)</span> where <span class="math inline">\(\Sigma _{v}\)</span> is not the identity, then the innovations are correlated. BUT we would like to obtain something like <span class="math inline">\(y_{t} = D(L)\varepsilon_{t}\)</span> where <span class="math inline">\(\Sigma _{\varepsilon }=I\)</span></p>
<p>Transforming the system from one equation to the other is in fact a mathematical problem, an C. A. Sims is a mathematician. In fact their first proposal was:</p>
<blockquote>
<p>The structural VAR methodology first estimate an unrestricted model in a reduced form. No prior knowledge is used except to decide which variables should enter the system.</p>
</blockquote>
<blockquote>
<p>Sims’s original idea to obtain IRF &amp; FEVD was to assume recursive contemporaneous interactions among variables, i.e. by imposing a certain structural ordering of the variables. In terms of the moving average (MA) representation, the structural shocks do not affect preceding variables simultaneously. In fact he proposed to use the Cholesky decomposition.</p>
</blockquote>
<p>Let’s try to explain this last cryptic sentence.</p>
<p>To obtain/estimate an structural VAR, the usual procedure is:</p>
<ul>
<li><p>first a (reduced form) VAR model is estimated</p></li>
<li><p>we could invert the VAR to obtain the (Wold) VMA but it’s not really useful. We can obtain (1), but we want a structural model (2)</p></li>
<li><p>from the Wold or reduced form VMA representation we will obtain the structural VAR.</p></li>
</ul>
<p><br></p>
<p>In a diagram:</p>
<p><img src="imagenes/02-VMA.jpg" width="90%" style="display: block; margin: auto;" /></p>
<p><br></p>
<p>Equation (2) will be the structural VAR, in fact is, more precisely the structural VMA representation for our our system of variables <span class="math inline">\(y_{t}\)</span> , that we want to obtain to answer our two questions.</p>
<p><br></p>
<div id="simss-first-proposal" class="section level2">
<h2>4.1 Sims’s first proposal</h2>
<p>The first proposal to “recover” the structural information from the reduced form estimates was made by Sims in 1980.</p>
<p>In particular, Sims(1980) propose to use the <a href="https://en.wikipedia.org/wiki/Cholesky_decomposition">Cholesky decomposition</a> to obtain (2) from (1). Let’s develop it a little:</p>
<ul>
<li><p>Cholesky found that every symmetric definite positive matrix, let’s call it <span class="math inline">\(M\)</span> admits a <strong>unique</strong> factorisation like <span class="math inline">\(M = PP^{^{\prime }}\)</span>. Where <span class="math inline">\(P\)</span> is called the Cholesky factor and it is a <strong>lower triangular</strong> matrix.</p></li>
<li><p>Sims is a mathematician and he obviously knew the Cholesky decomposition, then he proposed in his 1980 paper to use this Theorem in order to transform our reduced form VAR to a “structural” one. Structural in the sense that the transformed “innovations” were orthogonal. Let’s explain this a little bite more:</p></li>
<li><p>The variance-covariance matrix of our VAR, the <span class="math inline">\(\Sigma _{v}\)</span>, as it is a variance-covariance matrix, it admit the Cholesky decomposition: <span class="math inline">\(\Sigma _{v} = PP^{^{\prime }}\)</span>, where <span class="math inline">\(P\)</span> is the Cholesky factor; that is <span class="math inline">\(P\)</span> matrix has some properties:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(P\)</span> is lower triangular, and<br />
</li>
<li><span class="math inline">\(P^{-1}\Sigma _{v}P^{{-1}^{\prime}}= I\)</span></li>
</ol></li>
</ul>
<p>Then, Sims proposes to transform the reduced form VMA representation (1), like this:</p>
<ul>
<li><p><span class="math inline">\(y_{t} = C(L)v_{t}\)</span></p></li>
<li><p><span class="math inline">\(y_{t}= C(L) PP^{-1}v_{t}\)</span></p></li>
</ul>
<p>It seems stupid, because it seems that we are complicating things, but let’s concentrate on a specific part of the last equation: <span class="math inline">\(P^{-1}v_{t}\)</span>.</p>
<ul>
<li>In fact, <span class="math inline">\(P^{-1}v_{t}\)</span> is a transformation/rotation of the innovations. We are multiplying, we are transforming, the innovations, the <span class="math inline">\(\v_{t}\)</span>, and then obtaining a new vector of “innovations”. We can call those new innovations as we want, for instance <span class="math inline">\(P^{-1}v_{t} = \varepsilon_{t}\)</span></li>
</ul>
<p>Let’s see what are the covariance matrix of these new “innovations” that we have called <span class="math inline">\(\varepsilon_{t}\)</span>. Do you guess?</p>
<p><img src="imagenes/03-VMA.jpg" width="90%" style="display: block; margin: auto;" /></p>
<p><br></p>
<p>That is, the “transformed innovations” are orthogonal …. then Sims interpreted them as <strong>structural shocks</strong>. Good, BUT his proposal received some critiques … that we will see latter.</p>
<p><br></p>
<p>By now let’s return to:</p>
<ul>
<li><p><span class="math inline">\(y_{t}= C(L) PP^{-1}v_{t}\)</span> as we have call <span class="math inline">\(P^{-1}v_{t} = \varepsilon_{t}\)</span>, in fact we have:</p></li>
<li><p><span class="math inline">\(y_{t}= C(L) P\varepsilon_{t}\)</span></p></li>
</ul>
<br>
<div class="blue">
<p><strong>TO THINK:</strong> The last equation <span class="math inline">\(y_{t}= C(L) P\varepsilon_{t}\)</span> is a structural model? Could it be used to obtain the answers to our two questions (the importance of the European shock into the Spanish economy)? How can we obtain this new representation of <span class="math inline">\(y_{t}\)</span>, the so called structural VAR model claimed by Sims?</p>
</div>
<p><br></p>
<p>In fact we can call <span class="math inline">\(C(L)P = D(L)\)</span> and we will have <span class="math inline">\(y_{t}= D(L) \varepsilon_{t}\)</span>, and the <span class="math inline">\(D(L)\)</span> will give us the response of the variables of our system (<span class="math inline">\(y_{t}\)</span>) to a vector of shocks that are orthogonal (<span class="math inline">\(\varepsilon_{t}\)</span>).</p>
<br>
<div class="blue">
<p><strong>TO THINK:</strong> How we can calculate the D(L)</p>
</div>
<p><br></p>
<p>Think that <span class="math inline">\(C(L)P = D(L)\)</span>; that is,</p>
<p><span class="math display">\[(C_{0} + C_{1}L + C_{2}L^{2}) P = D_{0} + D_{1}L + D_{2}L^{2}\]</span></p>
<p>That is :</p>
<ul>
<li><p><span class="math inline">\(C_{0} P = D_{0}\)</span></p></li>
<li><p><span class="math inline">\(C_{1} P = D_{1}\)</span> …</p></li>
</ul>
<p><br></p>
<p>That’s was the proposal of Sims to estimate structural IRF’s: it consists on first to estimate a VAR (in reduced form), invert the autoregressive polynomial to obtain the (reduced form) VMA representation for <span class="math inline">\(y_{t}\)</span>, an finally to use the Cholesky factor to transform the reduced form VMA to a “structural” representation. In more technical words:</p>
<blockquote>
<p>Sims’s original idea was to obtain IRF&amp;FEVD was to assume recursive contemporaneous interactions among variables, i.e. by imposing a certain structural ordering of the variables. In terms of the moving average (MA) representation, the structural shocks do not affect preceding variables simultaneously (Cholesky)</p>
</blockquote>
<p>By now you should start to understand this last sentence. There is still a tricky part there: the “assume recursive contemporaneous interaction” part.</p>
<p>To finally understand the sentence, we should return to the structural VAR representation:</p>
<p><span class="math display">\[y_{t}= C(L) P\varepsilon_{t} = D(L)\varepsilon_{t}\]</span></p>
<p>and to remember that <span class="math inline">\(D_{0} = P\)</span> and that <span class="math inline">\(P\)</span> is lower triangular , then ….. when we transform the reduced VMA to obtain the structural VMA at the end we are doing, we are imposing that the matrix that gives the contemporaneous or instantaneous effect of the structural shocks <span class="math inline">\(\varepsilon_{t}\)</span> it’s in some sense recursive. We are imposing a recursive structural among our 3 equations.</p>
<p><span class="math display">\[y_{t}~=D_{0}\varepsilon_{t}+D_{1}\varepsilon_{t-1}+D_{2}\varepsilon_{t-2}+D_{3}\varepsilon_{t-3}+\varepsilon_{4}v_{t-4}+...\]</span></p>
<p>The matrix <span class="math inline">\(D_{0}\)</span> contains the contemporaneous/instantaneous response of the variables (<span class="math inline">\(y_{t}\)</span>) to the structural shocks <span class="math inline">\(\varepsilon_{t}\)</span>. <strong>AND</strong>, how it is <span class="math inline">\(D_{0}\)</span>?</p>
<br>
<div class="blue">
<p><strong>TO THINK:</strong> How it is <span class="math inline">\(D_{0}\)</span>? Lower triangular, Why? and, what does implies that <span class="math inline">\(D_{0}\)</span> is lower triangular?</p>
</div>
<p><br></p>
<p>If <span class="math inline">\(D_{0}\)</span> is lower triangular, that means that an “innovation” (in fact now, a structural shock , <span class="math inline">\(\varepsilon{t}\)</span>) in the first equation could <strong>contemporaneously</strong> affects to <strong>ALL</strong> the variables in the VAR, while the innovation in the second equation could contemporaneously affect all the variables in the VAR <strong>except</strong> the first one, … and finally, an innovation in the last equation could contemporaneously affects only the last variable in the VAR</p>
</div>
<div id="critiques-to-simss-proposal" class="section level2">
<h2>4.2 Critiques to Sims’s proposal</h2>
<p>The proposal of Sims’s 1980 implies that the first variable in the system, in our case the GDP of USA could affect all the variables in the system. The second variable, in our case E15 GDP could affect only the second and third variable. And our third variable (Spanish GDP) could only affect his own dynamics contemporaneously. That is, when we transform our VAR using the Cholesky decomposition we are imposing a recursive structure among the variables. The order of variables is important, because only the first variables can affects all the others variables contemporaneously.</p>
<br>
<div class="blue">
<p><strong>TO THINK:</strong> Do you think that it is sensible to impose a recursive structure in our system? The answer is maybe yes, maybe not …</p>
</div>
<p><br></p>
<p>Of course the proposal of Sims received some critiques as well. In fact one of the claims of Sims in favour of using VAR is that their use avoid to makes unnecessary the use of what Sims called “incredible restrictions” that other approaches, like for instance simultaneous equations models, used.</p>
<p>The first proposal (Sims) to identify the structural form by means of the Cholesky decomposition. It’s seems that he it’s not impossing none restriction but …</p>
<ul>
<li>Using the Cholesky factorization to identify the structural VAR is equivalent to choosing a recursive system of equations. <strong>BUT</strong>, as you can imagine, the order matters; that is, <strong>identification is not unique</strong>.</li>
</ul>
<br>
<div class="blue">
<p><strong>TO THINK:</strong> What does mean <strong>identification is not unique</strong>? Could yo explain it with an example using our 3 variables?</p>
</div>
<p><br></p>
<ul>
<li><p>It is important to keep in mind that the “orthogonalization” of the reduced-form residuals by applying a Cholesky decomposition is appropriate only if the recursive structure embodied in the Cholesky factorisations can be justified on economic grounds.</p></li>
<li><p>Cooley and LeRoy (1985) criticized the VAR methodology because of its “atheoretical” identification scheme. They argued that Sims did not explicitly justify the identification restrictions and claimed that a model identified by this arbitrary procedure cannot be interpreted as a structural model, because a different variable ordering yields different structural parameters.</p></li>
<li><p>Sims (1986) propose trying different orderings (there are n!) and checking if the results are robust. In general, the higher the elements off-diagonal elements of <span class="math inline">\(\Sigma _{v}\)</span> are, the higher the changes in the results.</p></li>
<li><p>But, even if there were no differences across these n! specifications, this would only prove that the results are robust among all recursive orderings, but there is no reason for the model to be recursive in the first place.</p></li>
<li><p>Since then, several ways to identify VAR models have been proposed (short-run restrictions, long-run restrictions, cointegration restrictions, sign restriction, narrative approaches etc. ).</p></li>
<li><p>As an alternative to the recursive identification scheme, Bernanke (1986) and Blanchard and Watson (1986) among others introduced non-recursive restrictions on the contemporaneous interactions among variables for identification</p></li>
<li><p>As economic theory often does not provide enough meaningful contemporaneous restrictions (and the more variables you put into your system, the more restrictions you need), the search for additional identifying restrictions led Blanchard and Quah (1989) and subsequently Shapiro and Watson (1988) and Gali (1992) to introduce restrictions on the system’s long-run properties. These long run restrictions are usually based on neutrality postulates</p></li>
<li><p>Faust and Leeper (1997) have criticized the use of long run restrictions to identify structural shocks, and show that unless the economy satisfies some types of strong restrictions, the long run restrictions will be unreliable</p></li>
<li><p>More recently, imposing sign restrictions, allows you to test the implications of all types of restrictions. By dropping one after one of the “dubious restrictions”, one can test whether the responses to shocks are sensitive to the restrictions often imposed</p></li>
<li><p>For a detailed exposition and examples of different sources of identifying restrictions see <a href="https://ideas.repec.org/p/cpr/ceprdp/8515.html">Kilian(2011)</a></p></li>
</ul>
<p>Remember: a structural VAR analysis usually start specifying, validating and finally estimating a VAR in reduced form. For the VAR representation we could obtain a reduced form VMA representation, but this reduced VMA is has little interest because it’s not structural, their IRF’s have not a clear interpretation because the innovations (<span class="math inline">\(v_{t}\)</span>) are not orthogonal, they are correlated. Then, in the structural VAR methodology the reduced VMA representation is rarely show, instead a way to recover, to identify the structural VAR is proposed.</p>
<p>Usually this implies the use of some restrictions. The first proposal made by Sims in 1980 implied to impose a recursive system.</p>
<ul>
<li><p>The most common restrictions are short-run restriction or long-run restrictions (restriction on <span class="math inline">\(D(1)\)</span>). I will explain this at class but you soul try to understand the slides or to read some material.</p></li>
<li><p>In fact in class we will use or three variables to estimate a structural VAR, but we will use for pedagogical reasons two ways to identify the shocks, one only with short run restriction , that is restriction in <span class="math inline">\(D_{0}\)</span>, and the other one using only restriction on the long-run, that is in the <span class="math inline">\(D(1)\)</span> matrix.</p></li>
<li><p>We will see this at class in the Lab section.</p></li>
</ul>
<br>
<div class="steel">
<p><strong>ATTENTION:</strong> We have reached almost the end of the <strong>express</strong>-mini-course, BUT at least you should know the second most used “instrument” in VAR methodology: the FEVD</p>
</div>
<p><br></p>
</div>
<div id="irf-and-fevd" class="section level2">
<h2>4.3 IRF and FEVD</h2>
<p>Once we have identified/obtained our structural VAR you could obtain the IRF and FEDV that are the two principal instruments of the VAR methodology in order to show their results.</p>
<p>The IRF is nothing more that a graphical representation of the sequence of <span class="math inline">\(D_{i}\)</span> matrices. This matrices contains the information we are interested in, the effect thought time of the structural shocks <span class="math inline">\(\varepsilon_{t}\)</span> into the variables <span class="math inline">\(y_ {t}\)</span></p>
<p>As an example to illustrate this, imagine that our system would be:</p>
<p><span class="math display">\[y_{t}=\left[ 
\begin{array}{c}
Y_{t} \\ 
P_{t}%
\end{array}%
\right] \ \ \ \varepsilon _{t}=\left[ 
\begin{array}{c}
\varepsilon _{t}^{1} \\ 
\varepsilon _{t}^{2}%
\end{array}%
\right] \]</span></p>
<p><br></p>
<p>An that we have obtained/identified the structural VAR using the Cholesky decomposition, then imagine that the structural VAR <span class="math inline">\(y_{t} = D(L) \varepsilon_{t}\)</span> is:</p>
<p><span class="math display">\[y_{t}~=D_{0}\varepsilon _{t}+D_{1}\varepsilon
_{t-1}+D_{2}\varepsilon _{t-2}+D_{3}\varepsilon _{t-3}+D_{4}\varepsilon
_{t-4}+...\]</span></p>
<p><span class="math display">\[y_{t}~=\left[ 
\begin{array}{cc}
0.9 &amp; 0.8 \\ 
0.7 &amp; 0.6%
\end{array}%
\right] \varepsilon _{t}+\left[ 
\begin{array}{cc}
0.5 &amp; 0.4 \\ 
0.3 &amp; 0.2%
\end{array}%
\right] \varepsilon _{t-1}+\left[ 
\begin{array}{cc}
0.1 &amp; -0.1 \\ 
-0.2 &amp; -0.3%
\end{array}%
\right] \varepsilon _{t-2}+\left[ 
\begin{array}{cc}
-0.4 &amp; -0.5 \\ 
-0.6 &amp; -0.7%
\end{array}%
\right] \varepsilon _{t-3} +...\]</span></p>
<p><br></p>
<ul>
<li>It would be possible that the element (1,2) of <span class="math inline">\(D_{0}\)</span> were 0.8? The answer it’s NO</li>
</ul>
<br>
<div class="blue">
<p><strong>TO THINK:</strong> It would be possible that the element (1,2) of <span class="math inline">\(D_{0}\)</span> were 0.8? The answer it’s NO, but <strong>WHY?</strong> Remember that were are using Cholesky decomposition and this implies that …… <em>lower triangular</em> ….</p>
</div>
<p><br></p>
<p>How we can obtain the IRF’s of our VAR? We will see at the Lab but, with the <code>vars::Psi()</code> function you can obtain the <span class="math inline">\(D_{i}\)</span>, the structural matrices (using the Cholesky decomposition)</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">Psi</span>(our_var, <span class="dt">nstep =</span> <span class="dv">2</span>)  <span class="co">#- Returns the estimated orthogonalised(Cholesky) coefficient matrices</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="co">#&gt; , , 1</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="co">#&gt;             [,1]        [,2]        [,3]</span></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"><span class="co">#&gt; [1,] 0.005333227 0.000000000 0.000000000</span></a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="co">#&gt; [2,] 0.001657586 0.003468552 0.000000000</span></a>
<a class="sourceLine" id="cb20-7" data-line-number="7"><span class="co">#&gt; [3,] 0.001443117 0.002239588 0.002556791</span></a>
<a class="sourceLine" id="cb20-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-9" data-line-number="9"><span class="co">#&gt; , , 2</span></a>
<a class="sourceLine" id="cb20-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-11" data-line-number="11"><span class="co">#&gt;             [,1]        [,2]         [,3]</span></a>
<a class="sourceLine" id="cb20-12" data-line-number="12"><span class="co">#&gt; [1,] 0.001445392 0.001348831 0.0003679046</span></a>
<a class="sourceLine" id="cb20-13" data-line-number="13"><span class="co">#&gt; [2,] 0.002541764 0.001622297 0.0006830469</span></a>
<a class="sourceLine" id="cb20-14" data-line-number="14"><span class="co">#&gt; [3,] 0.002081605 0.001570645 0.0011311168</span></a>
<a class="sourceLine" id="cb20-15" data-line-number="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-16" data-line-number="16"><span class="co">#&gt; , , 3</span></a>
<a class="sourceLine" id="cb20-17" data-line-number="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb20-18" data-line-number="18"><span class="co">#&gt;             [,1]         [,2]          [,3]</span></a>
<a class="sourceLine" id="cb20-19" data-line-number="19"><span class="co">#&gt; [1,] 0.001755118 0.0002230248  0.0009454064</span></a>
<a class="sourceLine" id="cb20-20" data-line-number="20"><span class="co">#&gt; [2,] 0.001362807 0.0012378872 -0.0002378269</span></a>
<a class="sourceLine" id="cb20-21" data-line-number="21"><span class="co">#&gt; [3,] 0.001201690 0.0010315554  0.0007941641</span></a></code></pre></div>
<p>And with the <code>vars::irf()</code> function we obtain the same information but in a more convenient way: we obtain the IRF</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">irf</span>(our_var, <span class="dt">n.ahead =</span> <span class="dv">4</span>, <span class="dt">boot =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="co">#&gt; Impulse response coefficients</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="co">#&gt; $dlVol_us</span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5"><span class="co">#&gt;          dlVol_us     dlVol_15       dlVol</span></a>
<a class="sourceLine" id="cb21-6" data-line-number="6"><span class="co">#&gt; [1,] 0.0053332270 0.0016575856 0.001443117</span></a>
<a class="sourceLine" id="cb21-7" data-line-number="7"><span class="co">#&gt; [2,] 0.0014453916 0.0025417644 0.002081605</span></a>
<a class="sourceLine" id="cb21-8" data-line-number="8"><span class="co">#&gt; [3,] 0.0017551184 0.0013628074 0.001201690</span></a>
<a class="sourceLine" id="cb21-9" data-line-number="9"><span class="co">#&gt; [4,] 0.0009949148 0.0012097002 0.001255697</span></a>
<a class="sourceLine" id="cb21-10" data-line-number="10"><span class="co">#&gt; [5,] 0.0008179526 0.0008639099 0.001573603</span></a>
<a class="sourceLine" id="cb21-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb21-12" data-line-number="12"><span class="co">#&gt; $dlVol_15</span></a>
<a class="sourceLine" id="cb21-13" data-line-number="13"><span class="co">#&gt;           dlVol_us      dlVol_15         dlVol</span></a>
<a class="sourceLine" id="cb21-14" data-line-number="14"><span class="co">#&gt; [1,]  0.0000000000  0.0034685516  0.0022395878</span></a>
<a class="sourceLine" id="cb21-15" data-line-number="15"><span class="co">#&gt; [2,]  0.0013488309  0.0016222970  0.0015706451</span></a>
<a class="sourceLine" id="cb21-16" data-line-number="16"><span class="co">#&gt; [3,]  0.0002230248  0.0012378872  0.0010315554</span></a>
<a class="sourceLine" id="cb21-17" data-line-number="17"><span class="co">#&gt; [4,] -0.0004058768  0.0003400466  0.0001968212</span></a>
<a class="sourceLine" id="cb21-18" data-line-number="18"><span class="co">#&gt; [5,] -0.0004096828 -0.0005324642 -0.0004279969</span></a>
<a class="sourceLine" id="cb21-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb21-20" data-line-number="20"><span class="co">#&gt; $dlVol</span></a>
<a class="sourceLine" id="cb21-21" data-line-number="21"><span class="co">#&gt;           dlVol_us      dlVol_15        dlVol</span></a>
<a class="sourceLine" id="cb21-22" data-line-number="22"><span class="co">#&gt; [1,]  0.0000000000  0.0000000000 0.0025567913</span></a>
<a class="sourceLine" id="cb21-23" data-line-number="23"><span class="co">#&gt; [2,]  0.0003679046  0.0006830469 0.0011311168</span></a>
<a class="sourceLine" id="cb21-24" data-line-number="24"><span class="co">#&gt; [3,]  0.0009454064 -0.0002378269 0.0007941641</span></a>
<a class="sourceLine" id="cb21-25" data-line-number="25"><span class="co">#&gt; [4,] -0.0001118803  0.0006886885 0.0015142754</span></a>
<a class="sourceLine" id="cb21-26" data-line-number="26"><span class="co">#&gt; [5,]  0.0002227746  0.0006022501 0.0012205841</span></a></code></pre></div>
<p>WE can be more specific and only to demand the IRF we are interested in:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">irf</span>(our_var, <span class="dt">n.ahead =</span> <span class="dv">5</span>,</a>
<a class="sourceLine" id="cb22-2" data-line-number="2">             <span class="dt">impulse =</span> <span class="st">&quot;dlVol_us&quot;</span>, </a>
<a class="sourceLine" id="cb22-3" data-line-number="3">             <span class="dt">response =</span> <span class="kw">c</span>(<span class="st">&quot;dlVol&quot;</span>, <span class="st">&quot;dlVol_15&quot;</span>), </a>
<a class="sourceLine" id="cb22-4" data-line-number="4">             <span class="dt">boot =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb22-5" data-line-number="5">             <span class="dt">cumulative =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb22-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb22-7" data-line-number="7"><span class="co">#&gt; Impulse response coefficients</span></a>
<a class="sourceLine" id="cb22-8" data-line-number="8"><span class="co">#&gt; $dlVol_us</span></a>
<a class="sourceLine" id="cb22-9" data-line-number="9"><span class="co">#&gt;          dlVol_15        dlVol</span></a>
<a class="sourceLine" id="cb22-10" data-line-number="10"><span class="co">#&gt; [1,] 0.0016575856 0.0014431171</span></a>
<a class="sourceLine" id="cb22-11" data-line-number="11"><span class="co">#&gt; [2,] 0.0025417644 0.0020816048</span></a>
<a class="sourceLine" id="cb22-12" data-line-number="12"><span class="co">#&gt; [3,] 0.0013628074 0.0012016895</span></a>
<a class="sourceLine" id="cb22-13" data-line-number="13"><span class="co">#&gt; [4,] 0.0012097002 0.0012556975</span></a>
<a class="sourceLine" id="cb22-14" data-line-number="14"><span class="co">#&gt; [5,] 0.0008639099 0.0015736031</span></a>
<a class="sourceLine" id="cb22-15" data-line-number="15"><span class="co">#&gt; [6,] 0.0004921735 0.0009197274</span></a></code></pre></div>
<p>But usually you don’t show the number but you plot them:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">my_irf &lt;-<span class="st"> </span><span class="kw">irf</span>(our_var, <span class="dt">n.ahead =</span> <span class="dv">25</span>,</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">                       <span class="dt">impulse =</span> <span class="st">&quot;dlVol_us&quot;</span>, </a>
<a class="sourceLine" id="cb23-3" data-line-number="3">                       <span class="dt">response =</span> <span class="kw">c</span>(<span class="st">&quot;dlVol&quot;</span>, <span class="st">&quot;dlVol_15&quot;</span>), </a>
<a class="sourceLine" id="cb23-4" data-line-number="4">                       <span class="dt">boot =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb23-5" data-line-number="5">                       <span class="dt">cumulative =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb23-6" data-line-number="6"></a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="kw">plot</span>(my_irf)</a></code></pre></div>
<p><img src="06-Express-course_files/figure-html/unnamed-chunk-25-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p><br></p>
<div id="finally-the-fevds" class="section level3">
<h3>Finally the FEVD’s</h3>
<ul>
<li><p>the first idea is that the FEVD’s comes from the IRF’s</p></li>
<li><p>Once we have orthogonalised IRF’s (the <span class="math inline">\(D_{i}\)</span> matrices ), the FEVD can be easily computed. Let’s see how:</p></li>
<li><p>The h-step ahead forecast error can be represented as:</p></li>
</ul>
<p><span class="math display">\[y_{T+h}-y_{T+h\mid T}=D_{0}\varepsilon _{T+h}+D_{1}\varepsilon_{T+h-1}+\cdots +D_{h-1}\varepsilon _{T+1}\]</span></p>
<p>As <span class="math inline">\(\Sigma _{\varepsilon }=I\)</span>, the forecast error variance of the k-th component of <span class="math inline">\(y_{T+h}\)</span> is:</p>
<p><span class="math display">\[\sigma _{k}^{2}(h)=\overset{K}{\underset{j=1}{\sum }}(d_{kj,0}^{2}+\cdots
+d_{kj,h-1}^{2})\]</span></p>
<p>where <span class="math inline">\(d_{nm,j}\)</span> denotes the <span class="math inline">\((n,m)-th\)</span> element of <span class="math inline">\(D_{j}\)</span>.</p>
<ul>
<li><p>The quantity <span class="math inline">\((d_{kj,0}^{2}+\cdots +d_{kj,h-1}^{2})/\sigma _{k}^{2}(h)\)</span> represents the contribution of the <span class="math inline">\(j\)</span>-th shock to the h-step ahead forecast error variance of variable <span class="math inline">\(k\)</span>.</p></li>
<li><p>Don’t worry too much now firstly because we will usually do this with R and secondly because we are going to practise the calculations by hand at the Lab, but ….</p></li>
<li><p>As an example to illustrate:</p></li>
</ul>
<p><span class="math display">\[y_{t}=\left[ 
\begin{array}{c}
Y_{t} \\ 
P_{t}%
\end{array}%
\right] \ \ \ \varepsilon _{t}=\left[ 
\begin{array}{c}
\varepsilon _{t}^{1} \\ 
\varepsilon _{t}^{2}%
\end{array}%
\right] \]</span></p>
<p><span class="math display">\[y_{t}~=D_{0}\varepsilon _{t}+D_{1}\varepsilon
_{t-1}+D_{2}\varepsilon _{t-2}+D_{3}\varepsilon _{t-3}+D_{4}\varepsilon
_{t-4}+...\]</span></p>
<p><span class="math display">\[y_{t}~=\left[ 
\begin{array}{cc}
0.9 &amp; 0.0 \\ 
0.7 &amp; 0.6%
\end{array}%
\right] \varepsilon _{t}+\left[ 
\begin{array}{cc}
0.5 &amp; 0.4 \\ 
0.3 &amp; 0.2%
\end{array}%
\right] \varepsilon _{t-1}+\left[ 
\begin{array}{cc}
0.1 &amp; -0.1 \\ 
-0.2 &amp; -0.3%
\end{array}%
\right] \varepsilon _{t-2}+...\]</span></p>
<p><span class="math display">\[...+\left[ 
\begin{array}{cc}
-0.4 &amp; -0.5 \\ 
-0.6 &amp; -0.7%
\end{array}%
\right] \varepsilon _{t-3}+D_{4}\varepsilon _{t-4}+...\]</span></p>
<p><br></p>
<ul>
<li>we will practice and understand them at the Lab, but we can calculate them with the <code>vars::fevd()</code> function:</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">fevd</span>(our_var, <span class="dt">n.ahead =</span> <span class="dv">5</span>) <span class="co">#- with the vars pkg</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="co">#&gt; $dlVol_us</span></a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="co">#&gt;       dlVol_us   dlVol_15       dlVol</span></a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="co">#&gt; [1,] 1.0000000 0.00000000 0.000000000</span></a>
<a class="sourceLine" id="cb24-5" data-line-number="5"><span class="co">#&gt; [2,] 0.9398317 0.05600196 0.004166376</span></a>
<a class="sourceLine" id="cb24-6" data-line-number="6"><span class="co">#&gt; [3,] 0.9206206 0.05119218 0.028187205</span></a>
<a class="sourceLine" id="cb24-7" data-line-number="7"><span class="co">#&gt; [4,] 0.9183751 0.05397865 0.027646301</span></a>
<a class="sourceLine" id="cb24-8" data-line-number="8"><span class="co">#&gt; [5,] 0.9146124 0.05708996 0.028297664</span></a>
<a class="sourceLine" id="cb24-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb24-10" data-line-number="10"><span class="co">#&gt; $dlVol_15</span></a>
<a class="sourceLine" id="cb24-11" data-line-number="11"><span class="co">#&gt;       dlVol_us  dlVol_15      dlVol</span></a>
<a class="sourceLine" id="cb24-12" data-line-number="12"><span class="co">#&gt; [1,] 0.1859188 0.8140812 0.00000000</span></a>
<a class="sourceLine" id="cb24-13" data-line-number="13"><span class="co">#&gt; [2,] 0.3783540 0.6024758 0.01917021</span></a>
<a class="sourceLine" id="cb24-14" data-line-number="14"><span class="co">#&gt; [3,] 0.3982713 0.5829006 0.01882820</span></a>
<a class="sourceLine" id="cb24-15" data-line-number="15"><span class="co">#&gt; [4,] 0.4199091 0.5466623 0.03342865</span></a>
<a class="sourceLine" id="cb24-16" data-line-number="16"><span class="co">#&gt; [5,] 0.4250834 0.5313644 0.04355223</span></a>
<a class="sourceLine" id="cb24-17" data-line-number="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb24-18" data-line-number="18"><span class="co">#&gt; $dlVol</span></a>
<a class="sourceLine" id="cb24-19" data-line-number="19"><span class="co">#&gt;       dlVol_us  dlVol_15     dlVol</span></a>
<a class="sourceLine" id="cb24-20" data-line-number="20"><span class="co">#&gt; [1,] 0.1527325 0.3678446 0.4794229</span></a>
<a class="sourceLine" id="cb24-21" data-line-number="21"><span class="co">#&gt; [2,] 0.2954492 0.3445865 0.3599643</span></a>
<a class="sourceLine" id="cb24-22" data-line-number="22"><span class="co">#&gt; [3,] 0.3162381 0.3438823 0.3398796</span></a>
<a class="sourceLine" id="cb24-23" data-line-number="23"><span class="co">#&gt; [4,] 0.3280850 0.2984986 0.3734163</span></a>
<a class="sourceLine" id="cb24-24" data-line-number="24"><span class="co">#&gt; [5,] 0.3619614 0.2664322 0.3716064</span></a></code></pre></div>
<p>Usually the FEVD’s are also shown in a graphical fashion:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">plot</span>(<span class="kw">fevd</span>(our_var))</a></code></pre></div>
<p><img src="06-Express-course_files/figure-html/unnamed-chunk-27-1.png" width="60%" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>We will see in short that this is not really true because ….<a href="#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>

<div id="rmd-source-code">LS0tCiN0aXRsZTogIkV4cHJlc3MgbWluaS1jb3Vyc2Ugb24gU3RydWN0dXJhbCBWQVIgbW9kZWxzIgpvdXRwdXQ6CiAgaHRtbF9kb2N1bWVudDoKICAgIHRoZW1lOiB1bml0ZWQKICAgIGhpZ2hsaWdodDogbW9ub2Nocm9tZSAKICAgIG51bWJlcl9zZWN0aW9uczogbm8KICAgIHRvYzogdHJ1ZQogICAgdG9jX2Zsb2F0OiB0cnVlCiAgICBjb2RlX2Rvd25sb2FkOiB0cnVlCiAgICAjY29kZV9mb2xkaW5nOiBzaG93CiAgICAjc2VsZl9jb250YWluZWQ6IFRSVUUKLS0tCgoKCmBgYHtyIGNodW5rX3NldHVwLCBpbmNsdWRlPUZBTFNFfQprbml0cjo6b3B0c19jaHVuayRzZXQoZWNobyA9IFRSVUUsIGV2YWwgPSBUUlVFLCBtZXNzYWdlID0gRkFMU0UsIHdhcm5pbmcgPSBGQUxTRSwgCiAgICAgICAgICAgICAgICAgICAgICBjYWNoZSA9IEZBTFNFLCBjYWNoZS5wYXRoID0gIi9jYWNoZXMvIiwgY29tbWVudCA9ICIjPiIsCiAgICAgICAgICAgICAgICAgICAgICAjZmlnLndpZHRoID0gNywgZmlnLmhlaWdodD0gNywgICAKICAgICAgICAgICAgICAgICAgICAgICNvdXQud2lkdGggPSA3LCBvdXQuaGVpZ2h0ID0gNywKICAgICAgICAgICAgICAgICAgICAgIGNvbGxhcHNlID0gVFJVRSwgIGZpZy5zaG93ID0gImhvbGQiLAogICAgICAgICAgICAgICAgICAgICAgZmlnLmFzcCA9IDcvOSwgb3V0LndpZHRoID0gIjYwJSIsIGZpZy5hbGlnbiA9ICJjZW50ZXIiKQpgYGAKCgo8c3R5bGU+CmRpdi5ibHVlIHsgYmFja2dyb3VuZC1jb2xvcjojZTZmMGZmOyBib3JkZXItcmFkaXVzOiA0cHg7IHBhZGRpbmc6IDEzcHg7fQpkaXYuc3RlZWwgeyBiYWNrZ3JvdW5kLWNvbG9yOiNkZWNlM2M7IGJvcmRlci1yYWRpdXM6IDRweDsgcGFkZGluZzogMTNweDt9CjJjNjdiZgo8L3N0eWxlPgoKCgpgYGB7ciBvcHRpb25zX3NldHVwLCBlY2hvID0gRn0Kb3B0aW9ucyhzY2lwZW4gPSA5OTkpICMtIHBhcmEgcXVpdGFyIGxhIG5vdGFjaW9uIGNpZW50aWZpY2EKYGBgCgo8YnI+PGJyPjxicj4KCkFzIGZpbmFsbHksIGluc3RlYWQgb2YgNSBzZXNzaW9uIHdlIGFyZSBnb2luZyB0byBoYXZlIGFsbW9zdCAzIHNlc3Npb25zLCB0aGVuIGluc3RlYWQgb2YgYSBtaW5pLWNvdXJzZSB3ZSBhcmUgZ29pbmcgdG8gaGF2ZSBhIGV4cHJlc3MtbWluaS1jb3Vyc2U6IGEgcXVpY2sgYW5kICoqZGlydHkqKiBpbnRyb2R1Y3Rpb24gdG8gdGhlIGJhc2ljcyBvZiBzdHJ1Y3R1cmFsIFZBUiBtb2RlbHMuCgojIDAuIEludHJvLiAKCkltYWdpbmUgeW91IGFyZSBhIHJlc2VhcmNoZXIsIG9yIGJldHRlciwgaW1hZ2luZSB0aGF0IHlvdSBhcmUgdGhlIHRoZSBFY29ub215IE1pbmlzdGVyIG9mIGEgRXVyb3BlYW4gY291bnRyeSwgZm9yIGluc3RhbmNlIFNwYWluLCBhbmQgeW91IG5lZWQgdG8ga25vdyBob3cgeW91ciBjb3VudHJ5IGlzIGluZmx1ZW5jZWQgYnkgZWNvbm9taWMgZXh0ZXJuYWwgZm9yY2VzLiBXZSBhcmUgZ29pbmcgdG8gdXNlIGFuIHN0YXRpc3RpY2FsIGFwcHJvYWNoIHRvIHRyeSB0byBzb2x2ZSB0aGUgcHJvYmxlbS5UaGF0IGlzIHdlIGFyZSBnb2luZyB0byB1c2UgYSBzdGF0aXN0aWNhbCBtb2RlbC4gQnV0IHdoaWNoIG9uZT8gVkFSIG1vZGVscyBvZiBjb3Vyc2UsIHRoaXMgaXMgdGhlIHN1YmplY3Qgb2YgdGhlIG1pbmktY291cnNlLiAKCk9LLCBidXQgdGhlIG9yaWdpbmFsIHF1ZXN0aW9uICgiaG93IHlvdXIgY291bnRyeSBpcyBpbmZsdWVuY2VkIGJ5IGVjb25vbWljIGV4dGVybmFsIGZvcmNlcz8iKSBpcyB0b28gd2lkZSB0byBiZSB0cmFjdGFibGUuIExldCdzIG1hZGUgdGhlIHF1ZXN0aW9uIG1vcmUgc3BlY2lmaWMuIFdlIGhhdmUgaGVhcmQgdGhhdCB0aGVyZSBleGlzdHMgYW4gaW50ZXJuYXRpb25hbCBjeWNsZSBhbmQgYW4gRXVyb3BlYW4gY3ljbGUsIHRoZW4gdGhlIHF1ZXN0aW9uIGlzIGhvdyBTcGFpbiByZWFjdHMgdG8gdGhlIGludGVybmF0aW9uYWwgYW5kIEV1cm9wZWFuIGN5Y2xlLiBXaGF0IGFyZSB0aGVpciBpbmZsdWVuY2UgaW4gdGhlIFNwYW5pc2ggZWNvbm9teS4KCkV2ZW4gbW9yZSBwcmVjaXNlbHksIHdlIGFyZSBnb2luZyB0byB0cnkgdG8gYW5zd2VyIHR3byBxdWVzdGlvbnM6CgogIDEuIFdoYXQgd2lsbCBoYXBwZW4gdG8gU3BhbmlzaCBlY29ub215IGlmIHNvbWV0aGluZyBwb3NpdGl2ZSAoYSBwb3NpdGl2ZSBzaG9jaykgaGFwcGVucyBpbiB0aGUgaW50ZXJuYXRpb25hbCBjeWNsZSBvciBpbiB0aGUgRXVyb3BlYW4gYnVzaW5lc3MgY3ljbGUuIChJUkYpCgogIDIuIFdoYXQgaXMgdGhlIGltcG9ydGFuY2Ugb2YgaW50ZXJuYXRpb25hbCBhbmQgRXVyb3BlYW4gY3ljbGUgaW4gdGhlIFNwYW5pc2ggZWNvbm9taWMgZmx1Y3R1YXRpb25zPyAoRkVWRCkKCgpPSywgd2UgYXJlIGdvaW5nIHRvIHVzZSBzdGF0aXN0aWNhbCBtb2RlbHMsIHRoZW4gd2Ugd2lsbCBuZWVkIGRhdGEuIEJ1dCB3YWl0LCB3ZSBhbHJlYWR5IGhhdmUgZGF0YSwgbGFzdCBjbGFzcyB3ZSBoYXZlIGRvd25sb2FkZWQgc29tZSB2YXJpYWJsZXMuIFdlIGhhdmUgZG93bmxvYWRlZCBmcm9tIEV1cm9zdGF0IGEgYnVuY2ggb2Ygc2VyaWVzLiBJbiBwYXJ0aWN1bGFyIHdlIGFyZSBnb2luZyB0byB1c2UgMyBzZXJpZXMgb2YgIkdEUCB2b2x1bWUiIGZvciBVU0EsIEUxNSBhbmQgb3VyIGNvdW50cnksIGluIHRoYXQgY2FzZSBTcGFpbi4KCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUbyB0aGluazoqKiB3ZSB3aWxsIHVzZSAzIHZhcmlhYmxlcy4gQXJlIHRoZXkgZW5vdWdoIHRvIGFuc3dlciB0aGUgdHdvIHF1ZXN0aW9ucyBvciB3ZSBhcmUgZ29pbmcgdG8gbmVlZCBtb3JlICB2YXJpYWJsZXMvaW5mb3JtYXRpb24/CjwvZGl2Pgo8YnI+CgpXZSBhcmUgZ29pbmcgdG8gdXNlIGEgc3RhdGlzdGljYWwgYXBwcm9hY2ggYW5kIHdlIGhhdmUgMyB2YXJpYWJsZXMuIFdlIGNhbiB0aGluayB0aGF0IHRoZSAzIHZhcmlhYmxlcyBhcmUgYSBzeXN0ZW0gd2hlcmUgZWFjaCB2YXJpYWJsZSBpbmZsdWVuY2UgdGhlIG90aGVycyBvdGhlcnMsIHRoZXkgYXJlIGludGVyZGVwZW5kZW50LiBGb3IgaW5zdGFuY2UsIGNoYW5nZXMgaW4gVVMgKGFzIGEgcHJveHkgb2YgdGhlIGludGVybmF0aW9uYWwgY3ljbGUpIHdpbGwgaW1wYWN0IFNwYWluIGFuZCBFdXJvcGUuIENoYW5nZXMgaW4gRXVyb3BlIHdpbGwgYWxzbyBpbXBhY3Qgb24gdGhlIGludGVybmF0aW9uYWwgZWNvbm9teSBhbmQgb2YgY291cnNlIGluIHRoZSBTcGFuaXNoIGVjb25vbXkuIFRoYXQgaXMsIEkgdGhpbmsgd2Ugc2hvdWxkIHRyZWF0IHRoZSAzIHZhcmlhYmxlcyBhcyBlbmRvZ2Vub3VzLiAKCgpUaGVuIC4uLiB3aGF0IHR5cGUgb2Ygc3RhdGlzdGljYWwgbW9kZWxzIHdlIGNvdWxkIHVzZT8gRm9yIGluc3RhbmNlIHdlIGNvdWxkIHVzZSAiU2ltdWx0YW5lb3VzIGVxdWF0aW9ucyIuIEJ1dCB3YWl0LCB0aG9zZSBzeXN0ZW1zIHdlcmUgY3JpdGljaXNlZCBieSBTaW1zIGluIDE5ODAgYmVjYXVzZSB0aGV5IHVzZSB0aGF0IGhlIGNhbGxlZCAgImluY3JlZGlibGUgaWRlbnRpZmljYXRpb24gcmVzdHJpY3Rpb25zIi4KCk9LLCBsZXQncyBmb2xsb3cgU2ltcydzIDE5ODAgcHJvcG9zYWwgYW5kIHVzZSBWQVIgbW9kZWxzLiBGaXJzdCwgYmVmb3JlIHRvIGVzdGltYXRlIHRoZSBWQVIgbW9kZWwsIHdlIGhhdmUgdG8gc3BlY2lmeSwgdG8gd3JpdGUgaXQgZG93bi4KCgoKCiMgMS4gU3BlY2lmaWNhdGlvbiAmIGVzdGltYXRpb24KCldlbGwsIGEgVkFSIG1vZGVsIGlzIHJlYWxseSAiZWFzeSIgdG8gc3BlY2lmeS4gWW91IG9ubHkgbmVlZCB0byBzZWxlY3QgYSBidW5jaCBvZiB2YXJpYWJsZXMgdG8gYW5zd2VyIHlvdXIgcXVlc3Rpb25zLiBXZSBoYXZlIGFscmVhZHkgZG9uZSB0aGF0LiBXZSBoYXZlIHNlbGVjdGVkIDMgdmFyaWFibGVzLCBhbmQsIGZvbGxvd2luZyBTaW1zJ3MgcHJvcG9zYWwsIHdlIGFyZSBnb2luZyB0bzoKCj4gIHRyZWF0IGFsbCB2YXJpYWJsZXMgYXMgZW5kb2dlbm91cyAoYW5kIGZpcnN0IGVzdGltYXRlIGFuIHVucmVzdHJpY3RlZCBtb2RlbCBpbiBhIHJlZHVjZWQgZm9ybSkuIE5vIHByaW9yIGtub3dsZWRnZSBpcyB1c2VkIGV4Y2VwdCB0byBkZWNpZGUgd2hpY2ggdmFyaWFibGVzIHNob3VsZCBlbnRlciB0aGUgc3lzdGVtLgoKPGJyPgo8ZGl2IGNsYXNzID0gImJsdWUiPgoqKlRvIHRoaW5rOioqIGluIHRoZSBsYXN0IHNlbnRlbmNlIHRoZXJlIGlzIGEgdHJpY2t5IHBhcnQgImZpcnN0IGVzdGltYXRlIGFuIHVucmVzdHJpY3RlZCBtb2RlbCBpbiBhIHJlZHVjZWQgZm9ybSIuIFRyeSB0byB1bmRlcnN0YW5kIGl0LiBXaGF0IGRvZXMgbWVhbj8gSXQncyBub3QgZWFzeSBpZiB5b3UgZG9uJ3QgaGF2ZSB0aGUgcmlnaHQgYmFja2dyb3VuZC4gV2Ugd2lsbCB0cnkgYXQgY2xhc3MuCjwvZGl2Pgo8YnI+CgoKCk91ciBtb2RlbCBpcyBkZXNjcmliZWQgYnkgdGhpcyBzZXQgb2YgZXF1YXRpb25zOiAKCgoKJCRcbGVmdFx7IApcYmVnaW57YXJyYXl9e2N9ClVTX3t0fT0gXGJldGEgVVNfe3QtMX0gKyBcYmV0YSBVU197dC0yfSArICBcYmV0YSBFMTVfe3QtMX0gKyAgXGJldGEgRTE1X3t0LTJ9ICsgIFxiZXRhIEVTX3t0LTF9ICsgXGJldGEgRVNfe3QtMn0gKyB2X3t0fV57VVN9ClxcIApFMTVfe3R9PSBcYmV0YSBVU197dC0xfSArIFxiZXRhIFVTX3t0LTJ9ICsgIFxiZXRhIEUxNV97dC0xfSArICBcYmV0YSBFMTVfe3QtMn0gKyAgXGJldGEgRVNfe3QtMX0gKyBcYmV0YSBFU197dC0yfSArIHZfe3R9XntFMTV9ClxcIApFU197dH09IFxiZXRhIFVTX3t0LTF9ICsgXGJldGEgVVNfe3QtMn0gKyAgXGJldGEgRTE1X3t0LTF9ICsgIFxiZXRhIEUxNV97dC0yfSArICBcYmV0YSBFU197dC0xfSArIFxiZXRhIEVTX3t0LTJ9ICsgdl97dH1ee0VTfQpcZW5ke2FycmF5fSUKXHJpZ2h0XH0gJCQKCjxicj4KCkJ1dCwgaXQncyBiZXR0ZXIgdG8gd3JpdGUgdGhlIG1vZGVsIGluIGEgbW9yZSBjb21wYWN0IGZvcm06CgokJHlfe3R9fj1BX3sxfXlfe3QtMX0rQV97Mn15X3t0LTJ9K3Zfe3R9JCQgCgpUaGUgbW9kZWwgaGFzIG9ubHkgdHdvIGxhZ3MsIGJ1dCBpbiBnZW5lcmFsIHRoZSBWQVIgd291bGQgYmU6CgoKJCR5X3t0fX49QV97MX15X3t0LTF9K0FfezJ9eV97dC0yfStcIFwgLi4uXCBcCitBX3twfXlfe3QtcH0rdl97dH1cIFwgXCBcIFwgXCBcIFwgXCBcIFsyXSQkIAoKCk1vZGVsICRbMl0kIGNhbiBiZSB3cml0dGVuIHVzaW5nIGEgcG9seW5vbWlhbCBpbiB0aGUgbGFnIG9wZXJhdG9yIGFzOiAKCiQkQShMKXlfe3R9PXZfe3R9XCBcIFwgXCBcIFwgXCBcIFwgXCBbM10kJCAgCgp3aXRoICRBKEwpPShJX3tLfS1BX3sxfUxeezF9LUFfezJ9TF57Mn0tLi4uLUFfe3B9TF57cH0pJAoKPGJyPgoKT0ssIGJ1dCB0aGVyZSBpcyBzb21ldGhpbmcgdGhhdCB3ZSBoYXZlIHRvIHNvbHZlOiB3ZSBoYXZlIHRvIGNob29zZSAqKmhvdyBtYW55IGxhZ3MqKiB3aWxsIGhhdmUgb3VyIG1vZGVsLCAyLCAzICwgND8gT0ssICBidXQgdGhpcyB3aWxsIGJlIGluIGEgbW9tZW50LCBmaXJzdCB3ZSBoYXZlIHRvIHRhbGsgYSBsaXR0bGUgYWJvdXQgdGhlIGVzdGltYXRpb24gbWV0aG9kIHdlIGFyZSBnb2luZyB0byB1c2UgdG8gZXN0aW1hdGUgb3VyIG1vZGVsLgoKCldlbGwsIHlvdSBzaG91bGQga25vdyB0aGF0LCAqKmlmIHRoZSBzeXN0ZW0gaXMgc3RhdGlvbmFyeSoqIHRoZW4sIGFzIGFsbCB0aGUgZXF1YXRpb25zIGluIHRoZSBWQVIgc2hhcmUgdGhlIHNhbWUgc2V0IG9mIHJlZ3Jlc3NvcnMgYW5kIGFsbCBvZiB0aGVtIGFyZSBsYWdnZWQgdmFyaWFibGVzLCB0aGUgVkFSIGNvdWxkIGJlIGVzdGltYXRlZCBlZmZpY2llbnRseSBieSBPTFMgZm9yIGVhY2ggZXF1YXRpb24gc2VwYXJhdGVseS4gCgpCVVQsIGJlIGF3YXJlIHRoYXQsIGluIG9yZGVyIHRvIGVzdGltYXRlIHRoZSBzeXN0ZW0gYnkgT0xTIGlzIGNydWNpYWwgdGhhdCB0aGUgZXJyb3IgdGVybXMgKCR2X3t0fSQpIHNob3VsZCAqKk5PVCB0byBiZSBhdXRvY29ycmVsYXRlZCoqLgoKUmVtZW1iZXIgYWxzbyB0aGF0IGluIHRoZSBjb250ZXh0IG9mIFZBUiBtZXRob2RvbG9neSwgdXN1YWxseSB0aGUgZXJyb3IgdGVybXMgKCR2X3t0fSQpIGFyZSBjYWxsZWQgKippbm5vdmF0aW9ucyoqLgoKCgpCZXNpZGVzIHRoYXQsIGlmIHRoZSBpbm5vdmF0aW9ucyBhcmUgbm9ybWFsbHkgZGlzdHJpYnV0ZWQgKEdhdXNzaWFuKSB0aGVuIHdlIGNvdWxkIGFwcGx5IHVzdWFsIGluZmVyZW5jZSBtZXRob2RzLCBsaWtlIHQtdGVzdC4KCgoKPGJyPgo8ZGl2IGNsYXNzID0gImJsdWUiPgoqKlRvIHRoaW5rOioqIFZBUiBtb2RlbHMgYXNzdW1lICR2X3t0fVxyaWdodGFycm93IE4oMCxcU2lnbWEgX3t2fSkkLiBEbyB5b3UgdGhpbmsgdGhlcmUgYXJlIGNvbnRlbXBvcmFuZW91cyBjb3JyZWxhdGlvbiBhbW9uZyB0aGUgaW5ub3ZhdGlvbj8gRG8geW91IHRoaW5rIHRoZSBpbm5vdmF0aW9ucyBhcmUgYXV0b2NvcnJlbGF0ZWQ/IEJlIGF3YXJlIHRoYXQgdGhleSBhcmUgY29tcGxldGVseSBkaWZmZXJlbnQgcXVlc3Rpb25zCjwvZGl2Pgo8YnI+CgoKCkluIHBsYWluIEVuZ2xpc2g6IGJlZm9yZSB0byB1c2UgYSBWQVIgbW9kZWxzIHdlIGhhdmUgdG8gY2hlY2sgaWYgdGhlIHN5c3RlbSBvZiB2YXJpYWJsZXMgaXMgc3RhdGlvbmFyeSwgdGhlbiwgYXMgYWxsIG9mIHRoZSByZWdyZXNzb3JzIGFyZSBpbiB0aGUgcGFzdCAkeV97dC1rfSQsIHRoZXkgYXJlICJsaWtlLWV4b2dlbm91cyIgdmFyaWFibGVzIGFuZCB0aGVuIHdlIGNvdWxkIGVzdGltYXRlIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBtb2RlbCBieSBPTFMsICoqQlVUKiogcmVtZW1iZXIgdGhhdCB0aGUgJHZfe3R9JCBzaG91bGQgc2hvd24gKipubyBhdXRvY29ycmVsYXRpb24qKjsgdGhhdCBpcyB3ZSBzaG91bGQgY2hlY2ssIGFmdGVyIGVzdGltYXRpb24sIHRoYXQgdGhlIG1vZGVsIHJlc2lkdWFscyAkXHdpZGVoYXR7dn1fe3R9JCBzaG93biBOTy1hdXRvY29ycmVsYXRpb24KCkJlc2lkZXMgdGhhdCwgaWYgdGhlIGlubm92YXRpb25zICAkKHZfe3R9KSQgIGZvbGxvdyBhIEdhdXNzaWFuIGRpc3RyaWJ1dGlvbiB0aGVuIHdlIGNvdWxkIHVzZSB0aGUgdXN1YWwgaW5mZXJlbmNlIG1ldGhvZHMuIFRoZW4sIHdlIHNob3VsZCBjaGVjayBhbHNvLHRoZSBub3JtYWxpdHkgb2YgdGhlIHJlc2lkdWFscyAkKFx3aWRlaGF0e3Z9X3t0fSkkLgoKCjxicj4KCk9LLiAqKkxldCdzIHByYWN0aXNlIHRoaXMgaW4gUioqOgoKLSBGaXJzdCB3ZSBoYXZlIHRvIGxvYWQgdGhlIHBhY2thZ2VzOgoKCmBgYHtyfQpsaWJyYXJ5KCJ0aWR5dmVyc2UiKQpsaWJyYXJ5KCJmb3JlY2FzdCIpCiNsaWJyYXJ5KCJkeWdyYXBocyIpCmxpYnJhcnkoInZhcnMiKSAgICAgICAgICMtIHRoZSBwYWNrYWdlIHVzZWQgdG8gZXN0aW1hdGUgVkFSIG1vZGVscwpgYGAKCgotIFNlY29uZCwgd2UgaGF2ZSB0byBsb2FkIGFuZCBjbGVhbiB0aGUgZGF0YQoKYGBge3J9CiMgbG9hZCB0aGUgZGF0YSBmb3IgU3BhaW4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRmIDwtIHJlYWRfY3N2KGhlcmU6OmhlcmUoImRhdG9zIiwgIm15X2RhdGFfRVMuY3N2IikpICAjLSBZb3Ugc2hvdWxkIGxvYWQgWU9VUiBEQVRBCgojLSB3ZSBhcmUgZ29pbmcgdG8gdXNlIG9ubHkgMy80IHRoZSB2YXJpYWJsZXM6IFZvbCwgVm9sXzE1LCBWb2xfdXMgJiB0aW1lCmRhdGEgPC0gZGYgJT4lIGRwbHlyOjpzZWxlY3QodGltZSwgVm9sX3VzLCBWb2xfMTUsIFZvbCkKYGBgCgoKLSAiQ2xlYW5pbmciIHRoZSBkYXRhCgpgYGB7cn0KIy0gc29tZSBkYXRhIG11bmdpbmcgdG8gb2J0YWluaW5nIHRoZSBjb21tb24gc2FtcGxlIG9mIHRoZSAzIHZhcmlhYmxlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMtIGZpcnN0IGdldHRpbmcgcmlwIG9mZiB0aGUgTkFzCmRhdGEgPC0gZGF0YSAlPiUgZHJvcF9uYSgpIAoKIy0gc2Vjb25kLCBjYWxjdWxhdGluZyB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgY29tbW9uIHNhbXBsZSBvZiBteSBkYXRhOgpkYXRhX3R0IDwtIGRhdGEgJT4lIG11dGF0ZSh0aW1lID0gYXMuY2hhcmFjdGVyKHRpbWUpKSAlPiUgdGlkeXI6OnNlcGFyYXRlKHRpbWUsIGMoInllYXIiLCAicXVhcnRlciIsICJkYXkiKSwiLSIpCmRhdGFfdHQgPC0gZGF0YV90dCAlPiUgbXV0YXRlKHllYXIgPSBhcy5udW1lcmljKHllYXIpKSAKZGF0YV90dCA8LSBkYXRhX3R0ICU+JSBtdXRhdGUocXVhcnRlcj0gY2FzZV93aGVuKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFydGVyICA9PSAiMDEiICB+IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YXJ0ZXIgID09ICIwNCIgIH4gMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhcnRlciAgPT0gIjA3IiAgfiAzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFydGVyICA9PSAiMTAiICB+IDQpKQpzdGFydF95ZWFyICAgIDwtIGRhdGFfdHQkeWVhclsxXSAKc3RhcnRfcXVhcnRlciA8LSBkYXRhX3R0JHF1YXJ0ZXJbMV0gCmVuZF95ZWFyICAgICAgPC0gZGF0YV90dCR5ZWFyW25yb3coZGF0YV90dCldIAplbmRfcXVhcnRlciAgIDwtIGRhdGFfdHQkcXVhcnRlcltucm93KGRhdGFfdHQpXSAKICAKIy0gd2UgZG9uJ3QgbmVlZCAiZGF0YV90dCIgYW55bW9yZQpybShkYXRhX3R0KQpgYGAKCgoKYGBge3J9CiMgIGNyZWF0aW5nIHRoZSB0aW1lIHNlcmllcyB3aXRoIHRzKCk6IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KVm9sICAgIDwtIHRzKGRhdGEkVm9sLCAgICBzdGFydCA9IGMoc3RhcnRfeWVhciwgc3RhcnRfcXVhcnRlcikgLCBlbmQgPSBjKGVuZF95ZWFyLCBlbmRfcXVhcnRlcikgLCBmcmVxdWVuY3kgPSA0KSAgIApWb2xfMTUgPC0gdHMoZGF0YSRWb2xfMTUsIHN0YXJ0ID0gYyhzdGFydF95ZWFyLCBzdGFydF9xdWFydGVyKSAsIGVuZCA9IGMoZW5kX3llYXIsIGVuZF9xdWFydGVyKSAsIGZyZXF1ZW5jeSA9IDQpICAgClZvbF91cyA8LSB0cyhkYXRhJFZvbF91cywgc3RhcnQgPSBjKHN0YXJ0X3llYXIsIHN0YXJ0X3F1YXJ0ZXIpICwgZW5kID0gYyhlbmRfeWVhciwgZW5kX3F1YXJ0ZXIpICwgZnJlcXVlbmN5ID0gNCkgICAKcm0oc3RhcnRfeWVhciwgc3RhcnRfcXVhcnRlciwgZW5kX3llYXIsIGVuZF9xdWFydGVyKQoKIyB0YWtpbmcgbG9ncyBvZiB0aGUgc2VyaWVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpsVm9sICAgIDwtIGxvZyhWb2wpCmxWb2xfMTUgPC0gbG9nKFZvbF8xNSkKbFZvbF91cyA8LSBsb2coVm9sX3VzKQoKIyB0YWtpbmcgZmlyc3QgbG9nIGRpZmZlcmVuY2VzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRsVm9sICAgICA8LSBkaWZmKGxWb2wsICAgICAgbGFnID0gMSwgZGlmZmVyZW5jZSA9IDEpCmRsVm9sXzE1ICA8LSBkaWZmKGxWb2xfMTUsICAgbGFnID0gMSwgZGlmZmVyZW5jZSA9IDEpCmRsVm9sX3VzICA8LSBkaWZmKGxWb2xfdXMsICAgbGFnID0gMSwgZGlmZmVyZW5jZSA9IDEpCgoKIyBwdXR0aW5nIG91ciAzIHZhcmlhYmxlcyBpbiBhIHZlY3Rvcgp2YXJpYWJsZXMgPC0gY2JpbmQoZGxWb2xfdXMsIGRsVm9sXzE1LCBkbFZvbCkgICAgICAgICMtIENyZWF0aW5nIGEgbWF0cml4IHdpdGggdGhlIDMgc2VyaWVzLiBUaGUgT3JkZXJpbmcgd2lsbCBiZSBpbXBvcnRhbnQKYGBgCgoKCjxicj4KCgotIHRoaXJkLCBXZSBzdGFydCB0byBzcGVjaWZ5L2VzdGltYXRlIG91ciBWQVIKCmBgYHtyLCBldmFsID0gRkFMU0V9CiMgVG8gZXN0aW1hdGUgdGhlIFZBUiB3ZSBhcmUgZ29pbmcgdG8gdXNlIHRoZSAidmFycyIgcGFja2FnZQoKIyBJbnRlcm5hbCBoZWxwIGZyb20gdGhlIHZhcnMgcGFja2FnZQpoZWxwKHBhY2thZ2UgPSB2YXJzKSAgICAgICAgICAgIy0gY2FsbGluZyB0byB0aGUgcGtnIGhlbHAKbHMoInBhY2thZ2U6dmFycyIsIGFsbCA9IFRSVUUpICMtIGFsbCB0aGUgb2JqZWN0cywgdXN1YWxseSBmdW5jdGlvbnMgJiBkYXRhIGluIHRoZSAidmFycyIgcGFja2FnZQpgYGAKCgojIyMgMS5hIENoZWNraW5nIHRoZSBzdGF0aW9uYXJpdHkgb2YgdGhlIHZhcmlhYmxlcwoKCi0gV2h5IHdlIG5lZWQgdG8gY2hlY2sgdGhlIHN0YXRpb25hcml0eT8KCmBgYHtyfQpsaWJyYXJ5KGZvcmVjYXN0KQpuZGlmZnMoZGxWb2wsIGFscGhhID0gMC4wNSwgdGVzdCA9IGMoImtwc3MiLCAiYWRmIiwgInBwIiksIG1heC5kID0gMiApCm5kaWZmcyhkbFZvbF8xNSwgYWxwaGEgPSAwLjA1LCB0ZXN0ID0gYygiYWRmIiksIG1heC5kID0gMiApCm5kaWZmcyhkbFZvbF91cywgYWxwaGEgPSAwLjA1LCB0ZXN0ID0gYygiYWRmIiksIG1heC5kID0gMiApCgpybShsaXN0ID0gbHMoKVshbHMoKSAlaW4lIGMoImRhdGEiLCAidmFyaWFibGVzIildKSAgICMtIHJlbW92aW5nIGFsbCBleGNlcHQgd2hhdCB3ZSBuZWVkICgiZGF0YSIgYW5kICJ2YXJpYWJsZXMiKQpgYGAKCgpBcmUgdGhlIHZhcmlhYmxlcyBzdGF0aW9uYXJ5PyBXZWxsIC4uLi4KCgojIyMgMS5iIEhvdyBtYW55IGxhZ3M/CgpXZSBoYXZlIHRvIGRlY2lkZSBob3cgbWF5IGxhZ3Mgd2lsbCBvdXIgVkFSIGhhdmUuIFRoZXJlIGFyZSB0d28gc3RyYXRlZ2llczogICAKCiAgICAgIC0gMSBVc2UgaW5mb3JtYXRpb24gY3JpdGVyaWEgbWV0aG9kcyAgICAgIAogICAgCiAgICAgIC0gMiBMUiB0ZXN0cyAgICAgCiAgCgoKLSAxLiBVc2luZyBpbmZvcm1hdGlvbiBjcml0ZXJpYSBtZXRob2RzIAoKYGBge3J9CiMgSE9XIE1BTlkgTEFHUyBpbiB0aGUgVkFSPyBXaGF0IGFib3V0IHRoZSBkZXRlcm1pbmlzdGljIGNvbXBvbmVudHMgb2YgdGhlIFZBUj8gLS0tLS0tLS0tLS0tLS0tLS0tLQoKIyAxLiB3aXRoIG1vZGVsIHNlbGVjdGlvbiBjcml0ZXJpYSAoQUlDKQpWQVJzZWxlY3QodmFyaWFibGVzLCBsYWcubWF4ID0gOCwgdHlwZSA9ICJjb25zdCIpCmBgYAoKCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUbyB0aGluazoqKiBJZiB3ZSB1c2UgdGhlIGluZm9ybWF0aW9uIGNyaXRlcmlhIG1ldGhvZHMsIEhvdyBtYW55IGxhZ3Mgd2Ugc2hvdWxkIHVzZSBpbiBvdXIgVkFSPwo8L2Rpdj4KPGJyPgoKCjIuIChTZWxlY3RpbmcgdGhlIFZBUiBvcmRlcikgV2l0aCBhIHNlcXVlbmNlIG9mIExSIHRlc3QKCmBgYHtyLCBldmFsID0gRkFMU0V9CiMgMi4gd2l0aCBMUiB0ZXN0IAp2YXIubTQgPC0gVkFSKHZhcmlhYmxlcywgcCA9IDQsIHR5cGUgPSAiY29uc3QiKSAKdmFyLm0zIDwtIFZBUih2YXJpYWJsZXMsIHAgPSAzLCB0eXBlID0gImNvbnN0IikgICAKbHJ0ZXN0KHZhci5tMywgdmFyLm00KSAgIy0gd2h5IGRvZXNuJ3Qgd29yayB0aGlzIHRlc3Q/IFdoeSBkb2Vzbid0IHJ1biB0aGlzIGNodW5rCmBgYAoKCmBgYHtyfQp2YXIubTUgPC0gVkFSKHZhcmlhYmxlcywgcCA9IDUsIHR5cGUgPSAiY29uc3QiKSAKdmFyaWFibGVzMiA8LSB2YXJpYWJsZXNbLTEsXQp2YXIubTQgPC0gVkFSKHZhcmlhYmxlczIsIHAgPSA0LCB0eXBlID0gImNvbnN0IikgICAKbHJ0ZXN0KHZhci5tNCwgdmFyLm01KSAgICMtIHdoYXQgd2Ugc2VsZWN0IDQgb3IgNSBsYWdzPwoKcm0odmFyLm00LCB2YXIubTUsIHZhcmlhYmxlczIpIApgYGAKCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUbyB0aGluazoqKiBIb3cgbWFueSBsYWdzPyBmaXZlLCBmb3VyPyAzPwo8L2Rpdj4KPGJyPgoKV2VsbCwgZmluYWxseSB3ZSBhcmUgZ29pbmcgdG8gdXNlIC4uLi4uLi4gKio0KiogbGFncy4gV2h5PyBEb24ndCB0aGluayB0b28gbXVjaCB3aHkuIE9uZSBwYXJ0IG9mIHRoZSByZWFzb24gaXMgYmVjYXVzZSBJIGxpa2UgdGhlIDQncy4gSSB3aWxsIGV4cGxhaW4gYXQgY2xhc3MKCjxicj4KCiMgMi4gRXN0aW1hdGlvbiBvZiB0aGUgVkFSCgpXZSBjb3VsZCBlc3RpbWF0ZSB0aGUgZXF1YXRpb25zIG9mIHRoZSBtb2RlbCBieSBPTFMgd2l0aCB0aGUgZnVuY3Rpb24gYGxtKClgLCBidXQgaXQncyBtb3JlIGNvbnZlbmllbnQgdG8gdXNlIHRoZSBmdW5jdGlvbiBgVkFSKClgIGZyb20gdGhlIHZhcnMgcGFja2FnZQoKYGBge3J9CiMgRVNUSU1BVElORyB0aGUgVkFSLiAgV2NoaWNoIGVzdGltYXRpb24gbWV0aG9kPyAtLS0tLS0tLS0tLS0tLS0tLS0tClZBUih2YXJpYWJsZXMsIHAgPSA0LCB0eXBlID0gImNvbnN0IikgCmBgYAoKPGJyPgoKCkxldCdzIGVzdGltYXRlIGFnYWluLCBidXQgaW5zdGVhZCBvZiBzaG93aW5nIHRoZSByZXN1bHRzLCB3ZSBhcmUgZ29pbmcgdG8gYXNzaWduIHRoZW0gdG8gdGhlIGBvdXJfdmFyYCBvYmplY3Q6CgpgYGB7cn0Kb3VyX3ZhciA8LSBWQVIodmFyaWFibGVzLCBwID0gNCwgdHlwZSA9ICJjb25zdCIpICAgIy0gc2F2aW5nIHRoZSBlc3RpbWF0aW9uIHJlc3VsdHMgaW4gdGhlIG9iamVjdCAib3VyX3ZhciIKYGBgCgoKPGJyPgo8ZGl2IGNsYXNzID0gImJsdWUiPgoqKlRvIERPOioqIHBsZWFzZSB0YWtlIGEgbG9vayBhdCB0aGUgIm91cl92YXIiIG9iamVjdC4gV2hhdCBpdCBpcz8gV2hhdCBpdCBjb250YWlucz8KPC9kaXY+Cjxicj4KCgoKSW4gZmFjdCwgbm93IHlvdSBjYW4gY2hlY2sgaWYgb3VyIGVzdGltYXRlZCBWQVIgbW9kZWwgaXMgc3RhYmxlOgoKYGBge3J9CiMtLS0tLS0gQ2hlY2tpbmcgc3RhYmlsaXR5KGVpZ2VudmFsdWVzIG9mIHRoZSBjb21wYW5pb24gY29lZmZpY2llbnQgbWF0cml4IG11c3QgaGF2ZSBtb2R1bHVzIGxlc3MgdGhhbiAxKQpyb290cyhvdXJfdmFyLCBtb2R1bHVzPVRSVUUpICMtIFJldHVybnMgYSB2ZWN0b3Igd2l0aCB0aGUgZWlnZW52YWx1ZXMKYGBgCgoKCkxldCdzIGxvb2sgYXQgdGhlIGVzdGltYXRpb24gcmVzdWx0cyBpbiB0d28gZGlmZmVyZW50IHdheXMsIHVzaW5nIHR3byBmdW5jdGlvbnMgb2YgdGhlIGB2YXJzYHBhY2thZ2U6CgoKYGBge3J9CiMgTE9PS0lORyBhdCB0aGUgcmVzdWx0cyBvZiB0aGUgZXN0aW1hdGVkIFZBUiAtLS0tLS0tLS0tLS0tLS0tCnN1bW1hcnkob3VyX3ZhcikKYGBgCgoKCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUbyBETzoqKiBQbGVhc2UgdGFrZSBhIGxvb2sgYXQgdGhlIHJlc3VsdHMuICBQbGVhc2UgaGF2ZSBhbm90aGVyIG1vcmUgY2xvc2UgbG9vayBhdCB0aGUgQ292YXJpYW5jZSBtYXRyaXggb2YgcmVzaWR1YWxzLiAqKlRoZSByZXNpZHVhbHMgYXJlIGNvbnRlbXBvcmFuZW91c2x5IGNvcnJlbGF0ZWQ/KiogVGhleSBhcmUgYXV0b2NvcnJlbGF0ZWQ/CjwvZGl2Pgo8YnI+Cgo8YnI+CgpBbm90aGVyIGxvb2sgYXQgdGhlIHJlc3VsdHMgb2YgdGhlIFZBUiBlc3RpbWF0aW9uLCBub3cgdXNpbmcgdGhlIGBBY29lZigpYGZ1bmN0aW9uIG9mIHRoZSBgdmFyc2AgcGFja2FnZToKCmBgYHtyfQojLS0tLS0tIHNob3dzIHRoZSBBIGVzdGltYXRlZCBtYXRyaWNlcy4gQmUgYXdhcmUgdGhhdCB0aGV5IGFyZSB0aGUgc2FtZSByZXN1bHRzCkFjb2VmKG91cl92YXIpICAgCmBgYAoKCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUbyBUaGluazoqKiBXaGF0IGFyZSB0aGlzIHJlc3VsdHM/IEFyZSB0aGUgc2FtZSByZXN1bHRzIHByZXZpb3VzbHkgc2VlbiBvciBhcmUgb3RoZXIgcmVzdWx0cz8gV2h5IHdlIG5lZWQgdGhpcyBtYXRyaWNlcz8uICh0aGUgZmlyc3QgdHdvIHF1ZXN0aW9ucyBhcmUgb2J2aW91cywgYnV0IG5vdCB0aGUgdGhpcmQpCjwvZGl2Pgo8YnI+CgoKCkJlZm9yZSB0byB1c2Ugb3VyIGVzdGltYXRlZCBWQVIgd2Ugc2hvdWxkIGNoZWNrIGlmIHRoZSByZXNpZHVhbHMgYXJlIGNvcnJlbGF0ZWQgKGF1dG9jb3JyZWxhdGlvbikgCgoKYGBge3J9CnNlcmlhbC50ZXN0KG91cl92YXIsIGxhZ3MucHQgPSA4ICkgICMtLSA4IGxhZ3MgZm9yIGF1dG9jb3JyZWxhdGlvbiBwb3J0bWFudGVhdSB0ZXN0CmBgYAoKCldlIGhhdmUgdG8gY2hlY2sgYWxzbyBmb3IgTm9ybWFsaXR5IG9mIHJlc2lkdWFscy4KCgoKYGBge3J9Cm5vcm1hbGl0eS50ZXN0KG91cl92YXIsIG11bHRpdmFyaWF0ZS5vbmx5PUZBTFNFKSAgICMtLSBOb3JtYWxpdHkgdGVzdApgYGAKCk9LLCBtb3JlIG9yIGxlc3MsIG91ciBlc3RpbWF0ZWQgVkFSIG1vZGVsIGlzICJ2YWxpZCIsIHRoZW4gd2UgY291bGQgbm93IHVzZSBvdXIgZXN0aW1hdGVkIFZBUiB0byBwZXJmb3JtIHNvbWUgdGFzayxmb3IgaW5zdGFuY2UgdG8gdGVzdCBmb3IgR3JhbmdlciBjYXVzYWxpdHkgb3IgZm9yIGZvcmVjYXN0aW5nOgoKCmBgYHtyLCBldmFsID0gRkFMU0V9CiMtLS0tLS0gV2UgY2FuIHRlc3QgR3JhbmdlciBjYXVzYWxpdHkKY2F1c2FsaXR5KG91cl92YXIsIGNhdXNlID0gYygiZGxWb2wiKSkgICAgICAjLSBkbFZvbCBHcmFuZ2VyLWNhdXNlIHRoZSBvdGhlcihzKSB2YXJpYWJsZXM/CmNhdXNhbGl0eShvdXJfdmFyLCBjYXVzZSA9IGMoImRsVm9sXzE1IikpICAgIy0gZGxWb2xfMTUgR3Jhbmdlci1jYXVzZSB0aGUgb3RoZXIocykgdmFyaWFibGVzPwpjYXVzYWxpdHkob3VyX3ZhciwgY2F1c2UgPSBjKCJkbFZvbF91cyIpKSAgICMtIGRsVm9sXzE1IEdyYW5nZXItY2F1c2UgdGhlIG90aGVyKHMpIHZhcmlhYmxlcz8KCiMtLS0tLS0gV2UgY2FuIHVzZSB0aGUgVkFSIGZvciBmb3JlY2FzdGluZwpwcmVkaWN0KG91cl92YXIsIG4uYWhlYWQgPSAzKSAgCmZhbmNoYXJ0KHByZWRpY3Qob3VyX3ZhcikpCmBgYAoKQnV0IG91ciBvYmplY3RpdmUgaXMgbm90IHRvIGZvcmVjYXN0LCBpdCdzIGluIHNvbWUgd2F5IHJlbGF0ZWQsIGJ1dCBpbiByZWFsaXR5IGlzIGEgbGl0dGxlIGJpdGUgZGlmZmVyZW50LgoKCiMgMy4gT2J0YWluaW5nIHRoZSBWTUEgcmVwcmVzZW50YXRpb24KCk9LLiBXZSBoYXZlIGVzdGltYXRlZCBhIFZBUiBtb2RlbCAuLi4uIEJVVCB3ZSBoYXZlIG5vdCBhbnN3ZXJlZCB0aGUgdHdvIHF1ZXN0aW9ucyB3ZSB3YW50IHRvIGFzazogCgogIDEuIFdoYXQgaXMgdGhlIHJlc3BvbnNlIG9mIHRoZSBTcGFuaXNoIGVjb25vbXkgdG8gYSBzaG9jayBpbiB0aGUgaW50ZXJuYXRpb25hbCBjeWNsZSBvciBpbiB0aGUgRXVyb3BlYW4gYnVzaW5lc3MgY3ljbGUuIChJUkYpCgogIDIuIFdoYXQgaXMgdGhlIGltcG9ydGFuY2Ugb2YgaW50ZXJuYXRpb25hbCBhbmQgRXVyb3BlYW4gY3ljbGUgaW4gdGhlIFNwYW5pc2ggZWNvbm9taWMgZmx1Y3R1YXRpb25zPyAoRkVWRCkKICAKPGJyPgoKSW4gb3JkZXIgdG8gYW5zd2VyIHRob3NlIHF1ZXN0aW9ucyB3ZSBuZWVkIHRvIHdvcmsgYSBsaXR0bGUgYml0ZSBtb3JlLiBGaXJzdCB3ZSBoYXZlIHRvIG9idGFpbiB0aGUgVk1BIHJlcHJlc2VudGF0aW9uIG9mIG91ciBWQVIgbW9kZWwuIFRoYXQgaXMsIHdlIGhhdmUgdG8gImludmVydCIgb3VyIG1vZGVsLiBIb3cgYW5kIHdoeT8gVGhlIGlkZWEgaXMgdGhlIHNhbWUgdGhhdCBNYXJpYW0gZXhwbGFpbmVkIHRvIHlvdSwgc29tZXRoaW5nIGxpa2U6Cgo+IGV2ZXJ5IHN0YXRpb25hcnkgQVIgcHJvY2VzcyBoYXZlIGEgTUEgcmVwcmVzZW50YXRpb24KCgpBcyB3ZSBhcmUgbm93IHdpdGggVkFSICh2ZWN0b3JpYWwtQVIpIHdlIHdvdWxkIG9idGFpbiBhIHZlY3RvcmlhbC1NQSAoVk1BKSwgYnV0IHRoZSBpZGVhIGlzIHRoZSBzYW1lLiBMZXQncyBkbyBpdCAoYnkgaGFuZCkgZm9yIGEgVkFSIHdpdGggb25seSAxIGxhZzoKCgoKCmBgYHtyLCBlY2hvID0gRkFMU0UsIG91dC53aWR0aCA9ICI4MCUifQprbml0cjo6aW5jbHVkZV9ncmFwaGljcyhoZXJlOjpoZXJlKCJpbWFnZW5lcyIsICIwMS1ob3Jpem9udGFsLWEuanBnIikgKSAKYGBgCgpGaW5hbGx5IHdlIGhhdmUgdGhhdCBvdXIgdmVjdG9yIG9mIHZhcmlhYmxlcyAkeV97dH0kIGFzIGEgZnVuY3Rpb24gb2YgdGhlIGlubm92YXRpb25zIGluICR0JCwgaW4gJHQtMSQsICR0LTIkIC4uLi4gICBUaGlzIGlzIHRoZSBWTUEgcmVwcmVzZW50YXRpb24uIFRoZSB2YXJpYWJsZXMgaW4gZnVuY3Rpb24gb2YgYWN0dWFsIGFuZCBwYXN0IHZhbHVlcyBvZiBpbm5vdmF0aW9ucyAoJHZfe3R9JCkuCgpVc3VhbGx5IHdlIHJlbmFtZSB0aGUgbWF0cmljZXMgdG8gY2FsbCB0aGVtICRDX3tpfSQgYW5kIHRoZSBWTUEgdGhhdCB5b3Ugc2VlIGluIHBhcGVycyBhbmQgYm9va3MgdXN1YWxseSBpcyB3cml0dGVuIGxpa2U6CgokJHlfe3R9fj1DX3swfXZfe3R9K0NfezF9dl97dC0xfStDX3syfXZfe3QtMn0rXCAuLi5cICBbM10kJAoKCgpiZWluZyAkQ197MH09SV97S30kLCB0aGUgcmVzdCBvZiB0aGUgJENfe2l9JCBhcmUgY29tcHV0ZWQgcmVjdXJzaXZlbHkgZnJvbSB0aGUgVkFSIHJlcHJlc2VudGF0aW9uICwgdGhhdCBpcyB0aGV5IGFyZSBmdW5jdGlvbiBvZiB0aGUgJEFfe2l9JCBtYXRyaWNlcy4KCgpBcyB3aXRoIHRoZSBWQVIsIG1vZGVsICRbM10kIGNhbiBiZSB3cml0dGVuIHVzaW5nIGEgcG9seW5vbWlhbCBpbiB0aGUgbGFnIG9wZXJhdG9yIGFzOgogCgokJHlfe3R9PUMoTCl2X3t0fVwgXCBcIFwgXCBcIFwgXCBcIFwgXCBcIFs0XSQkCgpiZWluZyAkQyhMKT0oSV97S30rQ197MX1MXnsxfStDX3syfUxeezJ9K1wgXCAuLi4pJC4KCgpPSywgYnV0IHdoeSB3ZSBuZWVkIHRoaXMgbmV3IHJlcHJlc2VudGF0aW9uIG9mIG91ciBzeXN0ZW0gJHlfe3R9JC4gRm9yIGRpZmZlcmVudCByZWFzb24sIGJ1dCBpbiB0aGUgY29udGV4dCBvZiBWQVIgbW9kZWxzLCBiZWNhdXNlIHRoZSBWTUEgcmVwcmVzZW50YXRpb24sIHRoYXQgaXMsIHRoZSBzZXF1ZW5jZSBvZiAkQ197aX0kIG1hdHJpY2VzIHByb3ZpZGUgdGhlIElSRl5bV2Ugd2lsbCBzZWUgaW4gc2hvcnQgdGhhdCB0aGlzIGlzIG5vdCByZWFsbHkgdHJ1ZSBiZWNhdXNlIC4uLi5dLCB0aGF0IGlzLCB0aGlzIHNlcXVlbmNlIG9mICRDX3tpfSQgcHJvdmlkZSB0aGUgYW5zd2VyIHRvIG91ciBmaXJzdCBxdWVzdGlvbi4gCgoKRm9yIGluc3RhbmNlLCBpbiBvdXIgZXhhbXBsZSwgSW1hZ2luZSB0aGF0OgoKCiQkeV97dH09XGxlZnRbIApcYmVnaW57YXJyYXl9e2N9ClVTQV97dH0gXFwgClUxNV97dH0gXFwgCkVTUF97dH0lClxlbmR7YXJyYXl9JQpccmlnaHRdIFwgXCBcIFwgdl97dH09XGxlZnRbIApcYmVnaW57YXJyYXl9e2N9CnZfe3R9XntVU0F9IFxcIAp2X3t0fV57RTE1fSBcXCAKdl97dH1ee0VTUH0lClxlbmR7YXJyYXl9JQpccmlnaHRdICQkCgoKCiQkeV97dH1+PUNfezB9dl97dH0rQ197MX12X3t0LTF9K0NfezJ9dl97dC0yfStDX3szfXZfe3QtM30rQ197NH12X3t0LTR9Ky4uLiQkCgokJHlfe3R9fj1cbGVmdFsgClxiZWdpbnthcnJheX17Y2N9CjEuMCAmIDAuMCAmIDAuMCBcXAowLjAgJiAxLjAgJiAwLjAgXFwKMC4wICYgMC4wICYgMS4wJQpcZW5ke2FycmF5fSUKXHJpZ2h0XSB2X3t0fStcbGVmdFsKXGJlZ2lue2FycmF5fXtjY30KMS4xICYgMS4yICYgMS4zIFxcIAoxLjQgJiAxLjUgJiAxLjYgXFwKMS43ICYgMS44ICYgMS45JQpcZW5ke2FycmF5fSUKXHJpZ2h0XSB2X3t0LTF9K1xsZWZ0WwpcYmVnaW57YXJyYXl9e2NjfQoyLjEgJiAyLjIgJiAyLjMgXFwgCjIuNCAmIDIuNSAmIDIuNiBcXAoyLjcgJiAyLjggJiAyLjklClxlbmR7YXJyYXl9JQpccmlnaHRdIHZfe3QtMn0rXGxlZnRbClxiZWdpbnthcnJheX17Y2N9CjMuMSAmIDMuMiAmIDMuMyBcXCAKMy40ICYgMy41ICYgMy42IFxcCjMuNyAmIDMuOCAmIDMuOSUKXGVuZHthcnJheX0lClxyaWdodF0gdl97dC0zfSsuLi4kJAoKCgoKCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUTyBETzoqKiBUcmFjayB3aGF0IGFyZSBnb2luZyB0byBiZSB0aGUgZWZmZWN0IGluIDIwMjAsIDIwMjEsIDIwMjIgJiAyMDIzIGluIHRoZSBVUyBWb2xfR0RQIGlmIGEgaW5ub3ZhdGlvbiBvZiBzaXplIDEgaW4gJHZee1VTQX0kIGhhcHBlbnMgdG9kYXkoMjAyMCkuIFRoYXQgaXMgSSdtIGFza2luZyB5b3UgdG8gY2FsY3VsYXRlIHdoYXQgd2lsbCBiZSB0aGUgZWZmZWN0IHRob3VnaHQgdGltZSAodCwgdCsxLCB0KzIgLi4uKSBvbiBVU0Egb2YgYW4gaW5ub3ZhdGlvbiBvZiBzaXplIDEgaW4gaGlzIG93biBlcXVhdGlvbiwgdGhhdCBpcyBpbiAkdl97dH1ee1VTQX0kIAo8L2Rpdj4KPGJyPgoKVGhlIGFuc3dlciBpczogMSwgMS4xLCAyLjEsIDMuMSAuLi4uCgo8YnI+CjxkaXYgY2xhc3MgPSAiYmx1ZSI+CioqVE8gRE86KiogVHJhY2sgd2hhdCBhcmUgZ29pbmcgdG8gYmUgdGhlIGVmZmVjdCAqKm9uIFNwYWluKiogaW4gMjAyMCAyMDIxLCAyMDIyICYgMjAyMyBpZiB0b2RheSAoMjAyMCkgdGhlcmUgaXMgYW4gaW5ub3ZhdGlvbiBvZiBzaXplIDEgaW4gICR2XntFMTV9JC4gVGhhdCBpcyBJJ20gYXNraW5nIHlvdSB0byBjYWxjdWxhdGUgd2hhdCB3aWxsIGJlIHRoZSBlZmZlY3QgdGhvdWdodCB0aW1lIG9uIFNwYWluIG9mIGFuIGlubm92YXRpb24gb2Ygc2l6ZSAxIGluICR2XntFMTV9JC4gUGxlYXNlLCBtYWtlIGFuIGVmZm9ydCwgaXQgaXMgcmVhbGx5IGltcG9ydGFudCB0byBub3RpY2UgYW5kIHRvIHVuZGVyc3RhbmQgdGhpcy4KPC9kaXY+Cjxicj4KCgpUaGVuLCB3ZSBoYXZlIHNvbHZlZCBhbHJlYWR5IG91ciBmaXJzdCBxdWVzdGlvbiwgdGhhdCBpcywgaW4gb3JkZXIgdG8gdG8gZXN0aW1hdGUgd2hhdCB0aGUgZWZmZWN0cyBvZiBVU0EgJiBFMTUgaW4gdGhlIFNwYW5pc2ggZWNvbm9teSB3ZSBoYXZlIGZpcnN0IHRvIGVzdGltYXRlIGEgVkFSIGFuZCB0aGVuLCB0byBpbnZlcnQgdGhlIHBvbHlub21pYWwgdG8gb2J0YWluIHRoZSBzZXF1ZW5jZSBvZiAkQyQgbWF0cmljZXMsIHRoYXQgaXMgdGhlICRDKEwpJCBwb2x5bm9taWFsLiAKCkFuZCwgdGhhdCdzIGFsbD8gRG8geW91IHRoaW5rIHRoaW5ncyBhcmUgc28gZWFzeT8gT2J2aW91c2x5IE5vLCBpdCdzIG9ubHkgcGFydCBvZiB0aGUgcHJvY2Vzcywgd2Ugd2lsbCBjb250aW51ZSBleHBsYWluaW5nIHRoaXMgbGF0dGVyLgoKCk5vdywgbGV0J3Mgb2J0YWluIHRoZSBWTUEgcmVwcmVzZW50YXRpb24gb2Ygb3VyX3ZhciB3aXRoIFIuCgpgYGB7cn0KIy0tLS0tLSBPYnRhaW5pbmcgdGhlIFdvbGQgVk1BIHJlcHJlc2VudGF0aW9uIG9mIG91cl92YXIgd2l0aCB0aGUgdmFycyBwYWNrYWdlClBoaShvdXJfdmFyLCBuc3RlcCA9IDMpICAjLSBzaG93cyB0aGUgV09MRCBWTUEgIGVzdGltYXRlZCBtYXRyaWNlcy4gKGJ5IGludmVydGluZyB0aGUgQSdzIG1hdHJpY2VzKQpgYGAKCgoKCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUTyBETzoqKiBUcmFjayB3aGF0IGFyZSB0aGUgKiplc3RpbWF0ZWQqKiBlZmZlY3Qgb2YgYW4gVVMgInNob2NrIiBpbiB0aGUgU3BhbmlzaCBlY29ub215Lgo8L2Rpdj4KPGJyPgoKClRvIGZpbmlzaCB0aGUgc2Vjb25kIGNsYXNzLiBJbiBmYWN0IHRoZSBmaXJzdCBjbGFzcyBvZiB0aGUgZXhwcmVzcyBjb3Vyc2Ugd2UgaGF2ZSB0byB1bmRlcnN0YW5kIHdoeSB0aGUgV29sZCBWTUEgaXMgKipOT1QgVVNFRlVMKiouCgoKV2h5IGl0J3Mgbm90IHVzZWZ1bCB0aGUgJHlfe3R9fj0gQyhMKXZfe3R9PSBDX3swfXZfe3R9K0NfezF9dl97dC0xfStDX3syfXZfe3QtMn0rQ197M312X3t0LTN9K0NfezR9dl97dC00fSsuLi4kPwoKClRoZSB3aHkgaXMgaW4gdGhlIHZhcmlhbmNlLWNvdmFyaWFuY2UgbWF0cml4IG9mIHRoZSBpbm5vdmF0aW9ucyAkXFNpZ21hIF97dn0kLCB0aGlzIG1hdHJpeCBpdCdzIHVzdWFsbHkgbm90IGRpYWdvbmFsLiBUaGF0IGl0J3MgdGhlIGlubm92YXRpb25zIGFyZSBjb250ZW1wb3JhbmVvdXNseSBjb3JyZWxhdGVkIGFuZCB3ZSB0aGluaywgd2UgYmVsaWV2ZSwgdGhhdCBhIHRydWUgc3RydWN0dXJhbCBzaG9jayBzaG91bGQgYmUgImluZGVwZW5kZW50Iiwgb3J0aG9nb25hbCB0byBvdGhlciBzdHJ1Y3R1cmFsIHNob2Nrcy4KCkluIGEgbW9yZSBmb3JtYWwgd2F5OgoKPiBCVVQsIHVzdWFsbHkgdGhlIFZBUiBkaXN0dXJiYW5jZXMgKG9yIGlubm92YXRpb25zKSBhcmUgY29ycmVsYXRlZCwgc28gdGhlIGludGVycHJldGFiaWxpdHkgb2YgdGhlIGltcHVsc2UgcmVzcG9uc2VzIHRvIGlubm92YXRpb24gYmVjb21lcyBwcm9ibGVtYXRpYzogaWYgdGhlIGlubm92YXRpb25zIGFyZSBjb3JyZWxhdGVkIChvZmYgZGlhZ29uYWwgZWxlbWVudHMgb2YgJFxTaWdtYSBfe3Z9JCBkaWZmZXJlbnQgZnJvbSB6ZXJvKSB0aGVuLCBhbiBpbXB1bHNlIGluIGZvciBpbnN0YW5jZSwgJHZfe1VTQX0kIHdvdWxkIGJlIGFzc29jaWF0ZWQgd2l0aCBpbXB1bHNlcyBpbiBpbm5vdmF0aW9ucyBpbiB0aGUgb3RoZXIgZXF1YXRpb25zIG9mIHRoZSBWQVIgbW9kZWwuIEluIG90aGVyIHdvcmRzLCBhcyB0aGUgaW5ub3ZhdGlvbnMgYXJlIG5vdCBsaWtlbHkgdG8gb2NjdXIgaW4gaXNvbGF0aW9uLCB0aGVuIHRyYWNraW5nIHRoZSBlZmZlY3Qgb2YgYW4gaW5ub3ZhdGlvbiBpbiBpc29sYXRpb24gZG9lcyBub3QgcmVmbGVjdCB3aGF0IGFjdHVhbGx5IGhhcHBlbnMgaW4gdGhlIHN5c3RlbSBhZnRlciBhbiBpbm5vdmF0aW9uIGhpdHMgdGhlIHN5c3RlbS4KCjxicj4KCiMgNC4gU3RydWN0dXJhbCBWQVJzCgpPSywgd2UgY2FuIGVzdGltYXRlIGEgVkFSIGFuIGludmVydGluZyBpdCB3ZSBjYW4gb2J0YWluIHNvbWV0aGluZyAiY2xvc2UiIHRvIHRoZSBJUkYncyB3ZSB3YW50IGJ1dCB0aGV5IGFyZSBub3QgcmVhbGx5IHN0cnVjdHVyYWwgYmVjYXVzZSB0aGUgaW5ub3ZhdGlvbiBhcmUgY29ycmVsYXRlZCwgdGhlbiB0aGV5IGFyZSBub3QgcmVhbGx5IHN0cnVjdHVyYWwgc2hvY2tzLgoKVG8gaW50ZXJwcmV0IHRoZSBWQVIgaW4gYW4gZWNvbm9taWNhbGx5IG1lYW5pbmdmdWwgd2F5LCBvbmUgbmVlZHMgdG8gInRyYW5zZm9ybSIgdGhlIHZlY3RvciBvZiBpbm5vdmF0aW9ucygkdl97dH0kKSBpbnRvICJzdHJ1Y3R1cmFsIiBzaG9ja3MgKCRcdmFyZXBzaWxvbiBfe3R9JCksIGxpa2UgbW9uZXRhcnkgcG9saWN5IHNob2NrcywgcHJvZHVjdGl2aXR5IHNob2NrcywgLi4uIGFuZCBpZGVhbGx5IHRoZSBzdHJ1Y3R1cmFsIHNob2NrcyBzaG91bGQgYmU6ICAxKSBvcnRob2dvbmFsIHNob2NrcyAgMikgc2hvY2tzIHdpdGggZWNvbm9taWMgbWVhbmluZy4gCgpUaGF0J3Mgbm93IG91ciBvYmplY3RpdmUgdG8gdHJhbnNmb3JtIG91ciBzeXN0ZW0gaW4gYSB3YXkgdGhhdCBvdXIgdmFyaWFibGVzLCB0aGUgJHlfe3R9JCBpbnN0ZWFkIG9mIGJlaW5nIGZ1bmN0aW9uIG9mIHRoZSBpbm5vdmF0aW9ucyAoJHZfe3R9JCksIHRoZXkgd2VyZSBmdW5jdGlvbiBvZiBzdHJ1Y3R1cmFsIHNob2NrcyAoJFx2YXJlcHNpbG9uX3t0fSQpLgoKClJlbWVtYmVyLCB0aGF0IHdlIGNhbiBvYnRhaW4gZWFzaWx5IHRoZSAoV29sZCkgVk1BIHJlcHJlc2VudGF0aW9uOiAgJHlfe3R9ID0gIEMoTCl2X3t0fSQgd2hlcmUgJFxTaWdtYSBfe3Z9JCAgIGlzIG5vdCB0aGUgaWRlbnRpdHksIHRoZW4gdGhlIGlubm92YXRpb25zIGFyZSBjb3JyZWxhdGVkLiBCVVQgd2Ugd291bGQgbGlrZSB0byBvYnRhaW4gIHNvbWV0aGluZyBsaWtlICR5X3t0fSA9IEQoTClcdmFyZXBzaWxvbl97dH0kIHdoZXJlICAkXFNpZ21hIF97XHZhcmVwc2lsb24gfT1JJAoKClRyYW5zZm9ybWluZyB0aGUgc3lzdGVtIGZyb20gb25lIGVxdWF0aW9uIHRvIHRoZSBvdGhlciBpcyBpbiBmYWN0IGEgbWF0aGVtYXRpY2FsIHByb2JsZW0sIGFuIEMuIEEuIFNpbXMgaXMgYSBtYXRoZW1hdGljaWFuLiBJbiBmYWN0IHRoZWlyIGZpcnN0IHByb3Bvc2FsIHdhczogCgoKPiAgVGhlIHN0cnVjdHVyYWwgVkFSIG1ldGhvZG9sb2d5IGZpcnN0IGVzdGltYXRlIGFuIHVucmVzdHJpY3RlZCBtb2RlbCBpbiBhIHJlZHVjZWQgZm9ybS4gTm8gcHJpb3Iga25vd2xlZGdlIGlzIHVzZWQgZXhjZXB0IHRvIGRlY2lkZSB3aGljaCB2YXJpYWJsZXMgc2hvdWxkIGVudGVyIHRoZSBzeXN0ZW0uCgo+IFNpbXPigJlzIG9yaWdpbmFsIGlkZWEgdG8gb2J0YWluIElSRiAmIEZFVkQgd2FzIHRvIGFzc3VtZSByZWN1cnNpdmUgY29udGVtcG9yYW5lb3VzIGludGVyYWN0aW9ucyBhbW9uZyB2YXJpYWJsZXMsIGkuZS4gYnkgaW1wb3NpbmcgYSBjZXJ0YWluIHN0cnVjdHVyYWwgb3JkZXJpbmcgb2YgdGhlIHZhcmlhYmxlcy4gSW4gdGVybXMgb2YgdGhlIG1vdmluZyBhdmVyYWdlIChNQSkgcmVwcmVzZW50YXRpb24sIHRoZSBzdHJ1Y3R1cmFsIHNob2NrcyBkbyBub3QgYWZmZWN0IHByZWNlZGluZyB2YXJpYWJsZXMgc2ltdWx0YW5lb3VzbHkuIEluIGZhY3QgaGUgcHJvcG9zZWQgdG8gdXNlIHRoZSBDaG9sZXNreSBkZWNvbXBvc2l0aW9uLgoKTGV0J3MgdHJ5IHRvIGV4cGxhaW4gdGhpcyBsYXN0IGNyeXB0aWMgc2VudGVuY2UuIAoKVG8gb2J0YWluL2VzdGltYXRlIGFuIHN0cnVjdHVyYWwgVkFSLCB0aGUgdXN1YWwgcHJvY2VkdXJlIGlzOgoKLSBmaXJzdCBhIChyZWR1Y2VkIGZvcm0pIFZBUiBtb2RlbCBpcyBlc3RpbWF0ZWQKCi0gd2UgY291bGQgaW52ZXJ0IHRoZSBWQVIgdG8gb2J0YWluIHRoZSAoV29sZCkgVk1BIGJ1dCBpdCdzIG5vdCByZWFsbHkgdXNlZnVsLiBXZSBjYW4gb2J0YWluICgxKSwgYnV0IHdlIHdhbnQgYSBzdHJ1Y3R1cmFsIG1vZGVsICgyKQoKLSBmcm9tIHRoZSBXb2xkIG9yIHJlZHVjZWQgZm9ybSBWTUEgcmVwcmVzZW50YXRpb24gd2Ugd2lsbCBvYnRhaW4gdGhlIHN0cnVjdHVyYWwgVkFSLiAKCgo8YnI+CgpJbiBhIGRpYWdyYW06IAoKCmBgYHtyLCBlY2hvID0gRkFMU0UsIG91dC53aWR0aCA9ICI5MCUifQprbml0cjo6aW5jbHVkZV9ncmFwaGljcyhoZXJlOjpoZXJlKCJpbWFnZW5lcyIsICIwMi1WTUEuanBnIikgKSAKYGBgCgo8YnI+CgpFcXVhdGlvbiAoMikgd2lsbCBiZSB0aGUgc3RydWN0dXJhbCBWQVIsIGluIGZhY3QgaXMsIG1vcmUgcHJlY2lzZWx5IHRoZSBzdHJ1Y3R1cmFsIFZNQSByZXByZXNlbnRhdGlvbiBmb3Igb3VyIG91ciBzeXN0ZW0gb2YgdmFyaWFibGVzICR5X3t0fSQgLCB0aGF0IHdlIHdhbnQgdG8gb2J0YWluIHRvIGFuc3dlciBvdXIgdHdvIHF1ZXN0aW9ucy4KCjxicj4KCiMjIDQuMSBTaW1zJ3MgZmlyc3QgcHJvcG9zYWwKClRoZSBmaXJzdCBwcm9wb3NhbCB0byAicmVjb3ZlciIgdGhlIHN0cnVjdHVyYWwgaW5mb3JtYXRpb24gZnJvbSB0aGUgcmVkdWNlZCBmb3JtIGVzdGltYXRlcyB3YXMgbWFkZSBieSBTaW1zIGluIDE5ODAuCgpJbiBwYXJ0aWN1bGFyLCBTaW1zKDE5ODApIHByb3Bvc2UgdG8gdXNlIHRoZSBbQ2hvbGVza3kgZGVjb21wb3NpdGlvbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2hvbGVza3lfZGVjb21wb3NpdGlvbikgdG8gb2J0YWluICgyKSBmcm9tICgxKS4gTGV0J3MgZGV2ZWxvcCBpdCBhIGxpdHRsZToKCi0gQ2hvbGVza3kgZm91bmQgdGhhdCBldmVyeSBzeW1tZXRyaWMgZGVmaW5pdGUgcG9zaXRpdmUgbWF0cml4LCBsZXQncyBjYWxsIGl0ICRNJCBhZG1pdHMgYSAqKnVuaXF1ZSoqIGZhY3RvcmlzYXRpb24gbGlrZSAkTSA9IFBQXntee1xwcmltZSB9fSQuIFdoZXJlICAkUCQgaXMgY2FsbGVkIHRoZSBDaG9sZXNreSBmYWN0b3IgYW5kIGl0IGlzIGEgICoqbG93ZXIgdHJpYW5ndWxhcioqIG1hdHJpeC4gCgotIFNpbXMgaXMgYSBtYXRoZW1hdGljaWFuIGFuZCBoZSBvYnZpb3VzbHkga25ldyB0aGUgQ2hvbGVza3kgZGVjb21wb3NpdGlvbiwgdGhlbiBoZSBwcm9wb3NlZCBpbiBoaXMgMTk4MCBwYXBlciB0byB1c2UgdGhpcyBUaGVvcmVtIGluIG9yZGVyIHRvIHRyYW5zZm9ybSBvdXIgcmVkdWNlZCBmb3JtIFZBUiB0byBhICJzdHJ1Y3R1cmFsIiBvbmUuIFN0cnVjdHVyYWwgaW4gdGhlIHNlbnNlIHRoYXQgdGhlIHRyYW5zZm9ybWVkICJpbm5vdmF0aW9ucyIgd2VyZSBvcnRob2dvbmFsLiBMZXQncyBleHBsYWluIHRoaXMgYSBsaXR0bGUgYml0ZSBtb3JlOgoKLSBUaGUgdmFyaWFuY2UtY292YXJpYW5jZSBtYXRyaXggb2Ygb3VyIFZBUiwgdGhlICRcU2lnbWEgX3t2fSQsIGFzIGl0IGlzIGEgdmFyaWFuY2UtY292YXJpYW5jZSBtYXRyaXgsIGl0IGFkbWl0IHRoZSBDaG9sZXNreSBkZWNvbXBvc2l0aW9uOiAkXFNpZ21hIF97dn0gPSBQUF57XntccHJpbWUgfX0kLCB3aGVyZSAkUCQgaXMgdGhlIENob2xlc2t5IGZhY3RvcjsgdGhhdCBpcyAkUCQgbWF0cml4IGhhcyBzb21lIHByb3BlcnRpZXM6ICAKCiAgMSkgICRQJCBpcyBsb3dlciB0cmlhbmd1bGFyLCBhbmQgICAKICAyKSAgJFBeey0xfVxTaWdtYSBfe3Z9UF57ey0xfV57XHByaW1lfX09IEkkICAKClRoZW4sIFNpbXMgcHJvcG9zZXMgdG8gdHJhbnNmb3JtIHRoZSByZWR1Y2VkIGZvcm0gVk1BIHJlcHJlc2VudGF0aW9uICgxKSwgbGlrZSB0aGlzOgoKLSAkeV97dH0gPSAgQyhMKXZfe3R9JAoKCi0gJHlfe3R9PSBDKEwpIFBQXnstMX12X3t0fSQKCkl0IHNlZW1zIHN0dXBpZCwgYmVjYXVzZSBpdCBzZWVtcyB0aGF0IHdlIGFyZSBjb21wbGljYXRpbmcgdGhpbmdzLCBidXQgbGV0J3MgY29uY2VudHJhdGUgb24gYSBzcGVjaWZpYyBwYXJ0IG9mIHRoZSBsYXN0IGVxdWF0aW9uOiAkUF57LTF9dl97dH0kLiAKCi0gSW4gZmFjdCwgJFBeey0xfXZfe3R9JCBpcyBhIHRyYW5zZm9ybWF0aW9uL3JvdGF0aW9uIG9mIHRoZSBpbm5vdmF0aW9ucy4gV2UgYXJlIG11bHRpcGx5aW5nLCB3ZSBhcmUgdHJhbnNmb3JtaW5nLCB0aGUgaW5ub3ZhdGlvbnMsIHRoZSAkXHZfe3R9JCwgYW5kIHRoZW4gb2J0YWluaW5nIGEgbmV3IHZlY3RvciBvZiAiaW5ub3ZhdGlvbnMiLiBXZSBjYW4gY2FsbCB0aG9zZSBuZXcgaW5ub3ZhdGlvbnMgYXMgd2Ugd2FudCwgZm9yIGluc3RhbmNlICRQXnstMX12X3t0fSA9IFx2YXJlcHNpbG9uX3t0fSQKCgpMZXQncyBzZWUgd2hhdCBhcmUgdGhlIGNvdmFyaWFuY2UgbWF0cml4IG9mIHRoZXNlIG5ldyAiaW5ub3ZhdGlvbnMiIHRoYXQgd2UgaGF2ZSBjYWxsZWQgJFx2YXJlcHNpbG9uX3t0fSQuIERvIHlvdSBndWVzcz8KCgpgYGB7ciwgZWNobyA9IEZBTFNFLCBvdXQud2lkdGggPSAiOTAlIn0Ka25pdHI6OmluY2x1ZGVfZ3JhcGhpY3MoaGVyZTo6aGVyZSgiaW1hZ2VuZXMiLCAiMDMtVk1BLmpwZyIpICkgCmBgYAoKPGJyPgoKVGhhdCBpcywgdGhlICJ0cmFuc2Zvcm1lZCBpbm5vdmF0aW9ucyIgYXJlIG9ydGhvZ29uYWwgLi4uLiB0aGVuIFNpbXMgaW50ZXJwcmV0ZWQgdGhlbSBhcyAqKnN0cnVjdHVyYWwgc2hvY2tzKiouIEdvb2QsIEJVVCBoaXMgcHJvcG9zYWwgcmVjZWl2ZWQgc29tZSBjcml0aXF1ZXMgLi4uIHRoYXQgd2Ugd2lsbCBzZWUgbGF0dGVyLgoKPGJyPiAKCkJ5IG5vdyBsZXQncyByZXR1cm4gdG86IAoKLSAkeV97dH09IEMoTCkgUFBeey0xfXZfe3R9JCAgICBhcyB3ZSBoYXZlIGNhbGwgJFBeey0xfXZfe3R9ID0gXHZhcmVwc2lsb25fe3R9JCwgaW4gZmFjdCB3ZSBoYXZlOgoKCi0gJHlfe3R9PSBDKEwpIFBcdmFyZXBzaWxvbl97dH0kICAgCgoKCjxicj4KPGRpdiBjbGFzcyA9ICJibHVlIj4KKipUTyBUSElOSzoqKiBUaGUgbGFzdCBlcXVhdGlvbiAkeV97dH09IEMoTCkgUFx2YXJlcHNpbG9uX3t0fSQgICBpcyBhIHN0cnVjdHVyYWwgbW9kZWw/IENvdWxkIGl0IGJlIHVzZWQgdG8gb2J0YWluIHRoZSBhbnN3ZXJzIHRvIG91ciB0d28gcXVlc3Rpb25zICh0aGUgaW1wb3J0YW5jZSBvZiB0aGUgRXVyb3BlYW4gc2hvY2sgaW50byB0aGUgU3BhbmlzaCBlY29ub215KT8gSG93IGNhbiB3ZSBvYnRhaW4gdGhpcyBuZXcgcmVwcmVzZW50YXRpb24gb2YgJHlfe3R9JCwgdGhlIHNvIGNhbGxlZCBzdHJ1Y3R1cmFsIFZBUiBtb2RlbCBjbGFpbWVkIGJ5IFNpbXM/CjwvZGl2Pgo8YnI+CgoKSW4gZmFjdCB3ZSBjYW4gY2FsbCAkQyhMKVAgPSBEKEwpJCBhbmQgd2Ugd2lsbCBoYXZlICR5X3t0fT0gRChMKSBcdmFyZXBzaWxvbl97dH0kLCBhbmQgdGhlICREKEwpJCB3aWxsIGdpdmUgdXMgdGhlIHJlc3BvbnNlIG9mIHRoZSB2YXJpYWJsZXMgb2Ygb3VyIHN5c3RlbSAoJHlfe3R9JCkgdG8gYSB2ZWN0b3Igb2Ygc2hvY2tzIHRoYXQgYXJlIG9ydGhvZ29uYWwgKCRcdmFyZXBzaWxvbl97dH0kKS4KCgo8YnI+CjxkaXYgY2xhc3MgPSAiYmx1ZSI+CioqVE8gVEhJTks6KiogSG93IHdlIGNhbiBjYWxjdWxhdGUgdGhlIEQoTCkKPC9kaXY+Cjxicj4KCgpUaGluayB0aGF0ICRDKEwpUCA9IEQoTCkkOyB0aGF0IGlzLCAKCiQkKENfezB9ICsgQ197MX1MICsgQ197Mn1MXnsyfSkgUCA9IERfezB9ICsgRF97MX1MICsgRF97Mn1MXnsyfSQkCgpUaGF0IGlzIDogCgotICRDX3swfSBQID0gRF97MH0kCgotICRDX3sxfSBQID0gRF97MX0kIC4uLgoKCjxicj4KClRoYXQncyB3YXMgdGhlIHByb3Bvc2FsIG9mIFNpbXMgdG8gZXN0aW1hdGUgc3RydWN0dXJhbCBJUkYnczogaXQgY29uc2lzdHMgb24gZmlyc3QgdG8gZXN0aW1hdGUgYSBWQVIgKGluIHJlZHVjZWQgZm9ybSksIGludmVydCB0aGUgYXV0b3JlZ3Jlc3NpdmUgcG9seW5vbWlhbCB0byBvYnRhaW4gdGhlIChyZWR1Y2VkIGZvcm0pIFZNQSByZXByZXNlbnRhdGlvbiBmb3IgJHlfe3R9JCwgYW4gZmluYWxseSB0byB1c2UgdGhlIENob2xlc2t5IGZhY3RvciB0byB0cmFuc2Zvcm0gdGhlIHJlZHVjZWQgZm9ybSBWTUEgdG8gYSAic3RydWN0dXJhbCIgcmVwcmVzZW50YXRpb24uICBJbiBtb3JlIHRlY2huaWNhbCB3b3JkczoKCj4gU2ltc+KAmXMgb3JpZ2luYWwgaWRlYSB3YXMgdG8gb2J0YWluIElSRiZGRVZEIHdhcyB0byBhc3N1bWUgcmVjdXJzaXZlIGNvbnRlbXBvcmFuZW91cyBpbnRlcmFjdGlvbnMgYW1vbmcgdmFyaWFibGVzLCBpLmUuIGJ5IGltcG9zaW5nIGEgY2VydGFpbiBzdHJ1Y3R1cmFsIG9yZGVyaW5nIG9mIHRoZSB2YXJpYWJsZXMuIEluIHRlcm1zIG9mIHRoZSBtb3ZpbmcgYXZlcmFnZSAoTUEpIHJlcHJlc2VudGF0aW9uLCB0aGUgc3RydWN0dXJhbCBzaG9ja3MgZG8gbm90IGFmZmVjdCBwcmVjZWRpbmcgdmFyaWFibGVzIHNpbXVsdGFuZW91c2x5IChDaG9sZXNreSkKCkJ5IG5vdyB5b3Ugc2hvdWxkIHN0YXJ0IHRvIHVuZGVyc3RhbmQgdGhpcyBsYXN0IHNlbnRlbmNlLiBUaGVyZSBpcyBzdGlsbCBhIHRyaWNreSBwYXJ0IHRoZXJlOiB0aGUgImFzc3VtZSByZWN1cnNpdmUgY29udGVtcG9yYW5lb3VzIGludGVyYWN0aW9uIiBwYXJ0LgoKVG8gZmluYWxseSB1bmRlcnN0YW5kIHRoZSBzZW50ZW5jZSwgd2Ugc2hvdWxkIHJldHVybiB0byB0aGUgc3RydWN0dXJhbCBWQVIgcmVwcmVzZW50YXRpb246IAoKCiQkeV97dH09IEMoTCkgUFx2YXJlcHNpbG9uX3t0fSA9IEQoTClcdmFyZXBzaWxvbl97dH0kJAoKYW5kIHRvIHJlbWVtYmVyIHRoYXQgJERfezB9ID0gUCQgYW5kIHRoYXQgJFAkIGlzIGxvd2VyIHRyaWFuZ3VsYXIgLCB0aGVuIC4uLi4uIHdoZW4gd2UgdHJhbnNmb3JtIHRoZSByZWR1Y2VkIFZNQSB0byBvYnRhaW4gdGhlIHN0cnVjdHVyYWwgVk1BIGF0IHRoZSBlbmQgd2UgYXJlIGRvaW5nLCB3ZSBhcmUgaW1wb3NpbmcgdGhhdCB0aGUgbWF0cml4IHRoYXQgZ2l2ZXMgdGhlIGNvbnRlbXBvcmFuZW91cyBvciBpbnN0YW50YW5lb3VzIGVmZmVjdCBvZiB0aGUgc3RydWN0dXJhbCBzaG9ja3MgJFx2YXJlcHNpbG9uX3t0fSQgaXQncyAgaW4gc29tZSBzZW5zZSByZWN1cnNpdmUuIFdlIGFyZSBpbXBvc2luZyBhIHJlY3Vyc2l2ZSBzdHJ1Y3R1cmFsIGFtb25nIG91ciAzIGVxdWF0aW9ucy4KCiQkeV97dH1+PURfezB9XHZhcmVwc2lsb25fe3R9K0RfezF9XHZhcmVwc2lsb25fe3QtMX0rRF97Mn1cdmFyZXBzaWxvbl97dC0yfStEX3szfVx2YXJlcHNpbG9uX3t0LTN9K1x2YXJlcHNpbG9uX3s0fXZfe3QtNH0rLi4uJCQKClRoZSBtYXRyaXggJERfezB9JCBjb250YWlucyB0aGUgY29udGVtcG9yYW5lb3VzL2luc3RhbnRhbmVvdXMgcmVzcG9uc2Ugb2YgdGhlIHZhcmlhYmxlcyAoJHlfe3R9JCkgdG8gdGhlIHN0cnVjdHVyYWwgc2hvY2tzICRcdmFyZXBzaWxvbl97dH0kLiAqKkFORCoqLCBob3cgaXQgaXMgJERfezB9JD8KCgoKPGJyPgo8ZGl2IGNsYXNzID0gImJsdWUiPgoqKlRPIFRISU5LOioqIEhvdyBpdCBpcyAkRF97MH0kPyBMb3dlciB0cmlhbmd1bGFyLCAgV2h5PyBhbmQsIHdoYXQgZG9lcyBpbXBsaWVzIHRoYXQgJERfezB9JCBpcyBsb3dlciB0cmlhbmd1bGFyPwo8L2Rpdj4KPGJyPgoKCklmICREX3swfSQgaXMgbG93ZXIgdHJpYW5ndWxhciwgdGhhdCBtZWFucyB0aGF0IGFuICJpbm5vdmF0aW9uIiAoaW4gZmFjdCBub3csIGEgc3RydWN0dXJhbCBzaG9jayAsICRcdmFyZXBzaWxvbnt0fSQpIGluIHRoZSBmaXJzdCBlcXVhdGlvbiBjb3VsZCAqKmNvbnRlbXBvcmFuZW91c2x5KiogYWZmZWN0cyB0byAqKkFMTCoqIHRoZSB2YXJpYWJsZXMgaW4gdGhlIFZBUiwgd2hpbGUgdGhlIGlubm92YXRpb24gaW4gdGhlIHNlY29uZCBlcXVhdGlvbiBjb3VsZCBjb250ZW1wb3JhbmVvdXNseSBhZmZlY3QgYWxsIHRoZSB2YXJpYWJsZXMgaW4gdGhlIFZBUiAqKmV4Y2VwdCoqIHRoZSBmaXJzdCBvbmUsIOKApiBhbmQgZmluYWxseSwgYW4gaW5ub3ZhdGlvbiBpbiB0aGUgbGFzdCBlcXVhdGlvbiBjb3VsZCBjb250ZW1wb3JhbmVvdXNseSBhZmZlY3RzIG9ubHkgdGhlIGxhc3QgdmFyaWFibGUgaW4gdGhlIFZBUgoKCgojIyA0LjIgQ3JpdGlxdWVzIHRvIFNpbXMncyBwcm9wb3NhbAoKVGhlIHByb3Bvc2FsIG9mIFNpbXMncyAxOTgwIGltcGxpZXMgdGhhdCB0aGUgZmlyc3QgdmFyaWFibGUgaW4gdGhlIHN5c3RlbSwgaW4gb3VyIGNhc2UgdGhlIEdEUCBvZiBVU0EgY291bGQgYWZmZWN0IGFsbCB0aGUgdmFyaWFibGVzIGluIHRoZSBzeXN0ZW0uIFRoZSBzZWNvbmQgdmFyaWFibGUsIGluIG91ciBjYXNlIEUxNSBHRFAgY291bGQgYWZmZWN0IG9ubHkgdGhlIHNlY29uZCBhbmQgdGhpcmQgdmFyaWFibGUuIEFuZCBvdXIgdGhpcmQgdmFyaWFibGUgKFNwYW5pc2ggR0RQKSBjb3VsZCBvbmx5IGFmZmVjdCBoaXMgb3duIGR5bmFtaWNzIGNvbnRlbXBvcmFuZW91c2x5LiBUaGF0IGlzLCB3aGVuIHdlIHRyYW5zZm9ybSBvdXIgVkFSIHVzaW5nIHRoZSBDaG9sZXNreSBkZWNvbXBvc2l0aW9uIHdlIGFyZSBpbXBvc2luZyBhIHJlY3Vyc2l2ZSBzdHJ1Y3R1cmUgYW1vbmcgdGhlIHZhcmlhYmxlcy4gVGhlIG9yZGVyIG9mIHZhcmlhYmxlcyBpcyBpbXBvcnRhbnQsIGJlY2F1c2Ugb25seSB0aGUgZmlyc3QgdmFyaWFibGVzIGNhbiBhZmZlY3RzIGFsbCB0aGUgb3RoZXJzIHZhcmlhYmxlcyBjb250ZW1wb3JhbmVvdXNseS4KCgoKPGJyPgo8ZGl2IGNsYXNzID0gImJsdWUiPgoqKlRPIFRISU5LOioqIERvIHlvdSB0aGluayB0aGF0IGl0IGlzIHNlbnNpYmxlIHRvIGltcG9zZSBhIHJlY3Vyc2l2ZSBzdHJ1Y3R1cmUgaW4gb3VyIHN5c3RlbT8gVGhlIGFuc3dlciBpcyBtYXliZSB5ZXMsIG1heWJlIG5vdCAuLi4KPC9kaXY+Cjxicj4KCgoKT2YgY291cnNlIHRoZSBwcm9wb3NhbCBvZiBTaW1zIHJlY2VpdmVkIHNvbWUgY3JpdGlxdWVzIGFzIHdlbGwuIEluIGZhY3Qgb25lIG9mIHRoZSBjbGFpbXMgb2YgU2ltcyBpbiBmYXZvdXIgb2YgdXNpbmcgVkFSIGlzIHRoYXQgdGhlaXIgdXNlIGF2b2lkIHRvIG1ha2VzIHVubmVjZXNzYXJ5IHRoZSB1c2Ugb2Ygd2hhdCBTaW1zIGNhbGxlZCAiaW5jcmVkaWJsZSByZXN0cmljdGlvbnMiIHRoYXQgb3RoZXIgYXBwcm9hY2hlcywgbGlrZSBmb3IgaW5zdGFuY2Ugc2ltdWx0YW5lb3VzIGVxdWF0aW9ucyBtb2RlbHMsICB1c2VkLgoKVGhlIGZpcnN0IHByb3Bvc2FsIChTaW1zKSB0byBpZGVudGlmeSB0aGUgc3RydWN0dXJhbCBmb3JtIGJ5IG1lYW5zIG9mIHRoZSBDaG9sZXNreSBkZWNvbXBvc2l0aW9uLiBJdCdzIHNlZW1zIHRoYXQgaGUgaXQncyBub3QgaW1wb3NzaW5nIG5vbmUgcmVzdHJpY3Rpb24gYnV0IC4uLgoKICAgICAKKiBVc2luZyB0aGUgQ2hvbGVza3kgZmFjdG9yaXphdGlvbiB0byBpZGVudGlmeSB0aGUgc3RydWN0dXJhbCBWQVIgaXMgZXF1aXZhbGVudCB0byBjaG9vc2luZyBhIHJlY3Vyc2l2ZSBzeXN0ZW0gb2YgZXF1YXRpb25zLiAqKkJVVCoqLCBhcyB5b3UgY2FuIGltYWdpbmUsIHRoZSBvcmRlciBtYXR0ZXJzOyB0aGF0IGlzLCAqKmlkZW50aWZpY2F0aW9uIGlzIG5vdCB1bmlxdWUqKi4KCgo8YnI+CjxkaXYgY2xhc3MgPSAiYmx1ZSI+CioqVE8gVEhJTks6KiogV2hhdCBkb2VzIG1lYW4gKippZGVudGlmaWNhdGlvbiBpcyBub3QgdW5pcXVlKio/IENvdWxkIHlvIGV4cGxhaW4gaXQgd2l0aCBhbiBleGFtcGxlIHVzaW5nIG91ciAzIHZhcmlhYmxlcz8KPC9kaXY+Cjxicj4KCgoqIEl0IGlzIGltcG9ydGFudCB0byBrZWVwIGluIG1pbmQgdGhhdCB0aGUgIm9ydGhvZ29uYWxpemF0aW9uIiBvZiB0aGUgcmVkdWNlZC1mb3JtIHJlc2lkdWFscyBieSBhcHBseWluZyBhIENob2xlc2t5IGRlY29tcG9zaXRpb24gaXMgYXBwcm9wcmlhdGUgb25seSBpZiB0aGUgcmVjdXJzaXZlIHN0cnVjdHVyZSBlbWJvZGllZCBpbiB0aGUgQ2hvbGVza3kgZmFjdG9yaXNhdGlvbnMgY2FuIGJlIGp1c3RpZmllZCBvbiBlY29ub21pYyBncm91bmRzLgoKKiBDb29sZXkgYW5kIExlUm95ICgxOTg1KSBjcml0aWNpemVkIHRoZSBWQVIgbWV0aG9kb2xvZ3kgYmVjYXVzZSBvZiBpdHMgImF0aGVvcmV0aWNhbCIgaWRlbnRpZmljYXRpb24gc2NoZW1lLiBUaGV5IGFyZ3VlZCB0aGF0IFNpbXMgZGlkIG5vdCBleHBsaWNpdGx5IGp1c3RpZnkgdGhlIGlkZW50aWZpY2F0aW9uIHJlc3RyaWN0aW9ucyBhbmQgY2xhaW1lZCB0aGF0IGEgbW9kZWwgaWRlbnRpZmllZCBieSB0aGlzIGFyYml0cmFyeSBwcm9jZWR1cmUgY2Fubm90IGJlIGludGVycHJldGVkIGFzIGEgc3RydWN0dXJhbCBtb2RlbCwgYmVjYXVzZSBhIGRpZmZlcmVudCB2YXJpYWJsZSBvcmRlcmluZyB5aWVsZHMgZGlmZmVyZW50IHN0cnVjdHVyYWwgcGFyYW1ldGVycy4gCgoqIFNpbXMgKDE5ODYpIHByb3Bvc2UgdHJ5aW5nIGRpZmZlcmVudCBvcmRlcmluZ3MgKHRoZXJlIGFyZSBuISkgYW5kIGNoZWNraW5nIGlmIHRoZSByZXN1bHRzIGFyZSByb2J1c3QuIEluIGdlbmVyYWwsIHRoZSBoaWdoZXIgdGhlIGVsZW1lbnRzIG9mZi1kaWFnb25hbCBlbGVtZW50cyBvZiAkXFNpZ21hIF97dn0kIGFyZSwgdGhlIGhpZ2hlciB0aGUgY2hhbmdlcyBpbiB0aGUgcmVzdWx0cy4KCiogQnV0LCBldmVuIGlmIHRoZXJlIHdlcmUgbm8gZGlmZmVyZW5jZXMgYWNyb3NzIHRoZXNlIG4hIHNwZWNpZmljYXRpb25zLCB0aGlzIHdvdWxkIG9ubHkgcHJvdmUgdGhhdCB0aGUgcmVzdWx0cyBhcmUgcm9idXN0IGFtb25nIGFsbCByZWN1cnNpdmUgb3JkZXJpbmdzLCBidXQgdGhlcmUgaXMgbm8gcmVhc29uIGZvciB0aGUgbW9kZWwgdG8gYmUgcmVjdXJzaXZlIGluIHRoZSBmaXJzdCBwbGFjZS4KCiogU2luY2UgdGhlbiwgc2V2ZXJhbCB3YXlzIHRvIGlkZW50aWZ5IFZBUiBtb2RlbHMgaGF2ZSBiZWVuIHByb3Bvc2VkIChzaG9ydC1ydW4gcmVzdHJpY3Rpb25zLCBsb25nLXJ1biByZXN0cmljdGlvbnMsIGNvaW50ZWdyYXRpb24gcmVzdHJpY3Rpb25zLCBzaWduIHJlc3RyaWN0aW9uLCBuYXJyYXRpdmUgYXBwcm9hY2hlcyBldGMuICkuCgoqIEFzIGFuIGFsdGVybmF0aXZlIHRvIHRoZSByZWN1cnNpdmUgaWRlbnRpZmljYXRpb24gc2NoZW1lLCBCZXJuYW5rZSAoMTk4NikgYW5kIEJsYW5jaGFyZCBhbmQgV2F0c29uICgxOTg2KSBhbW9uZyBvdGhlcnMgaW50cm9kdWNlZCBub24tcmVjdXJzaXZlIHJlc3RyaWN0aW9ucyBvbiB0aGUgY29udGVtcG9yYW5lb3VzIGludGVyYWN0aW9ucyBhbW9uZyB2YXJpYWJsZXMgZm9yIGlkZW50aWZpY2F0aW9uCgoqIEFzIGVjb25vbWljIHRoZW9yeSBvZnRlbiBkb2VzIG5vdCBwcm92aWRlIGVub3VnaCBtZWFuaW5nZnVsIGNvbnRlbXBvcmFuZW91cyByZXN0cmljdGlvbnMgKGFuZCB0aGUgbW9yZSB2YXJpYWJsZXMgeW91IHB1dCBpbnRvIHlvdXIgc3lzdGVtLCB0aGUgbW9yZSByZXN0cmljdGlvbnMgeW91IG5lZWQpLCB0aGUgc2VhcmNoIGZvciBhZGRpdGlvbmFsIGlkZW50aWZ5aW5nIHJlc3RyaWN0aW9ucyBsZWQgQmxhbmNoYXJkIGFuZCBRdWFoICgxOTg5KSBhbmQgc3Vic2VxdWVudGx5IFNoYXBpcm8gYW5kIFdhdHNvbiAoMTk4OCkgYW5kIEdhbGkgKDE5OTIpIHRvIGludHJvZHVjZSByZXN0cmljdGlvbnMgb24gdGhlIHN5c3RlbSdzIGxvbmctcnVuIHByb3BlcnRpZXMuIFRoZXNlIGxvbmcgcnVuIHJlc3RyaWN0aW9ucyBhcmUgdXN1YWxseSBiYXNlZCBvbiBuZXV0cmFsaXR5IHBvc3R1bGF0ZXMKCiogRmF1c3QgYW5kIExlZXBlciAoMTk5NykgaGF2ZSBjcml0aWNpemVkIHRoZSB1c2Ugb2YgbG9uZyBydW4gcmVzdHJpY3Rpb25zIHRvIGlkZW50aWZ5IHN0cnVjdHVyYWwgc2hvY2tzLCBhbmQgc2hvdyB0aGF0IHVubGVzcyB0aGUgZWNvbm9teSBzYXRpc2ZpZXMgc29tZSB0eXBlcyBvZiBzdHJvbmcgcmVzdHJpY3Rpb25zLCB0aGUgbG9uZyBydW4gcmVzdHJpY3Rpb25zIHdpbGwgYmUgdW5yZWxpYWJsZQoKKiBNb3JlIHJlY2VudGx5LCBpbXBvc2luZyBzaWduIHJlc3RyaWN0aW9ucywgYWxsb3dzIHlvdSB0byB0ZXN0IHRoZSBpbXBsaWNhdGlvbnMgb2YgYWxsIHR5cGVzIG9mIHJlc3RyaWN0aW9ucy4gQnkgZHJvcHBpbmcgb25lIGFmdGVyIG9uZSBvZiB0aGUgImR1YmlvdXMgcmVzdHJpY3Rpb25zIiwgb25lIGNhbiB0ZXN0IHdoZXRoZXIgdGhlIHJlc3BvbnNlcyB0byBzaG9ja3MgYXJlIHNlbnNpdGl2ZSB0byB0aGUgcmVzdHJpY3Rpb25zIG9mdGVuIGltcG9zZWQKCiogRm9yIGEgZGV0YWlsZWQgZXhwb3NpdGlvbiBhbmQgZXhhbXBsZXMgb2YgZGlmZmVyZW50IHNvdXJjZXMgb2YgaWRlbnRpZnlpbmcgcmVzdHJpY3Rpb25zIHNlZSBbS2lsaWFuKDIwMTEpXShodHRwczovL2lkZWFzLnJlcGVjLm9yZy9wL2Nwci9jZXByZHAvODUxNS5odG1sKQoKCgpSZW1lbWJlcjogYSBzdHJ1Y3R1cmFsIFZBUiBhbmFseXNpcyB1c3VhbGx5IHN0YXJ0IHNwZWNpZnlpbmcsIHZhbGlkYXRpbmcgYW5kIGZpbmFsbHkgZXN0aW1hdGluZyBhIFZBUiBpbiByZWR1Y2VkIGZvcm0uIEZvciB0aGUgVkFSIHJlcHJlc2VudGF0aW9uIHdlIGNvdWxkIG9idGFpbiBhIHJlZHVjZWQgZm9ybSBWTUEgcmVwcmVzZW50YXRpb24sIGJ1dCB0aGlzIHJlZHVjZWQgVk1BIGlzIGhhcyBsaXR0bGUgaW50ZXJlc3QgYmVjYXVzZSBpdCdzIG5vdCBzdHJ1Y3R1cmFsLCB0aGVpciBJUkYncyBoYXZlIG5vdCBhIGNsZWFyIGludGVycHJldGF0aW9uIGJlY2F1c2UgdGhlIGlubm92YXRpb25zICgkdl97dH0kKSBhcmUgbm90IG9ydGhvZ29uYWwsIHRoZXkgYXJlIGNvcnJlbGF0ZWQuIFRoZW4sIGluIHRoZSBzdHJ1Y3R1cmFsIFZBUiBtZXRob2RvbG9neSB0aGUgcmVkdWNlZCBWTUEgcmVwcmVzZW50YXRpb24gaXMgcmFyZWx5IHNob3csIGluc3RlYWQgYSB3YXkgdG8gcmVjb3ZlciwgdG8gaWRlbnRpZnkgdGhlIHN0cnVjdHVyYWwgVkFSIGlzIHByb3Bvc2VkLgoKClVzdWFsbHkgdGhpcyBpbXBsaWVzIHRoZSB1c2Ugb2Ygc29tZSByZXN0cmljdGlvbnMuIFRoZSBmaXJzdCBwcm9wb3NhbCBtYWRlIGJ5IFNpbXMgaW4gMTk4MCBpbXBsaWVkIHRvIGltcG9zZSBhIHJlY3Vyc2l2ZSBzeXN0ZW0uIAoKLSBUaGUgIG1vc3QgY29tbW9uIHJlc3RyaWN0aW9ucyBhcmUgc2hvcnQtcnVuIHJlc3RyaWN0aW9uIG9yIGxvbmctcnVuIHJlc3RyaWN0aW9ucyAocmVzdHJpY3Rpb24gb24gJEQoMSkkKS4gSSB3aWxsIGV4cGxhaW4gdGhpcyBhdCBjbGFzcyBidXQgeW91IHNvdWwgdHJ5IHRvIHVuZGVyc3RhbmQgdGhlIHNsaWRlcyBvciB0byByZWFkIHNvbWUgbWF0ZXJpYWwuIAoKCi0gSW4gZmFjdCBpbiBjbGFzcyB3ZSB3aWxsIHVzZSBvciB0aHJlZSB2YXJpYWJsZXMgdG8gZXN0aW1hdGUgYSBzdHJ1Y3R1cmFsIFZBUiwgYnV0IHdlIHdpbGwgdXNlIGZvciBwZWRhZ29naWNhbCByZWFzb25zIHR3byB3YXlzIHRvIGlkZW50aWZ5IHRoZSBzaG9ja3MsIG9uZSBvbmx5IHdpdGggc2hvcnQgcnVuIHJlc3RyaWN0aW9uICwgdGhhdCBpcyByZXN0cmljdGlvbiBpbiAkRF97MH0kLCBhbmQgdGhlIG90aGVyIG9uZSB1c2luZyBvbmx5IHJlc3RyaWN0aW9uIG9uIHRoZSBsb25nLXJ1biwgdGhhdCBpcyBpbiB0aGUgJEQoMSkkIG1hdHJpeC4KCi0gV2Ugd2lsbCBzZWUgdGhpcyBhdCBjbGFzcyBpbiB0aGUgTGFiIHNlY3Rpb24uCgoKCjxicj4KPGRpdiBjbGFzcyA9ICJzdGVlbCI+CioqQVRURU5USU9OOioqIFdlIGhhdmUgcmVhY2hlZCBhbG1vc3QgdGhlIGVuZCBvZiB0aGUgKipleHByZXNzKiotbWluaS1jb3Vyc2UsIEJVVCBhdCBsZWFzdCB5b3Ugc2hvdWxkIGtub3cgdGhlIHNlY29uZCBtb3N0IHVzZWQgImluc3RydW1lbnQiIGluIFZBUiBtZXRob2RvbG9neTogdGhlIEZFVkQKPC9kaXY+Cjxicj4KCgoKIyMgNC4zIElSRiBhbmQgRkVWRAoKT25jZSB3ZSBoYXZlIGlkZW50aWZpZWQvb2J0YWluZWQgb3VyIHN0cnVjdHVyYWwgVkFSIHlvdSBjb3VsZCBvYnRhaW4gdGhlIElSRiBhbmQgRkVEViB0aGF0IGFyZSB0aGUgdHdvIHByaW5jaXBhbCBpbnN0cnVtZW50cyBvZiB0aGUgVkFSIG1ldGhvZG9sb2d5IGluIG9yZGVyIHRvIHNob3cgdGhlaXIgcmVzdWx0cy4KClRoZSBJUkYgaXMgbm90aGluZyBtb3JlIHRoYXQgYSBncmFwaGljYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIHNlcXVlbmNlIG9mICREX3tpfSQgbWF0cmljZXMuIFRoaXMgbWF0cmljZXMgY29udGFpbnMgdGhlIGluZm9ybWF0aW9uIHdlIGFyZSBpbnRlcmVzdGVkIGluLCB0aGUgZWZmZWN0IHRob3VnaHQgdGltZSBvZiB0aGUgc3RydWN0dXJhbCBzaG9ja3MgJFx2YXJlcHNpbG9uX3t0fSQgaW50byB0aGUgdmFyaWFibGVzICR5XyB7dH0kCgoKQXMgYW4gZXhhbXBsZSB0byBpbGx1c3RyYXRlIHRoaXMsIGltYWdpbmUgdGhhdCBvdXIgc3lzdGVtIHdvdWxkIGJlOgoKCiQkeV97dH09XGxlZnRbIApcYmVnaW57YXJyYXl9e2N9Cllfe3R9IFxcIApQX3t0fSUKXGVuZHthcnJheX0lClxyaWdodF0gXCBcIFwgXHZhcmVwc2lsb24gX3t0fT1cbGVmdFsgClxiZWdpbnthcnJheX17Y30KXHZhcmVwc2lsb24gX3t0fV57MX0gXFwgClx2YXJlcHNpbG9uIF97dH1eezJ9JQpcZW5ke2FycmF5fSUKXHJpZ2h0XSAkJAoKPGJyPgoKQW4gdGhhdCB3ZSBoYXZlIG9idGFpbmVkL2lkZW50aWZpZWQgdGhlIHN0cnVjdHVyYWwgVkFSIHVzaW5nIHRoZSBDaG9sZXNreSBkZWNvbXBvc2l0aW9uLCB0aGVuIGltYWdpbmUgdGhhdCB0aGUgc3RydWN0dXJhbCBWQVIgJHlfe3R9ID0gRChMKSBcdmFyZXBzaWxvbl97dH0kIGlzOgoKCiQkeV97dH1+PURfezB9XHZhcmVwc2lsb24gX3t0fStEX3sxfVx2YXJlcHNpbG9uCl97dC0xfStEX3syfVx2YXJlcHNpbG9uIF97dC0yfStEX3szfVx2YXJlcHNpbG9uIF97dC0zfStEX3s0fVx2YXJlcHNpbG9uCl97dC00fSsuLi4kJAoKCgokJHlfe3R9fj1cbGVmdFsgClxiZWdpbnthcnJheX17Y2N9CjAuOSAmIDAuOCBcXCAKMC43ICYgMC42JQpcZW5ke2FycmF5fSUKXHJpZ2h0XSBcdmFyZXBzaWxvbiBfe3R9K1xsZWZ0WyAKXGJlZ2lue2FycmF5fXtjY30KMC41ICYgMC40IFxcIAowLjMgJiAwLjIlClxlbmR7YXJyYXl9JQpccmlnaHRdIFx2YXJlcHNpbG9uIF97dC0xfStcbGVmdFsgClxiZWdpbnthcnJheX17Y2N9CjAuMSAmIC0wLjEgXFwgCi0wLjIgJiAtMC4zJQpcZW5ke2FycmF5fSUKXHJpZ2h0XSBcdmFyZXBzaWxvbiBfe3QtMn0rXGxlZnRbIApcYmVnaW57YXJyYXl9e2NjfQotMC40ICYgLTAuNSBcXCAKLTAuNiAmIC0wLjclClxlbmR7YXJyYXl9JQpccmlnaHRdIFx2YXJlcHNpbG9uIF97dC0zfSArLi4uJCQKCjxicj4KCi0gSXQgd291bGQgYmUgcG9zc2libGUgdGhhdCB0aGUgZWxlbWVudCAoMSwyKSBvZiAkRF97MH0kIHdlcmUgMC44PyBUaGUgYW5zd2VyIGl0J3MgTk8KCgoKPGJyPgo8ZGl2IGNsYXNzID0gImJsdWUiPgoqKlRPIFRISU5LOioqIEl0IHdvdWxkIGJlIHBvc3NpYmxlIHRoYXQgdGhlIGVsZW1lbnQgKDEsMikgb2YgJERfezB9JCB3ZXJlIDAuOD8gVGhlIGFuc3dlciBpdCdzIE5PLCBidXQgKipXSFk/KiogIFJlbWVtYmVyIHRoYXQgd2VyZSBhcmUgdXNpbmcgQ2hvbGVza3kgZGVjb21wb3NpdGlvbiBhbmQgdGhpcyBpbXBsaWVzIHRoYXQgLi4uLi4uICpsb3dlciB0cmlhbmd1bGFyKiAuLi4uCjwvZGl2Pgo8YnI+CgoKSG93IHdlIGNhbiBvYnRhaW4gdGhlIElSRidzIG9mIG91ciBWQVI/IFdlIHdpbGwgc2VlIGF0IHRoZSBMYWIgYnV0LCB3aXRoIHRoZSBgdmFyczo6UHNpKClgIGZ1bmN0aW9uIHlvdSBjYW4gb2J0YWluIHRoZSAkRF97aX0kLCB0aGUgc3RydWN0dXJhbCBtYXRyaWNlcyAodXNpbmcgdGhlIENob2xlc2t5IGRlY29tcG9zaXRpb24pCgoKYGBge3J9ClBzaShvdXJfdmFyLCBuc3RlcCA9IDIpICAjLSBSZXR1cm5zIHRoZSBlc3RpbWF0ZWQgb3J0aG9nb25hbGlzZWQoQ2hvbGVza3kpIGNvZWZmaWNpZW50IG1hdHJpY2VzCmBgYAoKCkFuZCB3aXRoIHRoZSBgdmFyczo6aXJmKClgIGZ1bmN0aW9uIHdlIG9idGFpbiB0aGUgc2FtZSBpbmZvcm1hdGlvbiBidXQgaW4gYSBtb3JlIGNvbnZlbmllbnQgd2F5OiB3ZSBvYnRhaW4gdGhlIElSRgoKCmBgYHtyfQppcmYob3VyX3Zhciwgbi5haGVhZCA9IDQsIGJvb3QgPSBGQUxTRSkKYGBgCgoKV0UgY2FuIGJlIG1vcmUgc3BlY2lmaWMgYW5kIG9ubHkgdG8gZGVtYW5kIHRoZSBJUkYgd2UgYXJlIGludGVyZXN0ZWQgaW46CgpgYGB7cn0KaXJmKG91cl92YXIsIG4uYWhlYWQgPSA1LAogICAgICAgICAgICAgaW1wdWxzZSA9ICJkbFZvbF91cyIsIAogICAgICAgICAgICAgcmVzcG9uc2UgPSBjKCJkbFZvbCIsICJkbFZvbF8xNSIpLCAKICAgICAgICAgICAgIGJvb3QgPSBGQUxTRSwKICAgICAgICAgICAgIGN1bXVsYXRpdmUgPSBGQUxTRSkKYGBgCgoKQnV0IHVzdWFsbHkgeW91IGRvbid0IHNob3cgdGhlIG51bWJlciBidXQgeW91IHBsb3QgdGhlbToKCmBgYHtyfQpteV9pcmYgPC0gaXJmKG91cl92YXIsIG4uYWhlYWQgPSAyNSwKICAgICAgICAgICAgICAgICAgICAgICBpbXB1bHNlID0gImRsVm9sX3VzIiwgCiAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBjKCJkbFZvbCIsICJkbFZvbF8xNSIpLCAKICAgICAgICAgICAgICAgICAgICAgICBib290ID0gRkFMU0UsCiAgICAgICAgICAgICAgICAgICAgICAgY3VtdWxhdGl2ZSA9IEZBTFNFKQoKcGxvdChteV9pcmYpCmBgYAoKCjxicj4KCiMjIyBGaW5hbGx5IHRoZSBGRVZEJ3MKCgotIHRoZSBmaXJzdCBpZGVhIGlzIHRoYXQgdGhlIEZFVkQncyBjb21lcyBmcm9tIHRoZSBJUkYncwoKCiogT25jZSB3ZSBoYXZlIG9ydGhvZ29uYWxpc2VkIElSRidzICh0aGUgJERfe2l9JCAgbWF0cmljZXMgKSwgdGhlIEZFVkQgY2FuIGJlIGVhc2lseSBjb21wdXRlZC4gTGV0J3Mgc2VlIGhvdzogIAoKCiogVGhlIGgtc3RlcCBhaGVhZCBmb3JlY2FzdCBlcnJvciBjYW4gYmUgcmVwcmVzZW50ZWQgYXM6ICAgICAKCgokJHlfe1QraH0teV97VCtoXG1pZCBUfT1EX3swfVx2YXJlcHNpbG9uIF97VCtofStEX3sxfVx2YXJlcHNpbG9uX3tUK2gtMX0rXGNkb3RzICtEX3toLTF9XHZhcmVwc2lsb24gX3tUKzF9JCQKCkFzICRcU2lnbWEgX3tcdmFyZXBzaWxvbiB9PUkkLCB0aGUgZm9yZWNhc3QgZXJyb3IgdmFyaWFuY2Ugb2YgdGhlIGstdGggY29tcG9uZW50IG9mICR5X3tUK2h9JCBpczoKCgokJFxzaWdtYSBfe2t9XnsyfShoKT1cb3ZlcnNldHtLfXtcdW5kZXJzZXR7aj0xfXtcc3VtIH19KGRfe2tqLDB9XnsyfStcY2RvdHMKK2Rfe2tqLGgtMX1eezJ9KSQkCgoKd2hlcmUgJGRfe25tLGp9JCBkZW5vdGVzIHRoZSAkKG4sbSktdGgkIGVsZW1lbnQgb2YgJERfe2p9JC4KCgoKKiBUaGUgcXVhbnRpdHkgJChkX3traiwwfV57Mn0rXGNkb3RzICtkX3traixoLTF9XnsyfSkvXHNpZ21hIF97a31eezJ9KGgpJCByZXByZXNlbnRzIHRoZSBjb250cmlidXRpb24gb2YgdGhlICRqJC10aCBzaG9jayB0byB0aGUgaC1zdGVwIGFoZWFkIGZvcmVjYXN0IGVycm9yIHZhcmlhbmNlICBvZiB2YXJpYWJsZSAkayQuICAKCgoqIERvbid0IHdvcnJ5IHRvbyBtdWNoIG5vdyBmaXJzdGx5IGJlY2F1c2Ugd2Ugd2lsbCB1c3VhbGx5IGRvIHRoaXMgd2l0aCBSIGFuZCBzZWNvbmRseSBiZWNhdXNlIHdlIGFyZSBnb2luZyB0byBwcmFjdGlzZSB0aGUgY2FsY3VsYXRpb25zIGJ5IGhhbmQgYXQgdGhlIExhYiwgYnV0IC4uLi4KCgoKKiBBcyBhbiBleGFtcGxlIHRvIGlsbHVzdHJhdGU6CgoKJCR5X3t0fT1cbGVmdFsgClxiZWdpbnthcnJheX17Y30KWV97dH0gXFwgClBfe3R9JQpcZW5ke2FycmF5fSUKXHJpZ2h0XSBcIFwgXCBcdmFyZXBzaWxvbiBfe3R9PVxsZWZ0WyAKXGJlZ2lue2FycmF5fXtjfQpcdmFyZXBzaWxvbiBfe3R9XnsxfSBcXCAKXHZhcmVwc2lsb24gX3t0fV57Mn0lClxlbmR7YXJyYXl9JQpccmlnaHRdICQkCgoKCiQkeV97dH1+PURfezB9XHZhcmVwc2lsb24gX3t0fStEX3sxfVx2YXJlcHNpbG9uCl97dC0xfStEX3syfVx2YXJlcHNpbG9uIF97dC0yfStEX3szfVx2YXJlcHNpbG9uIF97dC0zfStEX3s0fVx2YXJlcHNpbG9uCl97dC00fSsuLi4kJAoKCgokJHlfe3R9fj1cbGVmdFsgClxiZWdpbnthcnJheX17Y2N9CjAuOSAmIDAuMCBcXCAKMC43ICYgMC42JQpcZW5ke2FycmF5fSUKXHJpZ2h0XSBcdmFyZXBzaWxvbiBfe3R9K1xsZWZ0WyAKXGJlZ2lue2FycmF5fXtjY30KMC41ICYgMC40IFxcIAowLjMgJiAwLjIlClxlbmR7YXJyYXl9JQpccmlnaHRdIFx2YXJlcHNpbG9uIF97dC0xfStcbGVmdFsgClxiZWdpbnthcnJheX17Y2N9CjAuMSAmIC0wLjEgXFwgCi0wLjIgJiAtMC4zJQpcZW5ke2FycmF5fSUKXHJpZ2h0XSBcdmFyZXBzaWxvbiBfe3QtMn0rLi4uJCQKCgoKJCQuLi4rXGxlZnRbIApcYmVnaW57YXJyYXl9e2NjfQotMC40ICYgLTAuNSBcXCAKLTAuNiAmIC0wLjclClxlbmR7YXJyYXl9JQpccmlnaHRdIFx2YXJlcHNpbG9uIF97dC0zfStEX3s0fVx2YXJlcHNpbG9uIF97dC00fSsuLi4kJAoKCjxicj4KCi0gd2Ugd2lsbCBwcmFjdGljZSBhbmQgdW5kZXJzdGFuZCB0aGVtIGF0IHRoZSBMYWIsIGJ1dCB3ZSBjYW4gY2FsY3VsYXRlIHRoZW0gd2l0aCB0aGUgYHZhcnM6OmZldmQoKWAgZnVuY3Rpb246CgpgYGB7cn0KZmV2ZChvdXJfdmFyLCBuLmFoZWFkID0gNSkgIy0gd2l0aCB0aGUgdmFycyBwa2cKYGBgCgpVc3VhbGx5IHRoZSBGRVZEJ3MgYXJlIGFsc28gc2hvd24gaW4gIGEgZ3JhcGhpY2FsIGZhc2hpb246CgoKYGBge3J9CnBsb3QoZmV2ZChvdXJfdmFyKSkKYGBgCgoKCg==</div>




<footer class="footer">
  
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.  <div class="text-muted"><strong> Web</strong> creada por Pedro J. Pérez. &copy;  2020. If you find any bugs please report them to <a href="mailto:pedro.j.perez@uv.es"> pedro.j.perez@uv.es</a>.</div>
  
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("06-Express-course.Rmd");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
